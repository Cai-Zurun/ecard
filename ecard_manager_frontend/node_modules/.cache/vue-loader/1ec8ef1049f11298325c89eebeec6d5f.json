{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/css-loader/dist/cjs.js","mtime":1635231904892},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635231911752},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/postcss-loader/src/index.js","mtime":1635231910975},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnZ1eC14LWltZywgLmItbGF6eSB7DQogIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7DQogIG1heC13aWR0aDogMTAwJTsNCn0NCi5iLWxhenkgew0KICBvcGFjaXR5OiAwOw0KfQ0KDQouYi1sYXp5LmItbG9hZGVkIHsNCiAgb3BhY2l0eTogMTsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/x-img","sourcesContent":["<template>\r\n  <img :src=\"defaultSrc\" :data-src=\"currentSrc\" class=\"vux-x-img\"/>\r\n</template>\r\n\r\n<script>\r\nimport Blazy from 'vux-blazy'\r\nimport { isSupported, detectWebp } from '../../libs/webp-support'\r\nimport uuidMixin from '../../libs/mixin_uuid'\r\n\r\nexport default {\r\n  name: 'x-img',\r\n  mixins: [uuidMixin],\r\n  created () {\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$on('vux:after-view-enter', this.init)\r\n  },\r\n  methods: {\r\n    init () {\r\n      const _this = this\r\n\r\n      this.blazy && this.blazy.destroy()\r\n      this.$el.src = this.defaultSrc\r\n      this.$el.className = this.$el.className.replace('b-loaded', '')\r\n\r\n      this.blazy = new Blazy({\r\n        scroller: this.scroller,\r\n        container: this.container,\r\n        selector: `#vux-ximg-${this.uuid}`,\r\n        offset: _this.offset,\r\n        errorClass: _this.errorClass,\r\n        successClass: _this.successClass,\r\n        separator: _this.separator,\r\n        success (ele) {\r\n          _this.$emit('on-success', _this.src, ele)\r\n        },\r\n        error (ele, msg) {\r\n          _this.$emit('on-error', _this.src, ele, msg)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$el.setAttribute('id', `vux-ximg-${this.uuid}`)\r\n    this.$nextTick(() => {\r\n      setTimeout(() => {\r\n        this.init()\r\n      }, this.delay)\r\n    })\r\n    detectWebp()\r\n  },\r\n  computed: {\r\n    currentSrc () {\r\n      if (isSupported() && this.webpSrc) {\r\n        return this.webpSrc\r\n      }\r\n      return this.src\r\n    }\r\n  },\r\n  props: {\r\n    src: String,\r\n    webpSrc: String,\r\n    defaultSrc: {\r\n      type: String,\r\n      default: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\r\n    },\r\n    errorClass: String,\r\n    successClass: String,\r\n    offset: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    scroller: Object,\r\n    container: String,\r\n    delay: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    separator: String\r\n  },\r\n  watch: {\r\n    src (val) {\r\n      this.init()\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.blazy && this.blazy.destroy()\r\n    this.blazy = null\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$off('vux:after-view-enter', this.init)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.vux-x-img, .b-lazy {\r\n  transition: opacity 500ms ease-in-out;\r\n  max-width: 100%;\r\n}\r\n.b-lazy {\r\n  opacity: 0;\r\n}\r\n\r\n.b-lazy.b-loaded {\r\n  opacity: 1;\r\n}\r\n</style>\r\n"]}]}