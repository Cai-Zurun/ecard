{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup-picker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup-picker/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUGlja2VyIGZyb20gJy4uL3BpY2tlcicNCmltcG9ydCBDZWxsIGZyb20gJy4uL2NlbGwnDQppbXBvcnQgUG9wdXAgZnJvbSAnLi4vcG9wdXAnDQppbXBvcnQgUG9wdXBIZWFkZXIgZnJvbSAnLi4vcG9wdXAtaGVhZGVyJw0KaW1wb3J0IElubGluZURlc2MgZnJvbSAnLi4vaW5saW5lLWRlc2MnDQppbXBvcnQgeyBGbGV4Ym94LCBGbGV4Ym94SXRlbSB9IGZyb20gJy4uL2ZsZXhib3gnDQppbXBvcnQgYXJyYXkyc3RyaW5nIGZyb20gJy4uLy4uL2ZpbHRlcnMvYXJyYXkyU3RyaW5nJw0KaW1wb3J0IHZhbHVlMm5hbWUgZnJvbSAnLi4vLi4vZmlsdGVycy92YWx1ZTJuYW1lJw0KaW1wb3J0IHV1aWRNaXhpbiBmcm9tICcuLi8uLi9saWJzL21peGluX3V1aWQnDQppbXBvcnQgVHJhbnNmZXJEb20gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy90cmFuc2Zlci1kb20nDQoNCmNvbnN0IGdldE9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHsNCiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkNCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncG9wdXAtcGlja2VyJywNCiAgZGlyZWN0aXZlczogew0KICAgIFRyYW5zZmVyRG9tDQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIGlmICh0eXBlb2YgdGhpcy5zaG93ICE9PSAndW5kZWZpbmVkJykgew0KICAgICAgdGhpcy5zaG93VmFsdWUgPSB0aGlzLnNob3cNCiAgICB9DQogIH0sDQogIG1peGluczogW3V1aWRNaXhpbl0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBQaWNrZXIsDQogICAgQ2VsbCwNCiAgICBQb3B1cCwNCiAgICBQb3B1cEhlYWRlciwNCiAgICBGbGV4Ym94LA0KICAgIEZsZXhib3hJdGVtLA0KICAgIElubGluZURlc2MNCiAgfSwNCiAgZmlsdGVyczogew0KICAgIGFycmF5MnN0cmluZywNCiAgICB2YWx1ZTJuYW1lDQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWVUZXh0QWxpZ246IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdyaWdodCcNCiAgICB9LA0KICAgIHRpdGxlOiBTdHJpbmcsDQogICAgY2FuY2VsVGV4dDogU3RyaW5nLA0KICAgIGNvbmZpcm1UZXh0OiBTdHJpbmcsDQogICAgZGF0YTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0ICgpIHsNCiAgICAgICAgcmV0dXJuIFtdDQogICAgICB9DQogICAgfSwNCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLA0KICAgIGNvbHVtbnM6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIGZpeGVkQ29sdW1uczogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMA0KICAgIH0sDQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvd05hbWU6IEJvb2xlYW4sDQogICAgaW5saW5lRGVzYzogW1N0cmluZywgTnVtYmVyLCBBcnJheSwgT2JqZWN0LCBCb29sZWFuXSwNCiAgICBzaG93Q2VsbDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHNob3c6IEJvb2xlYW4sDQogICAgZGlzcGxheUZvcm1hdDogRnVuY3Rpb24sDQogICAgaXNUcmFuc2ZlckRvbTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGNvbHVtbldpZHRoOiBBcnJheSwNCiAgICBwb3B1cFN0eWxlOiBPYmplY3QsDQogICAgcG9wdXBUaXRsZTogU3RyaW5nLA0KICAgIGRpc2FibGVkOiBCb29sZWFuDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgbGFiZWxTdHlsZXMgKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJywNCiAgICAgICAgd2lkdGg6ICh0aGlzLiRwYXJlbnQgJiYgKHRoaXMuJHBhcmVudC5sYWJlbFdpZHRoIHx8IHRoaXMuJHBhcmVudC4kcGFyZW50LmxhYmVsV2lkdGgpKSB8fCAnYXV0bycsDQogICAgICAgIHRleHRBbGlnbjogdGhpcy4kcGFyZW50ICYmICh0aGlzLiRwYXJlbnQubGFiZWxBbGlnbiB8fCB0aGlzLiRwYXJlbnQuJHBhcmVudC5sYWJlbEFsaWduKSwNCiAgICAgICAgbWFyZ2luUmlnaHQ6IHRoaXMuJHBhcmVudCAmJiAodGhpcy4kcGFyZW50LmxhYmVsTWFyZ2luUmlnaHQgfHwgdGhpcy4kcGFyZW50LiRwYXJlbnQubGFiZWxNYXJnaW5SaWdodCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGxhYmVsQ2xhc3MgKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgJ3Z1eC1jZWxsLWp1c3RpZnknOiB0aGlzLiRwYXJlbnQgJiYgKHRoaXMuJHBhcmVudC5sYWJlbEFsaWduID09PSAnanVzdGlmeScgfHwgdGhpcy4kcGFyZW50LiRwYXJlbnQubGFiZWxBbGlnbiA9PT0gJ2p1c3RpZnknKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHZhbHVlMm5hbWUsDQogICAgZ2V0TmFtZVZhbHVlcyAoKSB7DQogICAgICByZXR1cm4gdmFsdWUybmFtZSh0aGlzLmN1cnJlbnRWYWx1ZSwgdGhpcy5kYXRhKQ0KICAgIH0sDQogICAgb25DbGljayAoKSB7DQogICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHsNCiAgICAgICAgdGhpcy5zaG93VmFsdWUgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICBvbkhpZGUgKHR5cGUpIHsNCiAgICAgIHRoaXMuc2hvd1ZhbHVlID0gZmFsc2UNCiAgICAgIGlmICh0eXBlKSB7DQogICAgICAgIHRoaXMuY2xvc2VUeXBlID0gdHJ1ZQ0KICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGdldE9iamVjdCh0aGlzLnRlbXBWYWx1ZSkNCiAgICAgIH0NCiAgICAgIGlmICghdHlwZSkgew0KICAgICAgICB0aGlzLmNsb3NlVHlwZSA9IGZhbHNlDQogICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLnRlbXBWYWx1ZSA9IGdldE9iamVjdCh0aGlzLmN1cnJlbnRWYWx1ZSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgb25Qb3B1cFNob3cgKCkgew0KICAgICAgLy8gcmVzZXQgY2xvc2UgdHlwZSB0byBmYWxzZQ0KICAgICAgdGhpcy5jbG9zZVR5cGUgPSBmYWxzZQ0KICAgICAgdGhpcy4kZW1pdCgnb24tc2hvdycpDQogICAgfSwNCiAgICBvblBvcHVwSGlkZSAodmFsKSB7DQogICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMudGVtcFZhbHVlID0gZ2V0T2JqZWN0KHRoaXMuY3VycmVudFZhbHVlKQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnb24taGlkZScsIHRoaXMuY2xvc2VUeXBlKQ0KICAgIH0sDQogICAgb25QaWNrZXJDaGFuZ2UgKHZhbCkgew0KICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHRoaXMuY3VycmVudFZhbHVlKSAhPT0gSlNPTi5zdHJpbmdpZnkodmFsKSkgew0KICAgICAgICAvLyBpZiBoYXMgdmFsdWUsIHJlcGxhY2UgaXQNCiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoKSB7DQogICAgICAgICAgY29uc3Qgbm93RGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkNCiAgICAgICAgICBpZiAobm93RGF0YSAhPT0gdGhpcy5jdXJyZW50RGF0YSAmJiB0aGlzLmN1cnJlbnREYXRhICE9PSAnW10nKSB7DQogICAgICAgICAgICB0aGlzLnRlbXBWYWx1ZSA9IGdldE9iamVjdCh2YWwpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSBub3dEYXRhDQogICAgICAgIH0gZWxzZSB7IC8vIGlmIG5vIHZhbHVlLCBzdGF5IHF1aWV0DQogICAgICAgICAgLy8gaWYgc2V0IHRvIGF1dG8gdXBkYXRlLCBkbyB1cGRhdGUgdGhlIHZhbHVlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGNvbnN0IF92YWwgPSBnZXRPYmplY3QodmFsKQ0KICAgICAgdGhpcy4kZW1pdCgnb24tc2hhZG93LWNoYW5nZScsIF92YWwsIHZhbHVlMm5hbWUoX3ZhbCwgdGhpcy5kYXRhKS5zcGxpdCgnICcpKQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZSAodmFsKSB7DQogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy50ZW1wVmFsdWUpKSB7DQogICAgICAgIHRoaXMudGVtcFZhbHVlID0gZ2V0T2JqZWN0KHZhbCkNCiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBnZXRPYmplY3QodmFsKQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3VycmVudFZhbHVlICh2YWwpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZ2V0T2JqZWN0KHZhbCkpDQogICAgICB0aGlzLiRlbWl0KCdvbi1jaGFuZ2UnLCBnZXRPYmplY3QodmFsKSkNCiAgICB9LA0KICAgIHNob3cgKHZhbCkgew0KICAgICAgdGhpcy5zaG93VmFsdWUgPSB2YWwNCiAgICB9LA0KICAgIHNob3dWYWx1ZSAodmFsKSB7DQogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2hvdycsIHZhbCkNCiAgICB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBvblNob3dQcm9jZXNzOiBmYWxzZSwNCiAgICAgIHRlbXBWYWx1ZTogZ2V0T2JqZWN0KHRoaXMudmFsdWUpLA0KICAgICAgY2xvc2VUeXBlOiBmYWxzZSwNCiAgICAgIGN1cnJlbnREYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpLCAvLyB1c2VkIGZvciBkZXRlY3RpbmcgaWYgaXQgaXMgYWZ0ZXIgZGF0YSBjaGFuZ2UNCiAgICAgIHNob3dWYWx1ZTogZmFsc2UsDQogICAgICBjdXJyZW50VmFsdWU6IHRoaXMudmFsdWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/popup-picker","sourcesContent":["<template>\r\n  <div class=\"vux-cell-box\">\r\n    <div class=\"weui-cell vux-tap-active\" :class=\"{'weui-cell_access': !disabled}\" @click=\"onClick\" v-show=\"showCell\">\r\n      <div class=\"weui-cell__hd\">\r\n        <slot name=\"title\" label-class=\"weui-label\" :label-style=\"labelStyles\" :label-title=\"title\">\r\n          <label class=\"weui-label\" :class=\"labelClass\" :style=\"labelStyles\" v-if=\"title\" v-html=\"title\"></label>\r\n        </slot>\r\n        <inline-desc v-if=\"inlineDesc\">{{ inlineDesc }}</inline-desc>\r\n      </div>\r\n      <div class=\"vux-cell-primary vux-popup-picker-select-box\">\r\n        <div class=\"vux-popup-picker-select\" :style=\"{textAlign: valueTextAlign}\">\r\n          <span class=\"vux-popup-picker-value vux-cell-value\" v-if=\"!displayFormat && !showName && value.length\">{{value | array2string}}</span>\r\n          <span class=\"vux-popup-picker-value vux-cell-value\" v-if=\"!displayFormat && showName && value.length\">{{value | value2name(data)}}</span>\r\n          <span class=\"vux-popup-picker-value vux-cell-value\" v-if=\"displayFormat && value.length\">{{ displayFormat(value, value2name(value, data)) }}</span>\r\n          <span v-if=\"!value.length && placeholder\" v-text=\"placeholder\" class=\"vux-popup-picker-placeholder vux-cell-placeholder\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"weui-cell__ft\">\r\n      </div>\r\n    </div>\r\n\r\n    <div v-transfer-dom=\"isTransferDom\">\r\n      <popup\r\n      v-model=\"showValue\"\r\n      class=\"vux-popup-picker\"\r\n      :id=\"`vux-popup-picker-${uuid}`\"\r\n      @on-hide=\"onPopupHide\"\r\n      @on-show=\"onPopupShow\"\r\n      :popup-style=\"popupStyle\">\r\n        <div class=\"vux-popup-picker-container\">\r\n          <popup-header\r\n          :left-text=\"cancelText || $t('cancel_text')\"\r\n          :right-text=\"confirmText || $t('confirm_text')\"\r\n          @on-click-left=\"onHide(false)\"\r\n          @on-click-right=\"onHide(true)\"\r\n          :title=\"popupTitle\"></popup-header>\r\n          <picker\r\n          :data=\"data\"\r\n          v-model=\"tempValue\"\r\n          @on-change=\"onPickerChange\"\r\n          :columns=\"columns\"\r\n          :fixed-columns=\"fixedColumns\"\r\n          :container=\"'#vux-popup-picker-'+uuid\"\r\n          :column-width=\"columnWidth\"></picker>\r\n        </div>\r\n      </popup>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<i18n>\r\ncancel_text:\r\n  en: cancel\r\n  zh-CN: 取消\r\nconfirm_text:\r\n  en: ok\r\n  zh-CN: 完成\r\n</i18n>\r\n\r\n<script>\r\nimport Picker from '../picker'\r\nimport Cell from '../cell'\r\nimport Popup from '../popup'\r\nimport PopupHeader from '../popup-header'\r\nimport InlineDesc from '../inline-desc'\r\nimport { Flexbox, FlexboxItem } from '../flexbox'\r\nimport array2string from '../../filters/array2String'\r\nimport value2name from '../../filters/value2name'\r\nimport uuidMixin from '../../libs/mixin_uuid'\r\nimport TransferDom from '../../directives/transfer-dom'\r\n\r\nconst getObject = function (obj) {\r\n  return JSON.parse(JSON.stringify(obj))\r\n}\r\n\r\nexport default {\r\n  name: 'popup-picker',\r\n  directives: {\r\n    TransferDom\r\n  },\r\n  created () {\r\n    if (typeof this.show !== 'undefined') {\r\n      this.showValue = this.show\r\n    }\r\n  },\r\n  mixins: [uuidMixin],\r\n  components: {\r\n    Picker,\r\n    Cell,\r\n    Popup,\r\n    PopupHeader,\r\n    Flexbox,\r\n    FlexboxItem,\r\n    InlineDesc\r\n  },\r\n  filters: {\r\n    array2string,\r\n    value2name\r\n  },\r\n  props: {\r\n    valueTextAlign: {\r\n      type: String,\r\n      default: 'right'\r\n    },\r\n    title: String,\r\n    cancelText: String,\r\n    confirmText: String,\r\n    data: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    placeholder: String,\r\n    columns: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    fixedColumns: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    showName: Boolean,\r\n    inlineDesc: [String, Number, Array, Object, Boolean],\r\n    showCell: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    show: Boolean,\r\n    displayFormat: Function,\r\n    isTransferDom: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    columnWidth: Array,\r\n    popupStyle: Object,\r\n    popupTitle: String,\r\n    disabled: Boolean\r\n  },\r\n  computed: {\r\n    labelStyles () {\r\n      return {\r\n        display: 'block',\r\n        width: (this.$parent && (this.$parent.labelWidth || this.$parent.$parent.labelWidth)) || 'auto',\r\n        textAlign: this.$parent && (this.$parent.labelAlign || this.$parent.$parent.labelAlign),\r\n        marginRight: this.$parent && (this.$parent.labelMarginRight || this.$parent.$parent.labelMarginRight)\r\n      }\r\n    },\r\n    labelClass () {\r\n      return {\r\n        'vux-cell-justify': this.$parent && (this.$parent.labelAlign === 'justify' || this.$parent.$parent.labelAlign === 'justify')\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    value2name,\r\n    getNameValues () {\r\n      return value2name(this.currentValue, this.data)\r\n    },\r\n    onClick () {\r\n      if (!this.disabled) {\r\n        this.showValue = true\r\n      }\r\n    },\r\n    onHide (type) {\r\n      this.showValue = false\r\n      if (type) {\r\n        this.closeType = true\r\n        this.currentValue = getObject(this.tempValue)\r\n      }\r\n      if (!type) {\r\n        this.closeType = false\r\n        if (this.value.length > 0) {\r\n          this.tempValue = getObject(this.currentValue)\r\n        }\r\n      }\r\n    },\r\n    onPopupShow () {\r\n      // reset close type to false\r\n      this.closeType = false\r\n      this.$emit('on-show')\r\n    },\r\n    onPopupHide (val) {\r\n      if (this.value.length > 0) {\r\n        this.tempValue = getObject(this.currentValue)\r\n      }\r\n      this.$emit('on-hide', this.closeType)\r\n    },\r\n    onPickerChange (val) {\r\n      if (JSON.stringify(this.currentValue) !== JSON.stringify(val)) {\r\n        // if has value, replace it\r\n        if (this.value.length) {\r\n          const nowData = JSON.stringify(this.data)\r\n          if (nowData !== this.currentData && this.currentData !== '[]') {\r\n            this.tempValue = getObject(val)\r\n          }\r\n          this.currentData = nowData\r\n        } else { // if no value, stay quiet\r\n          // if set to auto update, do update the value\r\n        }\r\n      }\r\n      const _val = getObject(val)\r\n      this.$emit('on-shadow-change', _val, value2name(_val, this.data).split(' '))\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      if (JSON.stringify(val) !== JSON.stringify(this.tempValue)) {\r\n        this.tempValue = getObject(val)\r\n        this.currentValue = getObject(val)\r\n      }\r\n    },\r\n    currentValue (val) {\r\n      this.$emit('input', getObject(val))\r\n      this.$emit('on-change', getObject(val))\r\n    },\r\n    show (val) {\r\n      this.showValue = val\r\n    },\r\n    showValue (val) {\r\n      this.$emit('update:show', val)\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      onShowProcess: false,\r\n      tempValue: getObject(this.value),\r\n      closeType: false,\r\n      currentData: JSON.stringify(this.data), // used for detecting if it is after data change\r\n      showValue: false,\r\n      currentValue: this.value\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/variable.less';\r\n@import '../../styles/1px.less';\r\n\r\n.vux-cell-primary {\r\n  flex: 1;\r\n}\r\n.vux-cell-box {\r\n  position: relative;\r\n}\r\n.vux-cell-box:not(:first-child):before {\r\n  content: \" \";\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 1px;\r\n  border-top: 1px solid #D9D9D9;\r\n  color: #D9D9D9;\r\n  transform-origin: 0 0;\r\n  transform: scaleY(0.5);\r\n  left: 15px;\r\n}\r\n.vux-popup-picker-header {\r\n  height: 44px;\r\n  color: @popup-picker-header-text-color;\r\n  background-color: @popup-picker-header-bg-color;\r\n  font-size: @popup-picker-header-font-size;\r\n  position: relative;\r\n  &:after {\r\n    .setBottomLine(#e5e5e5);\r\n  }\r\n}\r\n.vux-popup-picker-value {\r\n  /* display: inline-block; */\r\n}\r\n.vux-popup-picker-header-menu {\r\n  text-align: left;\r\n  padding-left: 15px;\r\n  line-height: 44px;\r\n}\r\n.vux-popup-picker-header-menu-right {\r\n  text-align: right;\r\n  padding-right: 15px;\r\n}\r\n.vux-popup-picker-select {\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n.vux-popup-picker-select-box.weui-cell__bd:after {\r\n  content: \" \";\r\n  display: inline-block;\r\n  transform: rotate(45deg);\r\n  height: 6px;\r\n  width: 6px;\r\n  border-width: 2px 2px 0 0;\r\n  border-color: #C8C8CD;\r\n  border-style: solid;\r\n  position: relative;\r\n  top: -2px;\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 15px;\r\n  margin-top: -3px;\r\n}\r\n.vux-popup-picker-cancel {\r\n  color: @popup-picker-header-cancel-text-color;\r\n}\r\n.vux-popup-picker-placeholder {\r\n  color: #999;\r\n}\r\n</style>\r\n"]}]}