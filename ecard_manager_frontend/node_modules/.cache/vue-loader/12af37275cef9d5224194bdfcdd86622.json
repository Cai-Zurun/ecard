{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/css-loader/dist/cjs.js","mtime":1635231904892},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635231911752},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/postcss-loader/src/index.js","mtime":1635231910975},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/less-loader/dist/cjs.js","mtime":1635811351528},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgJy4uLy4uL3N0eWxlcy92YXJpYWJsZS5sZXNzJzsNCkBpbXBvcnQgJy4uLy4uL3N0eWxlcy92dXgtbW9kYWwuY3NzJzsNCg0KLnZ1eC1wb3B1cC1kaWFsb2cgew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIGxlZnQ6IDA7DQogIGJvdHRvbTogMDsNCiAgd2lkdGg6IDEwMCU7DQogIGJhY2tncm91bmQ6IEBwb3B1cC1iYWNrZ3JvdW5kLWNvbG9yOw0KICB6LWluZGV4OiA1MDE7DQogIHRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybTsNCiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMzAwbXM7DQogIG1heC1oZWlnaHQ6IDEwMCU7DQogIG92ZXJmbG93LXk6IGF1dG87DQogIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsNCn0NCi52dXgtcG9wdXAtZGlhbG9nLnZ1eC1wb3B1cC1sZWZ0IHsNCiAgd2lkdGg6IGF1dG87DQogIGhlaWdodDogMTAwJTsNCiAgdG9wOiAwOw0KICByaWdodDogYXV0bzsNCiAgYm90dG9tOiBhdXRvOw0KICBsZWZ0OiAwOw0KfQ0KLnZ1eC1wb3B1cC1kaWFsb2cudnV4LXBvcHVwLXJpZ2h0IHsNCiAgd2lkdGg6IGF1dG87DQogIGhlaWdodDogMTAwJTsNCiAgdG9wOiAwOw0KICByaWdodDogMDsNCiAgYm90dG9tOiBhdXRvOw0KICBsZWZ0OiBhdXRvOw0KfQ0KLnZ1eC1wb3B1cC1kaWFsb2cudnV4LXBvcHVwLXRvcCB7DQogIHdpZHRoOiAxMDAlOw0KICB0b3A6IDA7DQogIHJpZ2h0OiBhdXRvOw0KICBib3R0b206IGF1dG87DQogIGxlZnQ6IDA7DQp9DQoudnV4LXBvcHVwLW1hc2sgew0KICBkaXNwbGF5OiBibG9jazsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB0b3A6IDA7DQogIGxlZnQ6IDA7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTsNCiAgb3BhY2l0eTogMDsNCiAgdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLDAsMCwwKTsNCiAgei1pbmRleDogLTE7DQogIHRyYW5zaXRpb246IG9wYWNpdHkgNDAwbXM7DQp9DQoudnV4LXBvcHVwLW1hc2sudnV4LXBvcHVwLXNob3cgew0KICBvcGFjaXR5OiAxOw0KfQ0KDQoudnV4LXBvcHVwLWFuaW1hdGUtYm90dG9tLWVudGVyLCAudnV4LXBvcHVwLWFuaW1hdGUtYm90dG9tLWxlYXZlLWFjdGl2ZSB7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7DQp9DQoNCi52dXgtcG9wdXAtYW5pbWF0ZS1sZWZ0LWVudGVyLCAudnV4LXBvcHVwLWFuaW1hdGUtbGVmdC1sZWF2ZS1hY3RpdmUgew0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAwKTsNCn0NCg0KLnZ1eC1wb3B1cC1hbmltYXRlLXJpZ2h0LWVudGVyLCAudnV4LXBvcHVwLWFuaW1hdGUtcmlnaHQtbGVhdmUtYWN0aXZlIHsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKTsNCn0NCg0KLnZ1eC1wb3B1cC1hbmltYXRlLXRvcC1lbnRlciwgLnZ1eC1wb3B1cC1hbmltYXRlLXRvcC1sZWF2ZS1hY3RpdmUgew0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIC0xMDAlLCAwKTsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+MA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/popup","sourcesContent":["<template>\r\n  <transition\r\n    :name=\"`vux-popup-animate-${position}`\">\r\n    <div\r\n      v-show=\"show && !initialShow\"\r\n      :style=\"styles\"\r\n      class=\"vux-popup-dialog\"\r\n      :class=\"[`vux-popup-${position}`, show ? 'vux-popup-show' : '']\">\r\n        <slot v-if=\"shouldRenderBody\"></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport Popup from './popup'\r\nimport dom from '../../libs/dom'\r\n\r\nexport default {\r\n  name: 'popup',\r\n  props: {\r\n    value: Boolean,\r\n    height: {\r\n      type: String,\r\n      default: 'auto'\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: 'auto'\r\n    },\r\n    showMask: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isTransparent: Boolean,\r\n    hideOnBlur: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: 'bottom'\r\n    },\r\n    maxHeight: String,\r\n    popupStyle: Object,\r\n    hideOnDeactivated: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    shouldRerenderOnShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    shouldScrollTopOnShow: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created () {\r\n    // get global layout config\r\n    if (this.$vux && this.$vux.config && this.$vux.config.$layout === 'VIEW_BOX') {\r\n      this.layout = 'VIEW_BOX'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$overflowScrollingList = document.querySelectorAll('.vux-fix-safari-overflow-scrolling')\r\n    this.$nextTick(() => {\r\n      const _this = this\r\n      this.popup = new Popup({\r\n        showMask: _this.showMask,\r\n        container: _this.$el,\r\n        hideOnBlur: _this.hideOnBlur,\r\n        onOpen () {\r\n          _this.fixSafariOverflowScrolling('auto')\r\n          _this.show = true\r\n        },\r\n        onClose () {\r\n          _this.show = false\r\n          if (window.__$vuxPopups && Object.keys(window.__$vuxPopups).length > 1) return\r\n          if (document.querySelector('.vux-popup-dialog.vux-popup-mask-disabled')) return\r\n          setTimeout(() => {\r\n            _this.fixSafariOverflowScrolling('touch')\r\n          }, 300)\r\n        }\r\n      })\r\n      if (this.value) {\r\n        this.popup.show()\r\n      }\r\n      this.initialShow = false\r\n    })\r\n  },\r\n  deactivated () {\r\n    if (this.hideOnDeactivated) {\r\n      this.show = false\r\n    }\r\n    this.removeModalClassName()\r\n  },\r\n  methods: {\r\n    /**\r\n    * https://github.com/airyland/vux/issues/311\r\n    * https://benfrain.com/z-index-stacking-contexts-experimental-css-and-ios-safari/\r\n    */\r\n    fixSafariOverflowScrolling (type) {\r\n      if (!this.$overflowScrollingList.length) return\r\n      // if (!/iphone/i.test(navigator.userAgent)) return\r\n      for (let i = 0; i < this.$overflowScrollingList.length; i++) {\r\n        this.$overflowScrollingList[i].style.webkitOverflowScrolling = type\r\n      }\r\n    },\r\n    removeModalClassName () {\r\n      this.layout === 'VIEW_BOX' && dom.removeClass(document.body, 'vux-modal-open')\r\n    },\r\n    doShow () {\r\n      this.popup && this.popup.show()\r\n      this.$emit('on-show')\r\n      this.fixSafariOverflowScrolling('auto')\r\n      this.layout === 'VIEW_BOX' && dom.addClass(document.body, 'vux-modal-open')\r\n      if (!this.hasFirstShow) {\r\n        this.$emit('on-first-show')\r\n        this.hasFirstShow = true\r\n      }\r\n    },\r\n    scrollTop () {\r\n      this.$nextTick(() => {\r\n        this.$el.scrollTop = 0\r\n        const box = this.$el.querySelectorAll('.vux-scrollable')\r\n        if (box.length) {\r\n          for (let i = 0; i < box.length; i++) {\r\n            box[i].scrollTop = 0\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      layout: '',\r\n      initialShow: true,\r\n      hasFirstShow: false,\r\n      shouldRenderBody: true,\r\n      show: this.value\r\n    }\r\n  },\r\n  computed: {\r\n    styles () {\r\n      const styles = {}\r\n      if (!this.position || this.position === 'bottom' || this.position === 'top') {\r\n        styles.height = this.height\r\n      } else {\r\n        styles.width = this.width\r\n      }\r\n\r\n      if (this.maxHeight) {\r\n        styles['max-height'] = this.maxHeight\r\n      }\r\n\r\n      this.isTransparent && (styles['background'] = 'transparent')\r\n      if (this.popupStyle) {\r\n        for (let i in this.popupStyle) {\r\n          styles[i] = this.popupStyle[i]\r\n        }\r\n      }\r\n      return styles\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      this.show = val\r\n    },\r\n    show (val) {\r\n      this.$emit('input', val)\r\n      if (val) {\r\n        // rerender body\r\n        if (this.shouldRerenderOnShow) {\r\n          this.shouldRenderBody = false\r\n          this.$nextTick(() => {\r\n            this.scrollTop()\r\n            this.shouldRenderBody = true\r\n            this.doShow()\r\n          })\r\n        } else {\r\n          if (this.shouldScrollTopOnShow) {\r\n            this.scrollTop()\r\n          }\r\n          this.doShow()\r\n        }\r\n      } else {\r\n        this.$emit('on-hide')\r\n        this.show = false\r\n        this.popup.hide(false)\r\n        setTimeout(() => {\r\n          if (!document.querySelector('.vux-popup-dialog.vux-popup-show')) {\r\n            this.fixSafariOverflowScrolling('touch')\r\n          }\r\n          this.removeModalClassName()\r\n        }, 200)\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.popup && this.popup.destroy()\r\n    this.fixSafariOverflowScrolling('touch')\r\n    this.removeModalClassName()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/variable.less';\r\n@import '../../styles/vux-modal.css';\r\n\r\n.vux-popup-dialog {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: @popup-background-color;\r\n  z-index: 501;\r\n  transition-property: transform;\r\n  transition-duration: 300ms;\r\n  max-height: 100%;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n.vux-popup-dialog.vux-popup-left {\r\n  width: auto;\r\n  height: 100%;\r\n  top: 0;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 0;\r\n}\r\n.vux-popup-dialog.vux-popup-right {\r\n  width: auto;\r\n  height: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: auto;\r\n  left: auto;\r\n}\r\n.vux-popup-dialog.vux-popup-top {\r\n  width: 100%;\r\n  top: 0;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 0;\r\n}\r\n.vux-popup-mask {\r\n  display: block;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  tap-highlight-color: rgba(0,0,0,0);\r\n  z-index: -1;\r\n  transition: opacity 400ms;\r\n}\r\n.vux-popup-mask.vux-popup-show {\r\n  opacity: 1;\r\n}\r\n\r\n.vux-popup-animate-bottom-enter, .vux-popup-animate-bottom-leave-active {\r\n  transform: translate3d(0, 100%, 0);\r\n}\r\n\r\n.vux-popup-animate-left-enter, .vux-popup-animate-left-leave-active {\r\n  transform: translate3d(-100%, 0, 0);\r\n}\r\n\r\n.vux-popup-animate-right-enter, .vux-popup-animate-right-leave-active {\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n\r\n.vux-popup-animate-top-enter, .vux-popup-animate-top-leave-active {\r\n  transform: translate3d(0, -100%, 0);\r\n}\r\n</style>\r\n"]}]}