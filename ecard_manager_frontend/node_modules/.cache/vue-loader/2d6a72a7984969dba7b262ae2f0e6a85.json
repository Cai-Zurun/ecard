{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/marquee/marquee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/marquee/marquee.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdtYXJxdWVlJywNCiAgcHJvcHM6IHsNCiAgICBpbnRlcnZhbDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjAwMA0KICAgIH0sDQogICAgZHVyYXRpb246IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDMwMA0KICAgIH0sDQogICAgZGlyZWN0aW9uOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAndXAnDQogICAgfSwNCiAgICBpdGVtSGVpZ2h0OiBOdW1iZXINCiAgfSwNCiAgYmVmb3JlRGVzdHJveSAoKSB7DQogICAgdGhpcy5kZXN0cm95KCkNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlblRyYW5zbGF0ZVk6IDAsDQogICAgICBoZWlnaHQ6ICcnLA0KICAgICAgbGVuZ3RoOiAwLA0KICAgICAgY3VycmVudEluZGV4OiAwLA0KICAgICAgbm9BbmltYXRlOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGRlc3Ryb3kgKCkgew0KICAgICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpDQogICAgfSwNCiAgICBpbml0ICgpIHsNCiAgICAgIHRoaXMuZGVzdHJveSgpDQoNCiAgICAgIGlmICh0aGlzLmNsb25lTm9kZSkgew0KICAgICAgICB0aGlzLiRyZWZzLmJveC5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTm9kZSkNCiAgICAgIH0NCg0KICAgICAgdGhpcy5jbG9uZU5vZGUgPSBudWxsDQogICAgICBsZXQgZmlyc3RJdGVtID0gdGhpcy4kcmVmcy5ib3guZmlyc3RFbGVtZW50Q2hpbGQNCiAgICAgIGlmICghZmlyc3RJdGVtKSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLiRyZWZzLmJveC5jaGlsZHJlbi5sZW5ndGgNCiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5pdGVtSGVpZ2h0IHx8IGZpcnN0SXRlbS5vZmZzZXRIZWlnaHQNCg0KICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndXAnKSB7DQogICAgICAgIHRoaXMuY2xvbmVOb2RlID0gZmlyc3RJdGVtLmNsb25lTm9kZSh0cnVlKQ0KICAgICAgICB0aGlzLiRyZWZzLmJveC5hcHBlbmRDaGlsZCh0aGlzLmNsb25lTm9kZSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY2xvbmVOb2RlID0gdGhpcy4kcmVmcy5ib3gubGFzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSkNCiAgICAgICAgdGhpcy4kcmVmcy5ib3guaW5zZXJ0QmVmb3JlKHRoaXMuY2xvbmVOb2RlLCBmaXJzdEl0ZW0pDQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgc3RhcnQgKCkgew0KICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpIHRoaXMuZ28oZmFsc2UpDQogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpIHsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCArPSAxDQogICAgICAgICAgdGhpcy5jdXJyZW5UcmFuc2xhdGVZID0gLXRoaXMuY3VycmVudEluZGV4ICogdGhpcy5oZWlnaHQNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCAtPSAxDQogICAgICAgICAgdGhpcy5jdXJyZW5UcmFuc2xhdGVZID0gLSh0aGlzLmN1cnJlbnRJbmRleCArIDEpICogdGhpcy5oZWlnaHQNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IHRoaXMubGVuZ3RoKSB7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmdvKHRydWUpDQogICAgICAgICAgfSwgdGhpcy5kdXJhdGlvbikNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gLTEpIHsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuZ28oZmFsc2UpDQogICAgICAgICAgfSwgdGhpcy5kdXJhdGlvbikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm5vQW5pbWF0ZSA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0sIHRoaXMuaW50ZXJ2YWwgKyB0aGlzLmR1cmF0aW9uKQ0KICAgIH0sDQogICAgZ28gKHRvRmlyc3QpIHsNCiAgICAgIHRoaXMubm9BbmltYXRlID0gdHJ1ZQ0KICAgICAgaWYgKHRvRmlyc3QpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwDQogICAgICAgIHRoaXMuY3VycmVuVHJhbnNsYXRlWSA9IDANCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5sZW5ndGggLSAxDQogICAgICAgIHRoaXMuY3VycmVuVHJhbnNsYXRlWSA9IC0odGhpcy5jdXJyZW50SW5kZXggKyAxKSAqIHRoaXMuaGVpZ2h0DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["marquee.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"marquee.vue","sourceRoot":"node_modules/vux/src/components/marquee","sourcesContent":["<template>\r\n  <div class=\"vux-marquee\" :style=\"{height: height + 'px'}\">\r\n    <ul class=\"vux-marquee-box\" ref=\"box\" :style=\"{transform: `translate3d(0,${currenTranslateY}px,0)`, transition: `transform ${noAnimate ? 0 : duration}ms`}\">\r\n      <slot></slot>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'marquee',\r\n  props: {\r\n    interval: {\r\n      type: Number,\r\n      default: 2000\r\n    },\r\n    duration: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    direction: {\r\n      type: String,\r\n      default: 'up'\r\n    },\r\n    itemHeight: Number\r\n  },\r\n  beforeDestroy () {\r\n    this.destroy()\r\n  },\r\n  data () {\r\n    return {\r\n      currenTranslateY: 0,\r\n      height: '',\r\n      length: 0,\r\n      currentIndex: 0,\r\n      noAnimate: false\r\n    }\r\n  },\r\n  methods: {\r\n    destroy () {\r\n      this.timer && clearInterval(this.timer)\r\n    },\r\n    init () {\r\n      this.destroy()\r\n\r\n      if (this.cloneNode) {\r\n        this.$refs.box.removeChild(this.cloneNode)\r\n      }\r\n\r\n      this.cloneNode = null\r\n      let firstItem = this.$refs.box.firstElementChild\r\n      if (!firstItem) {\r\n        return false\r\n      }\r\n      this.length = this.$refs.box.children.length\r\n      this.height = this.itemHeight || firstItem.offsetHeight\r\n\r\n      if (this.direction === 'up') {\r\n        this.cloneNode = firstItem.cloneNode(true)\r\n        this.$refs.box.appendChild(this.cloneNode)\r\n      } else {\r\n        this.cloneNode = this.$refs.box.lastElementChild.cloneNode(true)\r\n        this.$refs.box.insertBefore(this.cloneNode, firstItem)\r\n      }\r\n      return true\r\n    },\r\n    start () {\r\n      if (this.direction === 'down') this.go(false)\r\n      this.timer = setInterval(() => {\r\n        if (this.direction === 'up') {\r\n          this.currentIndex += 1\r\n          this.currenTranslateY = -this.currentIndex * this.height\r\n        } else {\r\n          this.currentIndex -= 1\r\n          this.currenTranslateY = -(this.currentIndex + 1) * this.height\r\n        }\r\n        if (this.currentIndex === this.length) {\r\n          setTimeout(() => {\r\n            this.go(true)\r\n          }, this.duration)\r\n        } else if (this.currentIndex === -1) {\r\n          setTimeout(() => {\r\n            this.go(false)\r\n          }, this.duration)\r\n        } else {\r\n          this.noAnimate = false\r\n        }\r\n      }, this.interval + this.duration)\r\n    },\r\n    go (toFirst) {\r\n      this.noAnimate = true\r\n      if (toFirst) {\r\n        this.currentIndex = 0\r\n        this.currenTranslateY = 0\r\n      } else {\r\n        this.currentIndex = this.length - 1\r\n        this.currenTranslateY = -(this.currentIndex + 1) * this.height\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.vux-marquee {\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.vux-marquee-box {\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  \r\n  li {\r\n    margin: 0;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"]}]}