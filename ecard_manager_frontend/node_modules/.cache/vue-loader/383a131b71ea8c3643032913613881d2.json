{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/v-chart/v-chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/v-chart/v-chart.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCi8vIGNvbnN0IHNoYXBlTWFwID0gew0KLy8gICBwb2ludDogWydjaXJjbGUnLCAnaG9sbG93Q2lyY2xlJywgJ3JlY3QnXSwNCi8vICAgbGluZTogWydsaW5lJywgJ3Ntb290aCcsICdkYXNoJ10sDQovLyAgIGFyZWE6IFsnYXJlYScsICdzbW9vdGgnXSwNCi8vICAgaW50ZXJ2YWw6IFsncmVjdCddLA0KLy8gICBwb2x5Z29uOiBbJ3BvbHlnb24nXSwNCi8vICAgc2NoZW1hOiBbJ2NhbmRsZSddDQovLyB9DQoNCmltcG9ydCBGMiBmcm9tICdAYW50di9mMicNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHdpZHRoOiBOdW1iZXIsDQogICAgaGVpZ2h0OiBOdW1iZXIsDQogICAgYmFja2dyb3VuZENvbG9yOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnI2ZmZicNCiAgICB9LA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IEFycmF5DQogICAgfSwNCiAgICB0b29sdGlwOiB7DQogICAgICB0eXBlOiBPYmplY3QNCiAgICB9LA0KICAgIHNoYXBlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnbGluZScNCiAgICB9LA0KICAgIHByZXZlbnRSZW5kZXI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgcHJldmVudERlZmF1bHQ6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHhGaWVsZDogJycsDQogICAgICB5RmllbGQ6ICcnLA0KICAgICAgaGFzUG9pbnQ6IGZhbHNlLA0KICAgICAgcG9pbnRTdHlsZToge30sDQoNCiAgICAgIGd1aWRlVGFnczogW10sDQoNCiAgICAgIGFyZWFPcHRpb25zOiBudWxsLA0KICAgICAgbGluZU9wdGlvbnM6IG51bGwsDQogICAgICB0b29sdGlwT3B0aW9uczogbnVsbCwNCiAgICAgIGxlZ2VuZE9wdGlvbnM6IG51bGwsDQoNCiAgICAgIGJhck9wdGlvbnM6IG51bGwsDQoNCiAgICAgIHBpZU9wdGlvbnM6IG51bGwsDQoNCiAgICAgIGd1aWRlT3B0aW9uczogbnVsbCwNCg0KICAgICAgcG9pbnRPcHRpb25zOiBudWxsLA0KDQogICAgICB4RmllbGRPcHRpb25zOiB7fSwNCiAgICAgIHlGaWVsZE9wdGlvbnM6IHt9LA0KDQogICAgICBndWlkZXM6IFtdLA0KDQogICAgICBzZXJpZXNGaWVsZDogJycsDQoNCiAgICAgIHhBeGlzT3B0aW9uczogbnVsbCwNCiAgICAgIHlBeGlzT3B0aW9uczogbnVsbCwNCg0KICAgICAgYXV0b0FsaWduWEF4aXM6IHVuZGVmaW5lZA0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjdXJyZW50RGF0YSAoKSB7DQogICAgICBpZiAodGhpcy5waWVPcHRpb25zKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2xpY2UoKS5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgaXRlbS5hID0gJzEnDQogICAgICAgICAgcmV0dXJuIGl0ZW0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHJldHVybiB0aGlzLmRhdGENCiAgICB9LA0KICAgIGN1cnJlbnRYRmllbGRPcHRpb25zICh2YWwpIHsNCiAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gew0KICAgICAgICB0aWNrQ291bnQ6IDUNCiAgICAgIH0NCiAgICAgIGlmICghdGhpcy5iYXJPcHRpb25zKSB7DQogICAgICAgIGRlZmF1bHRPcHRpb25zLnJhbmdlID0gWzAsIDFdDQogICAgICB9IGVsc2Ugew0KICAgICAgICBkZWZhdWx0T3B0aW9ucy50aWNrQ291bnQgPSAwDQogICAgICB9DQogICAgICAvLyBhdXRvIGRldGVjdCBpZiBpcyB0aW1lQ2F0DQogICAgICBpZiAoIXRoaXMueEZpZWxkT3B0aW9ucykgew0KICAgICAgICBpZiAoL1xkezR9LVxkezJ9LVxkezJ9Ly50ZXN0KHRoaXMuZGF0YVswXVt0aGlzLnhGaWVsZF0pKSB7DQogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB7DQogICAgICAgICAgICB0eXBlOiAndGltZUNhdCcsDQogICAgICAgICAgICB0aWNrQ291bnQ6IDMNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9ucw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgdGhpcy54RmllbGRPcHRpb25zKQ0KICAgIH0sDQogICAgY3VycmVudFlGaWVsZE9wdGlvbnMgKHZhbCkgew0KICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7DQogICAgICAgIHRpY2tDb3VudDogNQ0KICAgICAgfQ0KICAgICAgaWYgKCF2YWwpIHsNCiAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zDQogICAgICB9DQoNCiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgdGhpcy55RmllbGRPcHRpb25zKQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBkYXRhICgpIHsNCiAgICAgIHRoaXMuY2hhbmdlRGF0YSh0aGlzLmRhdGEpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25Ub3VjaHN0YXJ0IChlKSB7DQogICAgICB0aGlzLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKQ0KICAgIH0sDQogICAgc2V0IChuYW1lLCBvcHRpb25zKSB7DQogICAgICB0aGlzW2Ake25hbWV9T3B0aW9uc2BdID0gb3B0aW9ucw0KICAgIH0sDQogICAgY2hhbmdlRGF0YSAoZGF0YSkgew0KICAgICAgdGhpcy5jaGFydCAmJiB0aGlzLmNoYXJ0LmNoYW5nZURhdGEoZGF0YSkNCiAgICB9LA0KICAgIHNldEZpZWxkIChheGlzLCBpdGVtKSB7DQogICAgICB0aGlzW2Ake2F4aXN9RmllbGRgXSA9IGl0ZW0NCiAgICB9LA0KICAgIHJlcGFpbnQgKCkgew0KICAgICAgdGhpcy5jaGFydC5yZXBhaW50KCkNCiAgICB9LA0KICAgIHJlcmVuZGVyICgpIHsNCiAgICAgIHRoaXMuZGVzdHJveSgpDQogICAgICB0aGlzLnJlbmRlcigpDQogICAgfSwNCiAgICBkZXN0cm95ICgpIHsNCiAgICAgIHRoaXMuY2hhcnQgJiYgdGhpcy5jaGFydC5kZXN0cm95KCkNCiAgICB9LA0KICAgIGFkZEd1aWRlIChvcHRpb25zKSB7DQogICAgICB0aGlzLmd1aWRlcy5wdXNoKG9wdGlvbnMpDQogICAgfSwNCiAgICBzZXRTY2FsZSAob3B0aW9ucykgew0KICAgICAgaWYgKG9wdGlvbnMueCkgew0KICAgICAgICB0aGlzLnhGaWVsZE9wdGlvbnMgPSBvcHRpb25zLngNCiAgICAgIH0NCiAgICAgIGlmIChvcHRpb25zLnkpIHsNCiAgICAgICAgdGhpcy55RmllbGRPcHRpb25zID0gb3B0aW9ucy55DQogICAgICB9DQogICAgfSwNCiAgICBzZXRBeGlzIChvcHRpb25zKSB7DQogICAgICBpZiAob3B0aW9ucy54KSB7DQogICAgICAgIHRoaXMueEF4aXNPcHRpb25zID0gb3B0aW9ucw0KICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYXV0b0FsaWduICE9PSAndW5kZWZpbmVkJykgew0KICAgICAgICAgIHRoaXMuYXV0b0FsaWduWEF4aXMgPSBvcHRpb25zLmF1dG9BbGlnbg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAob3B0aW9ucy55KSB7DQogICAgICAgIHRoaXMueUF4aXNPcHRpb25zID0gb3B0aW9ucw0KICAgICAgfQ0KICAgIH0sDQogICAgYnVpbGRDb2xvciAoYykgew0KICAgICAgbGV0IGNvbG9yID0gYyB8fCAnJw0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykgJiYgQXJyYXkuaXNBcnJheShjWzBdKSkgew0KICAgICAgICBjb25zdCBjdHggPSB0aGlzLiRyZWZzLmNoYXJ0LmdldENvbnRleHQoJzJkJykNCiAgICAgICAgY29sb3IgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIDApDQogICAgICAgIGMuZm9yRWFjaChjID0+IHsNCiAgICAgICAgICBjb2xvci5hZGRDb2xvclN0b3AoY1swXSwgY1sxXSkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBjb2xvcg0KICAgIH0sDQogICAgc2V0UGllIChvcHRpb25zID0ge30pIHsNCiAgICAgIHRoaXMucGllT3B0aW9ucyA9IG9wdGlvbnMNCiAgICB9LA0KICAgIHNldEJhciAob3B0aW9ucyA9IHt9KSB7DQogICAgICB0aGlzLmJhck9wdGlvbnMgPSBvcHRpb25zDQogICAgfSwNCiAgICBzZXRMZWdlbmQgKG9wdGlvbnMpIHsNCiAgICAgIHRoaXMubGVnZW5kT3B0aW9ucyA9IG9wdGlvbnMNCiAgICB9LA0KICAgIHNldFRvb2x0aXAgKG9wdGlvbnMpIHsNCiAgICAgIHRoaXMudG9vbHRpcE9wdGlvbnMgPSBvcHRpb25zDQogICAgfSwNCiAgICBzZXRBcmVhIChvcHRpb25zKSB7DQogICAgICB0aGlzLmFyZWFPcHRpb25zID0gb3B0aW9ucw0KICAgIH0sDQogICAgc2V0R3VpZGUgKG9wdGlvbnMpIHsNCiAgICAgIHRoaXMuZ3VpZGVPcHRpb25zID0gb3B0aW9ucw0KICAgIH0sDQogICAgc2V0TGluZSAob3B0aW9ucykgew0KICAgICAgdGhpcy5saW5lT3B0aW9ucyA9IG9wdGlvbnMNCiAgICB9LA0KICAgIHNldFBvaW50IChvcHRpb25zKSB7DQogICAgICB0aGlzLnBvaW50T3B0aW9ucyA9IG9wdGlvbnMNCiAgICB9LA0KICAgIGJ1aWxkUG9zaXRpb24gKCkgew0KICAgICAgcmV0dXJuIGAke3RoaXMueEZpZWxkfSoke3RoaXMueUZpZWxkfWANCiAgICB9LA0KICAgIGdldEZpZWxkcyAoKSB7DQogICAgICBpZiAodGhpcy54RmllbGQgJiYgdGhpcy55RmllbGQpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLmxlbmd0aCkgew0KICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5kYXRhWzBdKQ0KICAgICAgICBpZiAoa2V5cy5sZW5ndGggPj0gMikgew0KICAgICAgICAgIGxldCBpbmRleGVzID0gWzAsIDFdDQogICAgICAgICAgY29uc3QgdHlwZTEgPSB0eXBlb2YgdGhpcy5kYXRhWzBdW2tleXNbMF1dDQogICAgICAgICAgY29uc3QgdHlwZTIgPSB0eXBlb2YgdGhpcy5kYXRhWzBdW2tleXNbMV1dDQogICAgICAgICAgaWYgKHR5cGUxID09PSAnbnVtYmVyJyAmJiB0eXBlMiAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgICAgIGluZGV4ZXMgPSBbMSwgMF0NCiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUxID09PSAnc3RyaW5nJyAmJiB0eXBlMiA9PT0gJ3N0cmluZycgJiYga2V5c1syXSA9PT0gJ3ZhbHVlJykgew0KICAgICAgICAgICAgaW5kZXhlcyA9IFswLCAyXQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnhGaWVsZCA9IGtleXNbaW5kZXhlc1swXV0NCiAgICAgICAgICB0aGlzLnlGaWVsZCA9IGtleXNbaW5kZXhlc1sxXV0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVuZGVyICgpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgICAgbGV0IGF1dG9BbGlnblhBeGlzID0gdGhpcy5hdXRvQWxpZ25YQXhpcw0KICAgICAgaWYgKHRoaXMuYmFyT3B0aW9ucykgew0KICAgICAgICBhdXRvQWxpZ25YQXhpcyA9IGZhbHNlDQogICAgICB9DQogICAgICBpZiAodHlwZW9mIGF1dG9BbGlnblhBeGlzID09PSAndW5kZWZpbmVkJykgew0KICAgICAgICBhdXRvQWxpZ25YQXhpcyA9IHRydWUNCiAgICAgIH0NCiAgICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGgNCiAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodA0KICAgICAgY29uc3QgY2hhcnQgPSBuZXcgRjIuQ2hhcnQoew0KICAgICAgICBlbDogdGhpcy4kcmVmcy5jaGFydCwNCiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGggfHwgd2luZG93V2lkdGgsDQogICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgPyB0aGlzLmhlaWdodCA6ICh3aW5kb3dXaWR0aCA+IHdpbmRvd0hlaWdodCA/ICh3aW5kb3dIZWlnaHQgLSA1NCkgOiB3aW5kb3dXaWR0aCAqIDAuNzA3KSwNCiAgICAgICAgcGl4ZWxSYXRpbzogdGhpcy4kZGV2aWNlUGl4ZWxSYXRpbyB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywNCiAgICAgICAgLi4udGhpcy4kYXR0cnMNCiAgICAgIH0pDQogICAgICBpZiAodGhpcy5wcmV2ZW50UmVuZGVyKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ29uLXJlbmRlcicsIHsgY2hhcnQgfSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGlmICghdGhpcy5kYXRhIHx8ICF0aGlzLmRhdGEubGVuZ3RoKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICB0aGlzLmdldEZpZWxkcygpDQoNCiAgICAgIGNoYXJ0LnNvdXJjZSh0aGlzLmN1cnJlbnREYXRhKQ0KDQogICAgICBjaGFydC5zY2FsZSh0aGlzLnhGaWVsZCwgdGhpcy5jdXJyZW50WEZpZWxkT3B0aW9ucykNCiAgICAgIGNoYXJ0LnNjYWxlKHRoaXMueUZpZWxkLCB0aGlzLmN1cnJlbnRZRmllbGRPcHRpb25zKQ0KDQogICAgICBpZiAodGhpcy5sZWdlbmRPcHRpb25zKSB7DQogICAgICAgIGlmICh0aGlzLmxlZ2VuZE9wdGlvbnMuZGlzYWJsZWQpIHsNCiAgICAgICAgICBjaGFydC5sZWdlbmQoZmFsc2UpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY2hhcnQubGVnZW5kKHRoaXMubGVnZW5kT3B0aW9ucykNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy50b29sdGlwT3B0aW9ucykgew0KICAgICAgICBpZiAodGhpcy5iYXJPcHRpb25zKSB7DQogICAgICAgICAgdGhpcy50b29sdGlwT3B0aW9ucy5zaG93Q3Jvc3NoYWlycyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXBPcHRpb25zLmRpc2FibGVkKSB7DQogICAgICAgICAgLy8gaGFuZGxlIHNob3ctdmFsdWUtaW4tbGVnZW5kDQogICAgICAgICAgaWYgKHRoaXMudG9vbHRpcE9wdGlvbnMuc2hvd1ZhbHVlSW5MZWdlbmQpIHsNCiAgICAgICAgICAgIGNvbnN0IGN1c3RvbVRvb2x0aXAgPSB7DQogICAgICAgICAgICAgIGN1c3RvbTogdHJ1ZSwgLy8g6Ieq5a6a5LmJIHRvb2x0aXAg5YaF5a655qGGDQogICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAob2JqKSB7DQogICAgICAgICAgICAgICAgY29uc3QgbGVnZW5kID0gX3RoaXMuY2hhcnQuZ2V0KCdsZWdlbmRDb250cm9sbGVyJykubGVnZW5kcy50b3BbMF0NCiAgICAgICAgICAgICAgICBjb25zdCB0b29sdGlwSXRlbXMgPSBvYmouaXRlbXMNCiAgICAgICAgICAgICAgICBjb25zdCBsZWdlbmRJdGVtcyA9IGxlZ2VuZC5pdGVtcw0KICAgICAgICAgICAgICAgIGNvbnN0IG1hcCA9IHt9DQogICAgICAgICAgICAgICAgbGVnZW5kSXRlbXMubWFwKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgbWFwW2l0ZW0ubmFtZV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdG9vbHRpcEl0ZW1zLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IGl0ZW0NCiAgICAgICAgICAgICAgICAgIGlmIChtYXBbbmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgbWFwW25hbWVdLnZhbHVlID0gdmFsdWUNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIGxlZ2VuZC5zZXRJdGVtcyhPYmplY3QudmFsdWVzKG1hcCkpDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIG9uSGlkZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGNvbnN0IFZDaGFydCA9IF90aGlzLmNoYXJ0DQogICAgICAgICAgICAgICAgY29uc3QgbGVnZW5kID0gVkNoYXJ0LmdldCgnbGVnZW5kQ29udHJvbGxlcicpLmxlZ2VuZHMudG9wWzBdDQogICAgICAgICAgICAgICAgbGVnZW5kLnNldEl0ZW1zKFZDaGFydC5nZXRMZWdlbmRJdGVtcygpLnR5cGUpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMudG9vbHRpcE9wdGlvbnMgPSB7DQogICAgICAgICAgICAgIC4uLnRoaXMudG9vbHRpcE9wdGlvbnMsDQogICAgICAgICAgICAgIC4uLmN1c3RvbVRvb2x0aXANCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgY2hhcnQudG9vbHRpcCh0aGlzLnRvb2x0aXBPcHRpb25zKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNoYXJ0LnRvb2x0aXAoZmFsc2UpDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNoYXJ0LnRvb2x0aXAoew0KICAgICAgICAgIHNob3dDcm9zc2hhaXJzOiAhdGhpcy5iYXJPcHRpb24NCiAgICAgICAgfSkNCiAgICAgIH0NCg0KICAgICAgaWYgKGF1dG9BbGlnblhBeGlzKSB7DQogICAgICAgIGNoYXJ0LmF4aXModGhpcy54RmllbGQsIHsNCiAgICAgICAgICBsYWJlbCAodGV4dCwgaW5kZXgsIHRvdGFsKSB7DQogICAgICAgICAgICBjb25zdCB0ZXh0Q2ZnID0ge30NCiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgew0KICAgICAgICAgICAgICB0ZXh0Q2ZnLnRleHRBbGlnbiA9ICdsZWZ0Jw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0b3RhbCAtIDEpIHsNCiAgICAgICAgICAgICAgdGV4dENmZy50ZXh0QWxpZ24gPSAncmlnaHQnDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGV4dENmZw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMubGluZU9wdGlvbnMpIHsNCiAgICAgICAgY29uc3QgeyBzaGFwZSwgYWRqdXN0LCBzaXplIH0gPSB0aGlzLmxpbmVPcHRpb25zDQogICAgICAgIGxldCBzZXJpZXNGaWVsZCA9IHRoaXMubGluZU9wdGlvbnMuc2VyaWVzRmllbGQgfHwgJycNCiAgICAgICAgbGV0IGNvbG9ycyA9IHRoaXMuYnVpbGRDb2xvcih0aGlzLmxpbmVPcHRpb25zLmNvbG9ycykNCiAgICAgICAgbGV0IHJzID0gY2hhcnQubGluZSgpLnBvc2l0aW9uKHRoaXMuYnVpbGRQb3NpdGlvbigpKS5zaGFwZShzaGFwZSkNCg0KICAgICAgICBpZiAoc2l6ZSkgew0KICAgICAgICAgIHJzLnNpemUoc2l6ZSkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghc2VyaWVzRmllbGQgJiYgY29sb3JzKSB7DQogICAgICAgICAgcnMuY29sb3IoY29sb3JzKQ0KICAgICAgICB9DQogICAgICAgIGlmIChzZXJpZXNGaWVsZCkgew0KICAgICAgICAgIGlmIChjb2xvcnMgJiYgY29sb3JzLmxlbmd0aCkgew0KICAgICAgICAgICAgcnMuY29sb3Ioc2VyaWVzRmllbGQsIGNvbG9ycykNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcnMuY29sb3Ioc2VyaWVzRmllbGQpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChhZGp1c3QpIHsNCiAgICAgICAgICBycy5hZGp1c3QoYWRqdXN0KQ0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmd1aWRlcy5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5ndWlkZXMuZm9yRWFjaChndWlkZSA9PiB7DQogICAgICAgICAgY2hhcnQuZ3VpZGUoKVtndWlkZS50eXBlXShndWlkZS5vcHRpb25zKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5hcmVhT3B0aW9ucykgew0KICAgICAgICBjb25zdCB7IGFkanVzdCwgc2VyaWVzRmllbGQgfSA9IHRoaXMuYXJlYU9wdGlvbnMNCiAgICAgICAgbGV0IGNvbG9yID0gdGhpcy5idWlsZENvbG9yKHRoaXMuYXJlYU9wdGlvbnMuY29sb3JzKQ0KICAgICAgICBsZXQgcnMgPSBjaGFydC5hcmVhKCkucG9zaXRpb24odGhpcy5idWlsZFBvc2l0aW9uKCkpLnNoYXBlKHRoaXMuYXJlYU9wdGlvbnMuc2hhcGUgfHwgJycpDQogICAgICAgIGlmICghc2VyaWVzRmllbGQgJiYgY29sb3IpIHsNCiAgICAgICAgICBycy5jb2xvcihjb2xvcikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBycy5jb2xvcihzZXJpZXNGaWVsZCB8fCAnJywgY29sb3IpDQogICAgICAgIH0NCg0KICAgICAgICBpZiAoYWRqdXN0KSB7DQogICAgICAgICAgcnMuYWRqdXN0KGFkanVzdCkNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5iYXJPcHRpb25zKSB7DQogICAgICAgIGNvbnN0IHsgYWRqdXN0LCBzZXJpZXNGaWVsZCB9ID0gdGhpcy5iYXJPcHRpb25zDQogICAgICAgIGxldCBjb2xvciA9IHRoaXMuYnVpbGRDb2xvcih0aGlzLmJhck9wdGlvbnMuY29sb3JzKQ0KICAgICAgICBsZXQgcnMgPSBjaGFydC5pbnRlcnZhbCgpLnBvc2l0aW9uKHRoaXMuYnVpbGRQb3NpdGlvbigpKQ0KICAgICAgICBpZiAoIXNlcmllc0ZpZWxkICYmIGNvbG9yKSB7DQogICAgICAgICAgcnMuY29sb3IoY29sb3IpDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcnMuY29sb3Ioc2VyaWVzRmllbGQgfHwgJycsIGNvbG9yKQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGFkanVzdCkgew0KICAgICAgICAgIHJzLmFkanVzdChhZGp1c3QpDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgWyd4JywgJ3knXS5mb3JFYWNoKGF4aXMgPT4gew0KICAgICAgICBpZiAodGhpc1tgJHtheGlzfUF4aXNPcHRpb25zYF0pIHsNCiAgICAgICAgICBjaGFydC5heGlzKHRoaXNbYCR7YXhpc31GaWVsZGBdLCB0aGlzW2Ake2F4aXN9RmllbGRgXS5kaXNhYmxlZCA/IGZhbHNlIDogdGhpc1tgJHtheGlzfUF4aXNPcHRpb25zYF0pDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICAgIGlmICh0aGlzLnBpZU9wdGlvbnMpIHsNCiAgICAgICAgY2hhcnQuY29vcmQodGhpcy5waWVPcHRpb25zLmNvb3JkLCB0aGlzLnBpZU9wdGlvbnMpDQogICAgICAgIGNoYXJ0LmF4aXMoZmFsc2UpDQogICAgICAgIGNoYXJ0LmludGVydmFsKCkNCiAgICAgICAgLnBvc2l0aW9uKCdhKnBlcmNlbnQnKQ0KICAgICAgICAuY29sb3IodGhpcy5waWVPcHRpb25zLnNlcmllc0ZpZWxkLCAodGhpcy5waWVPcHRpb25zLmNvbG9ycyAmJiB0aGlzLnBpZU9wdGlvbnMuY29sb3JzLmxlbmd0aCkgPyB0aGlzLnBpZU9wdGlvbnMuY29sb3JzIDogJycpDQogICAgICAgIC5hZGp1c3QoJ3N0YWNrJykNCiAgICAgICAgLnN0eWxlKHsNCiAgICAgICAgICBsaW5lV2lkdGg6IDEsDQogICAgICAgICAgc3Ryb2tlOiAnI2ZmZicsDQogICAgICAgICAgbGluZUpvaW46ICdyb3VuZCcsDQogICAgICAgICAgbGluZUNhcDogJ3JvdW5kJw0KICAgICAgICB9KQ0KICAgICAgICAuYW5pbWF0ZSh7DQogICAgICAgICAgYXBwZWFyOiB7DQogICAgICAgICAgICBkdXJhdGlvbjogMTIwMCwNCiAgICAgICAgICAgIGVhc2luZzogJ2JvdW5jZU91dCcNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnBvaW50T3B0aW9ucykgew0KICAgICAgICBjb25zdCB7IHNlcmllc0ZpZWxkLCBzdHlsZXMsIHNoYXBlLCBzaXplLCBjb2xvcnMgfSA9IHRoaXMucG9pbnRPcHRpb25zDQogICAgICAgIGxldCBycyA9IGNoYXJ0LnBvaW50KCkucG9zaXRpb24odGhpcy5idWlsZFBvc2l0aW9uKCkpLnN0eWxlKHN0eWxlcykuc2hhcGUoc2hhcGUpDQoNCiAgICAgICAgbGV0IGNvbG9yID0gdGhpcy5idWlsZENvbG9yKGNvbG9ycykNCiAgICAgICAgaWYgKCFzZXJpZXNGaWVsZCAmJiBjb2xvcikgew0KICAgICAgICAgIHJzLmNvbG9yKGNvbG9yKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJzLmNvbG9yKHNlcmllc0ZpZWxkIHx8ICcnLCBjb2xvcikNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICghc2VyaWVzRmllbGQgJiYgc2l6ZSkgew0KICAgICAgICAgIHJzLnNpemUoc2l6ZSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBycy5zaXplKHNlcmllc0ZpZWxkIHx8ICcnLCBzaXplKQ0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIOWcqOa4suafk+WJjeaJp+inpuWPkW9uLXJlbmRlcuS9v+S5i+WPr+S7peWBmuiHquWumuS5ieiuvue9rg0KICAgICAgdGhpcy4kZW1pdCgnb24tcmVuZGVyJywgeyBjaGFydCB9KQ0KICAgICAgY2hhcnQucmVuZGVyKCkNCiAgICAgIHRoaXMuY2hhcnQgPSBjaGFydA0KICAgIH0NCiAgfSwNCiAgYXN5bmMgbW91bnRlZCAoKSB7DQogICAgYXdhaXQgdGhpcy4kbmV4dFRpY2soKQ0KICAgIHRoaXMucmVuZGVyKCkNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZW5kZXIpDQogIH0sDQogIGJlZm9yZURlc3Ryb3kgKCkgew0KICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlbmRlcikNCiAgICB0aGlzLmRlc3Ryb3koKQ0KICB9DQp9DQo="},{"version":3,"sources":["v-chart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"v-chart.vue","sourceRoot":"node_modules/vux/src/components/v-chart","sourcesContent":["<template lang=\"html\">\r\n  <div\r\n    :style=\"{\r\n      backgroundColor: backgroundColor,\r\n      width: width + 'px',\r\n      height: height + 'px'\r\n    }\"\r\n    @touchstart=\"onTouchstart\">\r\n    <canvas height=\"260\" class=\"noselect\" ref=\"chart\"></canvas>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n// const shapeMap = {\r\n//   point: ['circle', 'hollowCircle', 'rect'],\r\n//   line: ['line', 'smooth', 'dash'],\r\n//   area: ['area', 'smooth'],\r\n//   interval: ['rect'],\r\n//   polygon: ['polygon'],\r\n//   schema: ['candle']\r\n// }\r\n\r\nimport F2 from '@antv/f2'\r\n\r\nexport default {\r\n  props: {\r\n    width: Number,\r\n    height: Number,\r\n    backgroundColor: {\r\n      type: String,\r\n      default: '#fff'\r\n    },\r\n    data: {\r\n      type: Array\r\n    },\r\n    tooltip: {\r\n      type: Object\r\n    },\r\n    shape: {\r\n      type: String,\r\n      default: 'line'\r\n    },\r\n    preventRender: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    preventDefault: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      xField: '',\r\n      yField: '',\r\n      hasPoint: false,\r\n      pointStyle: {},\r\n\r\n      guideTags: [],\r\n\r\n      areaOptions: null,\r\n      lineOptions: null,\r\n      tooltipOptions: null,\r\n      legendOptions: null,\r\n\r\n      barOptions: null,\r\n\r\n      pieOptions: null,\r\n\r\n      guideOptions: null,\r\n\r\n      pointOptions: null,\r\n\r\n      xFieldOptions: {},\r\n      yFieldOptions: {},\r\n\r\n      guides: [],\r\n\r\n      seriesField: '',\r\n\r\n      xAxisOptions: null,\r\n      yAxisOptions: null,\r\n\r\n      autoAlignXAxis: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    currentData () {\r\n      if (this.pieOptions) {\r\n        return this.data.slice().map(item => {\r\n          item.a = '1'\r\n          return item\r\n        })\r\n      }\r\n      return this.data\r\n    },\r\n    currentXFieldOptions (val) {\r\n      const defaultOptions = {\r\n        tickCount: 5\r\n      }\r\n      if (!this.barOptions) {\r\n        defaultOptions.range = [0, 1]\r\n      } else {\r\n        defaultOptions.tickCount = 0\r\n      }\r\n      // auto detect if is timeCat\r\n      if (!this.xFieldOptions) {\r\n        if (/\\d{4}-\\d{2}-\\d{2}/.test(this.data[0][this.xField])) {\r\n          return Object.assign({}, defaultOptions, {\r\n            type: 'timeCat',\r\n            tickCount: 3\r\n          })\r\n        } else {\r\n          return defaultOptions\r\n        }\r\n      }\r\n\r\n      return Object.assign({}, defaultOptions, this.xFieldOptions)\r\n    },\r\n    currentYFieldOptions (val) {\r\n      const defaultOptions = {\r\n        tickCount: 5\r\n      }\r\n      if (!val) {\r\n        return defaultOptions\r\n      }\r\n\r\n      return Object.assign({}, defaultOptions, this.yFieldOptions)\r\n    }\r\n  },\r\n  watch: {\r\n    data () {\r\n      this.changeData(this.data)\r\n    }\r\n  },\r\n  methods: {\r\n    onTouchstart (e) {\r\n      this.preventDefault && e.preventDefault()\r\n    },\r\n    set (name, options) {\r\n      this[`${name}Options`] = options\r\n    },\r\n    changeData (data) {\r\n      this.chart && this.chart.changeData(data)\r\n    },\r\n    setField (axis, item) {\r\n      this[`${axis}Field`] = item\r\n    },\r\n    repaint () {\r\n      this.chart.repaint()\r\n    },\r\n    rerender () {\r\n      this.destroy()\r\n      this.render()\r\n    },\r\n    destroy () {\r\n      this.chart && this.chart.destroy()\r\n    },\r\n    addGuide (options) {\r\n      this.guides.push(options)\r\n    },\r\n    setScale (options) {\r\n      if (options.x) {\r\n        this.xFieldOptions = options.x\r\n      }\r\n      if (options.y) {\r\n        this.yFieldOptions = options.y\r\n      }\r\n    },\r\n    setAxis (options) {\r\n      if (options.x) {\r\n        this.xAxisOptions = options\r\n        if (typeof options.autoAlign !== 'undefined') {\r\n          this.autoAlignXAxis = options.autoAlign\r\n        }\r\n      }\r\n      if (options.y) {\r\n        this.yAxisOptions = options\r\n      }\r\n    },\r\n    buildColor (c) {\r\n      let color = c || ''\r\n      if (Array.isArray(c) && Array.isArray(c[0])) {\r\n        const ctx = this.$refs.chart.getContext('2d')\r\n        color = ctx.createLinearGradient(0, 0, window.innerWidth, 0)\r\n        c.forEach(c => {\r\n          color.addColorStop(c[0], c[1])\r\n        })\r\n      }\r\n      return color\r\n    },\r\n    setPie (options = {}) {\r\n      this.pieOptions = options\r\n    },\r\n    setBar (options = {}) {\r\n      this.barOptions = options\r\n    },\r\n    setLegend (options) {\r\n      this.legendOptions = options\r\n    },\r\n    setTooltip (options) {\r\n      this.tooltipOptions = options\r\n    },\r\n    setArea (options) {\r\n      this.areaOptions = options\r\n    },\r\n    setGuide (options) {\r\n      this.guideOptions = options\r\n    },\r\n    setLine (options) {\r\n      this.lineOptions = options\r\n    },\r\n    setPoint (options) {\r\n      this.pointOptions = options\r\n    },\r\n    buildPosition () {\r\n      return `${this.xField}*${this.yField}`\r\n    },\r\n    getFields () {\r\n      if (this.xField && this.yField) {\r\n        return\r\n      }\r\n\r\n      if (this.data && this.data.length) {\r\n        const keys = Object.keys(this.data[0])\r\n        if (keys.length >= 2) {\r\n          let indexes = [0, 1]\r\n          const type1 = typeof this.data[0][keys[0]]\r\n          const type2 = typeof this.data[0][keys[1]]\r\n          if (type1 === 'number' && type2 !== 'number') {\r\n            indexes = [1, 0]\r\n          } else if (type1 === 'string' && type2 === 'string' && keys[2] === 'value') {\r\n            indexes = [0, 2]\r\n          }\r\n          this.xField = keys[indexes[0]]\r\n          this.yField = keys[indexes[1]]\r\n        }\r\n      }\r\n    },\r\n    render () {\r\n      const _this = this\r\n      let autoAlignXAxis = this.autoAlignXAxis\r\n      if (this.barOptions) {\r\n        autoAlignXAxis = false\r\n      }\r\n      if (typeof autoAlignXAxis === 'undefined') {\r\n        autoAlignXAxis = true\r\n      }\r\n      const windowWidth = window.innerWidth\r\n      const windowHeight = window.innerHeight\r\n      const chart = new F2.Chart({\r\n        el: this.$refs.chart,\r\n        width: this.width || windowWidth,\r\n        height: this.height ? this.height : (windowWidth > windowHeight ? (windowHeight - 54) : windowWidth * 0.707),\r\n        pixelRatio: this.$devicePixelRatio || window.devicePixelRatio,\r\n        ...this.$attrs\r\n      })\r\n      if (this.preventRender) {\r\n        this.$emit('on-render', { chart })\r\n        return\r\n      }\r\n\r\n      if (!this.data || !this.data.length) {\r\n        return\r\n      }\r\n\r\n      this.getFields()\r\n\r\n      chart.source(this.currentData)\r\n\r\n      chart.scale(this.xField, this.currentXFieldOptions)\r\n      chart.scale(this.yField, this.currentYFieldOptions)\r\n\r\n      if (this.legendOptions) {\r\n        if (this.legendOptions.disabled) {\r\n          chart.legend(false)\r\n        } else {\r\n          chart.legend(this.legendOptions)\r\n        }\r\n      }\r\n\r\n      if (this.tooltipOptions) {\r\n        if (this.barOptions) {\r\n          this.tooltipOptions.showCrosshairs = false\r\n        }\r\n        if (!this.tooltipOptions.disabled) {\r\n          // handle show-value-in-legend\r\n          if (this.tooltipOptions.showValueInLegend) {\r\n            const customTooltip = {\r\n              custom: true, // 自定义 tooltip 内容框\r\n              onChange: function (obj) {\r\n                const legend = _this.chart.get('legendController').legends.top[0]\r\n                const tooltipItems = obj.items\r\n                const legendItems = legend.items\r\n                const map = {}\r\n                legendItems.map(item => {\r\n                  map[item.name] = JSON.parse(JSON.stringify(item))\r\n                })\r\n                tooltipItems.map(item => {\r\n                  const { name, value } = item\r\n                  if (map[name]) {\r\n                    map[name].value = value\r\n                  }\r\n                })\r\n                legend.setItems(Object.values(map))\r\n              },\r\n              onHide: function () {\r\n                const VChart = _this.chart\r\n                const legend = VChart.get('legendController').legends.top[0]\r\n                legend.setItems(VChart.getLegendItems().type)\r\n              }\r\n            }\r\n            this.tooltipOptions = {\r\n              ...this.tooltipOptions,\r\n              ...customTooltip\r\n            }\r\n          }\r\n          chart.tooltip(this.tooltipOptions)\r\n        } else {\r\n          chart.tooltip(false)\r\n        }\r\n      } else {\r\n        chart.tooltip({\r\n          showCrosshairs: !this.barOption\r\n        })\r\n      }\r\n\r\n      if (autoAlignXAxis) {\r\n        chart.axis(this.xField, {\r\n          label (text, index, total) {\r\n            const textCfg = {}\r\n            if (index === 0) {\r\n              textCfg.textAlign = 'left'\r\n            }\r\n            if (index === total - 1) {\r\n              textCfg.textAlign = 'right'\r\n            }\r\n            return textCfg\r\n          }\r\n        })\r\n      }\r\n\r\n      if (this.lineOptions) {\r\n        const { shape, adjust, size } = this.lineOptions\r\n        let seriesField = this.lineOptions.seriesField || ''\r\n        let colors = this.buildColor(this.lineOptions.colors)\r\n        let rs = chart.line().position(this.buildPosition()).shape(shape)\r\n\r\n        if (size) {\r\n          rs.size(size)\r\n        }\r\n\r\n        if (!seriesField && colors) {\r\n          rs.color(colors)\r\n        }\r\n        if (seriesField) {\r\n          if (colors && colors.length) {\r\n            rs.color(seriesField, colors)\r\n          } else {\r\n            rs.color(seriesField)\r\n          }\r\n        }\r\n        if (adjust) {\r\n          rs.adjust(adjust)\r\n        }\r\n      }\r\n\r\n      if (this.guides.length) {\r\n        this.guides.forEach(guide => {\r\n          chart.guide()[guide.type](guide.options)\r\n        })\r\n      }\r\n\r\n      if (this.areaOptions) {\r\n        const { adjust, seriesField } = this.areaOptions\r\n        let color = this.buildColor(this.areaOptions.colors)\r\n        let rs = chart.area().position(this.buildPosition()).shape(this.areaOptions.shape || '')\r\n        if (!seriesField && color) {\r\n          rs.color(color)\r\n        } else {\r\n          rs.color(seriesField || '', color)\r\n        }\r\n\r\n        if (adjust) {\r\n          rs.adjust(adjust)\r\n        }\r\n      }\r\n\r\n      if (this.barOptions) {\r\n        const { adjust, seriesField } = this.barOptions\r\n        let color = this.buildColor(this.barOptions.colors)\r\n        let rs = chart.interval().position(this.buildPosition())\r\n        if (!seriesField && color) {\r\n          rs.color(color)\r\n        } else {\r\n          rs.color(seriesField || '', color)\r\n        }\r\n\r\n        if (adjust) {\r\n          rs.adjust(adjust)\r\n        }\r\n      }\r\n\r\n      ['x', 'y'].forEach(axis => {\r\n        if (this[`${axis}AxisOptions`]) {\r\n          chart.axis(this[`${axis}Field`], this[`${axis}Field`].disabled ? false : this[`${axis}AxisOptions`])\r\n        }\r\n      })\r\n\r\n      if (this.pieOptions) {\r\n        chart.coord(this.pieOptions.coord, this.pieOptions)\r\n        chart.axis(false)\r\n        chart.interval()\r\n        .position('a*percent')\r\n        .color(this.pieOptions.seriesField, (this.pieOptions.colors && this.pieOptions.colors.length) ? this.pieOptions.colors : '')\r\n        .adjust('stack')\r\n        .style({\r\n          lineWidth: 1,\r\n          stroke: '#fff',\r\n          lineJoin: 'round',\r\n          lineCap: 'round'\r\n        })\r\n        .animate({\r\n          appear: {\r\n            duration: 1200,\r\n            easing: 'bounceOut'\r\n          }\r\n        })\r\n      }\r\n\r\n      if (this.pointOptions) {\r\n        const { seriesField, styles, shape, size, colors } = this.pointOptions\r\n        let rs = chart.point().position(this.buildPosition()).style(styles).shape(shape)\r\n\r\n        let color = this.buildColor(colors)\r\n        if (!seriesField && color) {\r\n          rs.color(color)\r\n        } else {\r\n          rs.color(seriesField || '', color)\r\n        }\r\n\r\n        if (!seriesField && size) {\r\n          rs.size(size)\r\n        } else {\r\n          rs.size(seriesField || '', size)\r\n        }\r\n      }\r\n\r\n      // 在渲染前执触发on-render使之可以做自定义设置\r\n      this.$emit('on-render', { chart })\r\n      chart.render()\r\n      this.chart = chart\r\n    }\r\n  },\r\n  async mounted () {\r\n    await this.$nextTick()\r\n    this.render()\r\n    window.addEventListener('resize', this.render)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.render)\r\n    this.destroy()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.noselect {\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\r\n}\r\n</style>\r\n"]}]}