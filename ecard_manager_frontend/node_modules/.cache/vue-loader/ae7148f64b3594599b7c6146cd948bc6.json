{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/calendar/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/calendar/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/css-loader/dist/cjs.js","mtime":1635231904892},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635231911752},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/postcss-loader/src/index.js","mtime":1635231910975},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/less-loader/dist/cjs.js","mtime":1635811351528},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICcuLi8uLi9zdHlsZXMvd2V1aS9iYXNlL2ZuJzsNCkBpbXBvcnQgJy4uLy4uL3N0eWxlcy93ZXVpL2Jhc2UvbWl4aW4vc2V0T25lcHgubGVzcyc7DQoNCi52dXgtY2FsZW5kYXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICY6YmVmb3JlIHsNCiAgICAuc2V0VG9wTGluZShAd2V1aUNlbGxCb3JkZXJDb2xvcik7DQogICAgbGVmdDogQHdldWlDZWxsR2FwSDsNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/calendar","sourcesContent":["<template>\r\n  <div class=\"vux-calendar\">\r\n    <cell\r\n      :title=\"title\"\r\n      primary=\"content\"\r\n      @click.native=\"onClick\"\r\n      :is-link=\"!readonly\">\r\n      <span class=\"vux-cell-placeholder\" v-if=\"shouldShowPlaceholder\">{{ placeholder }}</span>\r\n      <span class=\"vux-cell-value\" v-if=\"!shouldShowPlaceholder\">{{ displayFormat(value, getType(value)) }}</span>\r\n    </cell>\r\n    <div v-transfer-dom=\"shouldTransferDom\">\r\n      <popup\r\n        v-model=\"show\"\r\n        @on-show=\"onPopupShow\"\r\n        @on-hide=\"onPopupHide\">\r\n\r\n        <popup-header\r\n          v-if=\"shouldConfirm\"\r\n          @on-click-left=\"onClickLeft\"\r\n          @on-click-right=\"onClickRight\"\r\n          :title=\"popupHeaderTitle\"\r\n          :left-text=\"$t('cancel_text')\"\r\n          :right-text=\"$t('confirm_text')\"></popup-header>\r\n\r\n        <slot name=\"popup-before-calendar\"></slot>\r\n\r\n        <inline-calendar\r\n          v-model=\"currentValue\"\r\n          @on-change=\"onCalendarValueChange\"\r\n          @on-select-single-date=\"onSelectSingleDate\"\r\n          :render-month=\"renderMonth\"\r\n          :start-date=\"startDate\"\r\n          :end-date=\"endDate\"\r\n          :show-last-month=\"showLastMonth\"\r\n          :show-next-month=\"showNextMonth\"\r\n          :highlight-weekend=\"highlightWeekend\"\r\n          :return-six-rows=\"returnSixRows\"\r\n          :hide-header=\"hideHeader\"\r\n          :hide-week-list=\"hideWeekList\"\r\n          :replace-text-list=\"replaceTextList\"\r\n          :weeks-list=\"weeksList\"\r\n          :render-function=\"renderFunction\"\r\n          :render-on-value-change=\"renderOnValueChange\"\r\n          :disable-past=\"disablePast\"\r\n          :disable-future=\"disableFuture\"\r\n          :marks=\"marks\"\r\n          :disable-weekend=\"disableWeekend\"\r\n          :disable-date-function=\"disableDateFunction\"\r\n        ></inline-calendar>\r\n\r\n      </popup>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<i18n>\r\ncancel_text:\r\n  en: cancel\r\n  zh-CN: 取消\r\nconfirm_text:\r\n  en: done\r\n  zh-CN: 确定\r\n</i18n>\r\n\r\n<script>\r\nimport InlineCalendar from '../inline-calendar'\r\nimport Popup from '../popup'\r\nimport Cell from '../cell'\r\nimport props from '../inline-calendar/props'\r\nimport TransferDom from '../../directives/transfer-dom'\r\nimport PopupHeader from '../popup-header'\r\nimport format from '../../tools/date/format'\r\n\r\nconst getType = (value) => {\r\n  if (typeof value === 'string') {\r\n    return 'string'\r\n  }\r\n  if (Object.prototype.toString.call(value) === '[object Array]') {\r\n    return 'array'\r\n  }\r\n}\r\n\r\nconst pure = function (value) {\r\n  const type = getType(value)\r\n  if (type === 'string') {\r\n    return value\r\n  } else if (type === 'array') {\r\n    return JSON.parse(JSON.stringify(value))\r\n  }\r\n}\r\n\r\nconst Props = {\r\n  ...props(),\r\n  title: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  placeholder: String,\r\n  showPopupHeader: Boolean,\r\n  popupHeaderTitle: String,\r\n  displayFormat: {\r\n    type: Function,\r\n    default: (value) => {\r\n      return typeof value === 'string' ? value : value.join(', ')\r\n    }\r\n  },\r\n  // for test only\r\n  shouldTransferDom: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  readonly: Boolean\r\n}\r\n\r\nexport default {\r\n  name: 'calendar',\r\n  directives: {\r\n    TransferDom\r\n  },\r\n  components: {\r\n    InlineCalendar,\r\n    Popup,\r\n    PopupHeader,\r\n    Cell\r\n  },\r\n  computed: {\r\n    shouldConfirm () {\r\n      return this.showPopupHeader || this.getType(this.value) === 'array'\r\n    },\r\n    shouldShowPlaceholder () {\r\n      if (typeof this.value === 'string' && !this.value) {\r\n        return true\r\n      }\r\n      if (getType(this.value) === 'array' && !this.value.length) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  created () {\r\n    if (this.value === 'TODAY') {\r\n      this.currentValue = format(new Date(), 'YYYY-MM-DD')\r\n      this.$emit('input', this.currentValue)\r\n    } else {\r\n      if (this.getType(this.value) === 'string') {\r\n        this.currentValue = this.value\r\n      } else {\r\n        this.currentValue = pure(this.value)\r\n      }\r\n    }\r\n  },\r\n  props: Props,\r\n  methods: {\r\n    onPopupShow () {\r\n      this.$emit('on-show')\r\n    },\r\n    onPopupHide () {\r\n      this.$emit('on-hide')\r\n      // reset value to show value\r\n      this.currentValue = pure(this.value)\r\n    },\r\n    getType,\r\n    onClickLeft () {\r\n      this.show = false\r\n      this.currentValue = pure(this.value)\r\n    },\r\n    onClickRight () {\r\n      this.show = false\r\n      const value = pure(this.currentValue)\r\n      this.$emit('input', value)\r\n    },\r\n    onClick () {\r\n      if (!this.readonly) {\r\n        this.show = true\r\n      }\r\n    },\r\n    onCalendarValueChange (val) {\r\n      if (!this.shouldConfirm) {\r\n        this.show = false\r\n        this.$emit('input', pure(val))\r\n      }\r\n    },\r\n    onSelectSingleDate () {\r\n      if (!this.shouldConfirm) {\r\n        this.show = false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    value (newVal, oldVal) {\r\n      if (this.getType(this.value) === 'string') {\r\n        this.currentValue = newVal\r\n        this.$emit('on-change', newVal)\r\n      } else {\r\n        if (JSON.stringify(newVal) !== JSON.stringify(oldVal)) {\r\n          this.$emit('on-change', pure(newVal))\r\n        }\r\n        this.currentValue = pure(newVal)\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      currentValue: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/weui/base/fn';\r\n@import '../../styles/weui/base/mixin/setOnepx.less';\r\n\r\n.vux-calendar {\r\n  position: relative;\r\n  &:before {\r\n    .setTopLine(@weuiCellBorderColor);\r\n    left: @weuiCellGapH;\r\n  }\r\n}\r\n</style>"]}]}