{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popover/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popover/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2xpY2tPdXRzaWRlIGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvY2xpY2stb3V0c2lkZScNCmltcG9ydCBUcmFuc2ZlckRvbSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL3RyYW5zZmVyLWRvbScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAncG9wb3ZlcicsDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIHRoaXMuaW5pdCgpDQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNldCkNCiAgICB9KQ0KICB9LA0KICBiZWZvcmVEZXN0cm95ICgpIHsNCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNldCkNCiAgfSwNCiAgZGlyZWN0aXZlczogew0KICAgIFRyYW5zZmVyRG9tLA0KICAgIENsaWNrT3V0c2lkZQ0KICB9LA0KICBwcm9wczogew0KICAgIGNvbnRlbnQ6IFN0cmluZywNCiAgICBwbGFjZW1lbnQ6IFN0cmluZywNCiAgICBndXR0ZXI6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDUNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXNldCAoKSB7DQogICAgICBpZiAodGhpcy5zaG93KSB7DQogICAgICAgIHRoaXMuaW5pdCh0cnVlKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaW5pdCAoaXNSZXNldCkgew0KICAgICAgY29uc3QgdHJpZ2dlciA9IHRoaXMuJHJlZnMudHJpZ2dlci5jaGlsZHJlblswXQ0KICAgICAgY29uc3QgcG9wb3ZlciA9IHRoaXMuJHJlZnMucG9wb3Zlcg0KICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ANCiAgICAgIHN3aXRjaCAodGhpcy5wbGFjZW1lbnQpIHsNCiAgICAgICAgY2FzZSAndG9wJyA6DQogICAgICAgICAgdGhpcy5wb3NpdGlvbi5sZWZ0ID0gdHJpZ2dlci5vZmZzZXRMZWZ0IC0gcG9wb3Zlci5vZmZzZXRXaWR0aCAvIDIgKyB0cmlnZ2VyLm9mZnNldFdpZHRoIC8gMg0KICAgICAgICAgIHRoaXMucG9zaXRpb24udG9wID0gc2Nyb2xsVG9wICsgdHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBwb3BvdmVyLm9mZnNldEhlaWdodCAtIHRoaXMuZ3V0dGVyDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnbGVmdCc6DQogICAgICAgICAgdGhpcy5wb3NpdGlvbi5sZWZ0ID0gdHJpZ2dlci5vZmZzZXRMZWZ0IC0gcG9wb3Zlci5vZmZzZXRXaWR0aCAtIHRoaXMuZ3V0dGVyDQogICAgICAgICAgdGhpcy5wb3NpdGlvbi50b3AgPSBzY3JvbGxUb3AgKyB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHRyaWdnZXIub2Zmc2V0SGVpZ2h0IC8gMiAtIHBvcG92ZXIub2Zmc2V0SGVpZ2h0IC8gMg0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgJ3JpZ2h0JzoNCiAgICAgICAgICB0aGlzLnBvc2l0aW9uLmxlZnQgPSB0cmlnZ2VyLm9mZnNldExlZnQgKyB0cmlnZ2VyLm9mZnNldFdpZHRoICsgdGhpcy5ndXR0ZXINCiAgICAgICAgICB0aGlzLnBvc2l0aW9uLnRvcCA9IHNjcm9sbFRvcCArIHRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdHJpZ2dlci5vZmZzZXRIZWlnaHQgLyAyIC0gcG9wb3Zlci5vZmZzZXRIZWlnaHQgLyAyDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAnYm90dG9tJzoNCiAgICAgICAgICB0aGlzLnBvc2l0aW9uLmxlZnQgPSB0cmlnZ2VyLm9mZnNldExlZnQgLSBwb3BvdmVyLm9mZnNldFdpZHRoIC8gMiArIHRyaWdnZXIub2Zmc2V0V2lkdGggLyAyDQogICAgICAgICAgdGhpcy5wb3NpdGlvbi50b3AgPSBzY3JvbGxUb3AgKyB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHRyaWdnZXIub2Zmc2V0SGVpZ2h0ICsgdGhpcy5ndXR0ZXINCiAgICAgICAgICBicmVhaw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIGNvbnNvbGUud2FybignV3JvbmcgcGxhY2VtZW50IHByb3AnKQ0KICAgICAgfQ0KICAgICAgaWYgKCFpc1Jlc2V0KSB7DQogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlDQogICAgICB9DQoNCiAgICAgIHRoaXMucG9wb3ZlclN0eWxlID0gew0KICAgICAgICB0b3A6IHRoaXMucG9zaXRpb24udG9wICsgJ3B4JywNCiAgICAgICAgbGVmdDogdGhpcy5wb3NpdGlvbi5sZWZ0ICsgJ3B4JywNCiAgICAgICAgZGlzcGxheTogaXNSZXNldCA/IHRoaXMucG9wb3ZlclN0eWxlLmRpc3BsYXkgOiAnbm9uZScNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uQ2xpY2tlZE91dHNpZGUgKCkgew0KICAgICAgaWYgKHRoaXMuc2hvdykgew0KICAgICAgICB0aGlzLnNob3cgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRlbWl0KCdvbi1oaWRlJykNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvZ2dsZSAoKSB7DQogICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93DQogICAgICBpZiAodGhpcy5zaG93KSB7DQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmluaXQodHJ1ZSkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMuJGVtaXQoYG9uLSR7dGhpcy5zaG93ID09PSB0cnVlID8gJ3Nob3cnIDogJ2hpZGUnfWApDQogICAgfQ0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcG9zaXRpb246IHsNCiAgICAgICAgdG9wOiAwLA0KICAgICAgICBsZWZ0OiAwDQogICAgICB9LA0KICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgIHBvcG92ZXJTdHlsZToge30NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgYXJyb3dDbGFzcyAoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAndnV4LXBvcG92ZXItYXJyb3cnOiB0cnVlLA0KICAgICAgICAndnV4LXBvcG92ZXItYXJyb3ctdXAnOiB0aGlzLnBsYWNlbWVudCA9PT0gJ2JvdHRvbScsDQogICAgICAgICd2dXgtcG9wb3Zlci1hcnJvdy1yaWdodCc6IHRoaXMucGxhY2VtZW50ID09PSAnbGVmdCcsDQogICAgICAgICd2dXgtcG9wb3Zlci1hcnJvdy1sZWZ0JzogdGhpcy5wbGFjZW1lbnQgPT09ICdyaWdodCcsDQogICAgICAgICd2dXgtcG9wb3Zlci1hcnJvdy1kb3duJzogdGhpcy5wbGFjZW1lbnQgPT09ICd0b3AnDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/popover","sourcesContent":["<template>\r\n  <div v-click-outside=\"onClickedOutside\">\r\n    <span ref=\"trigger\" @click=\"toggle\">\r\n      <slot>\r\n      </slot>\r\n    </span>\r\n    <div\r\n      class=\"vux-popover\"\r\n      v-transfer-dom\r\n      ref=\"popover\"\r\n      :style=\"popoverStyle\"\r\n      v-show=\"show\">\r\n        <div :class=\"arrowClass\"></div>\r\n        <div @click=\"$emit('on-click-content')\">\r\n          <slot name=\"content\">\r\n            <div v-html=\"content\"></div>\r\n          </slot>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ClickOutside from '../../directives/click-outside'\r\nimport TransferDom from '../../directives/transfer-dom'\r\n\r\nexport default {\r\n  name: 'popover',\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.init()\r\n      window.addEventListener('resize', this.reset)\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.reset)\r\n  },\r\n  directives: {\r\n    TransferDom,\r\n    ClickOutside\r\n  },\r\n  props: {\r\n    content: String,\r\n    placement: String,\r\n    gutter: {\r\n      type: Number,\r\n      default: 5\r\n    }\r\n  },\r\n  methods: {\r\n    reset () {\r\n      if (this.show) {\r\n        this.init(true)\r\n      }\r\n    },\r\n    init (isReset) {\r\n      const trigger = this.$refs.trigger.children[0]\r\n      const popover = this.$refs.popover\r\n      const scrollTop = window.pageYOffset ||\r\n                    document.documentElement.scrollTop ||\r\n                    document.body.scrollTop\r\n      switch (this.placement) {\r\n        case 'top' :\r\n          this.position.left = trigger.offsetLeft - popover.offsetWidth / 2 + trigger.offsetWidth / 2\r\n          this.position.top = scrollTop + trigger.getBoundingClientRect().top - popover.offsetHeight - this.gutter\r\n          break\r\n        case 'left':\r\n          this.position.left = trigger.offsetLeft - popover.offsetWidth - this.gutter\r\n          this.position.top = scrollTop + trigger.getBoundingClientRect().top + trigger.offsetHeight / 2 - popover.offsetHeight / 2\r\n          break\r\n        case 'right':\r\n          this.position.left = trigger.offsetLeft + trigger.offsetWidth + this.gutter\r\n          this.position.top = scrollTop + trigger.getBoundingClientRect().top + trigger.offsetHeight / 2 - popover.offsetHeight / 2\r\n          break\r\n        case 'bottom':\r\n          this.position.left = trigger.offsetLeft - popover.offsetWidth / 2 + trigger.offsetWidth / 2\r\n          this.position.top = scrollTop + trigger.getBoundingClientRect().top + trigger.offsetHeight + this.gutter\r\n          break\r\n        default:\r\n          console.warn('Wrong placement prop')\r\n      }\r\n      if (!isReset) {\r\n        this.show = false\r\n      }\r\n\r\n      this.popoverStyle = {\r\n        top: this.position.top + 'px',\r\n        left: this.position.left + 'px',\r\n        display: isReset ? this.popoverStyle.display : 'none'\r\n      }\r\n    },\r\n    onClickedOutside () {\r\n      if (this.show) {\r\n        this.show = false\r\n        this.$emit('on-hide')\r\n      }\r\n    },\r\n    toggle () {\r\n      this.show = !this.show\r\n      if (this.show) {\r\n        this.$nextTick(() => {\r\n          this.init(true)\r\n        })\r\n      }\r\n      this.$emit(`on-${this.show === true ? 'show' : 'hide'}`)\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      position: {\r\n        top: 0,\r\n        left: 0\r\n      },\r\n      show: true,\r\n      popoverStyle: {}\r\n    }\r\n  },\r\n  computed: {\r\n    arrowClass () {\r\n      return {\r\n        'vux-popover-arrow': true,\r\n        'vux-popover-arrow-up': this.placement === 'bottom',\r\n        'vux-popover-arrow-right': this.placement === 'left',\r\n        'vux-popover-arrow-left': this.placement === 'right',\r\n        'vux-popover-arrow-down': this.placement === 'top'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/variable.less';\r\n\r\n.vux-popover {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background-color: @popover-bg-color;\r\n  color: @popover-font-color;\r\n  border-radius: @popover-border-radius;\r\n  z-index: 500;\r\n}\r\n.vux-popover-arrow {\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n.vux-popover-arrow-up {\r\n border-left: @popover-border-width solid transparent;\r\n border-right: @popover-border-width solid transparent;\r\n border-bottom: @popover-border-width solid @popover-bg-color;\r\n left: 50%;\r\n transform: translateX(-50%);\r\n top: -@popover-border-width;\r\n}\r\n.vux-popover-arrow-down {\r\n  border-left: @popover-border-width solid transparent;\r\n  border-right: @popover-border-width solid transparent;\r\n  border-top: @popover-border-width solid @popover-bg-color;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  bottom: -@popover-border-width;\r\n}\r\n.vux-popover-arrow-left {\r\n  border-top: @popover-border-width solid transparent;\r\n  border-bottom: @popover-border-width solid transparent;\r\n  border-right: @popover-border-width solid @popover-bg-color;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  left: -@popover-border-width;\r\n}\r\n.vux-popover-arrow-right {\r\n  border-top: @popover-border-width solid transparent;\r\n  border-bottom: @popover-border-width solid transparent;\r\n  border-left: @popover-border-width solid @popover-bg-color;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: -@popover-border-width;\r\n}\r\n</style>\r\n"]}]}