{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/clocker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/clocker/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2xvY2tlciBmcm9tICcuL2Nsb2NrZXInDQoNCmxldCBmb3JtYXQgPSAnJUQg5aSpICVIIOWwj+aXtiAlTSDliIYgJVMg56eSJw0KDQppZiAodHlwZW9mIFZfTE9DQUxFID09PSAndW5kZWZpbmVkJykgew0KICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHsNCiAgICBjb25zb2xlLndhcm4oJ1tWVVggd2Fybl0g5oqx5q2J77yMY2xvY2tlciDnu4Tku7bpnIDopoHljYfnuqcgdnV4LWxvYWRlciDliLDmnIDmlrDniYjmnKzmiY3og73mraPluLjkvb/nlKgnKQ0KICB9DQp9IGVsc2Ugew0KICBpZiAoVl9MT0NBTEUgPT09ICdlbicpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZQ0KICAgIGZvcm1hdCA9ICclRCBkICVIIGggJU0gbSAlUyBzJw0KICB9IGVsc2UgaWYgKFZfTE9DQUxFID09PSAnemgtQ04nKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUNCiAgICBmb3JtYXQgPSAnJUQg5aSpICVIIOWwj+aXtiAlTSDliIYgJVMg56eSJw0KICB9DQp9DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2Nsb2NrZXInLA0KICBtb3VudGVkICgpIHsNCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICB0aGlzLnNsb3QgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcudnV4LWNsb2NrZXItdHBsJykNCiAgICAgIHRoaXMuc2xvdFN0cmluZyA9IHRoaXMuc2xvdC5pbm5lckhUTUwNCiAgICAgIGlmICh0aGlzLnNsb3RTdHJpbmcgIT09ICcnKSB7DQogICAgICAgIHRoaXMuc2hvd1RpbWVTdHJpbmcgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgdGhpcy5yZW5kZXIoKQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZW5kZXIgKCkgew0KICAgICAgaWYgKCF0aGlzLnRpbWUpIHJldHVybg0KICAgICAgdGhpcy5jbG9ja2VyID0gbmV3IENsb2NrZXIodGhpcy50aW1lKQ0KICAgICAgLm9uKCd0aWNrJywgZXZlbnQgPT4gew0KICAgICAgICB0aGlzLnVwZGF0ZShldmVudCkNCiAgICAgICAgdGhpcy4kZW1pdCgnb24tdGljaycsIGV2ZW50KQ0KICAgICAgfSkNCiAgICAgIC5vbignZmluaXNoJywgKCkgPT4gew0KICAgICAgICB0aGlzLnRpbWVTdHJpbmcgPSAnMDA6MDA6MDAnDQogICAgICAgIHRoaXMuJGVtaXQoJ29uLWZpbmlzaCcpDQogICAgICB9KQ0KICAgICAgLnN0YXJ0KCkNCiAgICB9LA0KICAgIHVwZGF0ZSAoZXZlbnQpIHsNCiAgICAgIGlmICh0aGlzLnNob3dUaW1lU3RyaW5nKSB7DQogICAgICAgIHRoaXMudGltZVN0cmluZyA9IGV2ZW50LnN0cmZ0aW1lKHRoaXMuZm9ybWF0KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IHN0cmluZyA9IGV2ZW50LnN0cmZ0aW1lKHRoaXMuc2xvdFN0cmluZykNCiAgICAgICAgaWYgKHN0cmluZyAhPT0gdGhpcy5jYWNoZVNsb3RTdHJpbmcpIHsNCiAgICAgICAgICB0aGlzLnNsb3QuaW5uZXJIVE1MID0gdGhpcy5jYWNoZVNsb3RTdHJpbmcgPSBzdHJpbmcNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB0aW1lOiBbU3RyaW5nLCBOdW1iZXJdLA0KICAgIGZvcm1hdDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogZm9ybWF0DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHRpbWUgKCkgew0KICAgICAgdGhpcy5jbG9ja2VyICYmIHRoaXMuY2xvY2tlci5yZW1vdmUoKQ0KICAgICAgdGhpcy5yZW5kZXIoKQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNob3dUaW1lU3RyaW5nOiB0cnVlLA0KICAgICAgdGltZVN0cmluZzogJycsDQogICAgICBzbG90U3RyaW5nOiAnJywNCiAgICAgIGNhY2hlU2xvdFN0cmluZzogJycNCiAgICB9DQogIH0sDQogIGJlZm9yZURlc3Ryb3kgKCkgew0KICAgIGlmICh0aGlzLmNsb2NrZXIpIHsNCiAgICAgIHRoaXMuY2xvY2tlci5yZW1vdmUoKQ0KICAgICAgdGhpcy5jbG9ja2VyID0gbnVsbA0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/clocker","sourcesContent":["<template>\r\n  <div style=\"display:inline-block;\">\r\n    <span v-if=\"showTimeString\">{{timeString}}</span>\r\n    <div class=\"vux-clocker-tpl\"><slot></slot></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Clocker from './clocker'\r\n\r\nlet format = '%D 天 %H 小时 %M 分 %S 秒'\r\n\r\nif (typeof V_LOCALE === 'undefined') {\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.warn('[VUX warn] 抱歉，clocker 组件需要升级 vux-loader 到最新版本才能正常使用')\r\n  }\r\n} else {\r\n  if (V_LOCALE === 'en') { // eslint-disable-line\r\n    format = '%D d %H h %M m %S s'\r\n  } else if (V_LOCALE === 'zh-CN') { // eslint-disable-line\r\n    format = '%D 天 %H 小时 %M 分 %S 秒'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'clocker',\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.slot = this.$el.querySelector('.vux-clocker-tpl')\r\n      this.slotString = this.slot.innerHTML\r\n      if (this.slotString !== '') {\r\n        this.showTimeString = false\r\n      }\r\n      this.render()\r\n    })\r\n  },\r\n  methods: {\r\n    render () {\r\n      if (!this.time) return\r\n      this.clocker = new Clocker(this.time)\r\n      .on('tick', event => {\r\n        this.update(event)\r\n        this.$emit('on-tick', event)\r\n      })\r\n      .on('finish', () => {\r\n        this.timeString = '00:00:00'\r\n        this.$emit('on-finish')\r\n      })\r\n      .start()\r\n    },\r\n    update (event) {\r\n      if (this.showTimeString) {\r\n        this.timeString = event.strftime(this.format)\r\n      } else {\r\n        let string = event.strftime(this.slotString)\r\n        if (string !== this.cacheSlotString) {\r\n          this.slot.innerHTML = this.cacheSlotString = string\r\n        }\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    time: [String, Number],\r\n    format: {\r\n      type: String,\r\n      default: format\r\n    }\r\n  },\r\n  watch: {\r\n    time () {\r\n      this.clocker && this.clocker.remove()\r\n      this.render()\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showTimeString: true,\r\n      timeString: '',\r\n      slotString: '',\r\n      cacheSlotString: ''\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    if (this.clocker) {\r\n      this.clocker.remove()\r\n      this.clocker = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}