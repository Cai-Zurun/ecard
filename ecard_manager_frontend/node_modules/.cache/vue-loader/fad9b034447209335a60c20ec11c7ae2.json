{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/search/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/search/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdXVpZE1peGluIGZyb20gJy4uLy4uL21peGlucy91dWlkJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdzZWFyY2gnLA0KICBtaXhpbnM6IFt1dWlkTWl4aW5dLA0KICBwcm9wczogew0KICAgIHR5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdzZWFyY2gnDQogICAgfSwNCiAgICByZXF1aXJlZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLA0KICAgIGNhbmNlbFRleHQ6IFN0cmluZywNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIHJlc3VsdHM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCAoKSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXV0b0ZpeGVkOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgdG9wOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnMHB4Jw0KICAgIH0sDQogICAgcG9zaXRpb246IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdmaXhlZCcNCiAgICB9LA0KICAgIGF1dG9TY3JvbGxUb1RvcDogQm9vbGVhbg0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICBpZiAodGhpcy52YWx1ZSkgew0KICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB0aGlzLnZhbHVlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGZpeFBvc2l0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmlzRml4ZWQpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gPT09ICdhYnNvbHV0ZScgPyAnYWJzb2x1dGUnIDogJ2ZpeGVkJw0KICAgICAgfQ0KICAgICAgcmV0dXJuICdzdGF0aWMnDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZW1pdEV2ZW50ICgpIHsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmN1cnJlbnRWYWx1ZSkNCiAgICAgICAgdGhpcy4kZW1pdCgnb24tY2hhbmdlJywgdGhpcy5jdXJyZW50VmFsdWUpDQogICAgICB9KQ0KICAgIH0sDQogICAgb25Db21wb3NpdGlvbiAoJGV2ZW50LCB0eXBlKSB7DQogICAgICBpZiAodHlwZSA9PT0gJ3N0YXJ0Jykgew0KICAgICAgICB0aGlzLm9uSW5wdXQgPSB0cnVlDQogICAgICB9DQogICAgICBpZiAodHlwZSA9PT0gJ2VuZCcpIHsNCiAgICAgICAgdGhpcy5vbklucHV0ID0gZmFsc2UNCiAgICAgICAgdGhpcy5lbWl0RXZlbnQoKQ0KICAgICAgfQ0KICAgICAgaWYgKHR5cGUgPT09ICdpbnB1dCcpIHsNCiAgICAgICAgaWYgKCF0aGlzLm9uSW5wdXQpIHsNCiAgICAgICAgICB0aGlzLmVtaXRFdmVudCgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFyICgpIHsNCiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gJycNCiAgICAgIHRoaXMuZW1pdEV2ZW50KCkNCiAgICAgIHRoaXMuaXNGb2N1cyA9IHRydWUNCiAgICAgIHRoaXMuc2V0Rm9jdXMoKQ0KICAgICAgaWYgKHRoaXMuYXV0b0ZpeGVkICYmICF0aGlzLmlzRml4ZWQpIHsNCiAgICAgICAgdGhpcy5pc0ZpeGVkID0gdHJ1ZQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnb24tY2xlYXInKQ0KICAgIH0sDQogICAgY2FuY2VsICgpIHsNCiAgICAgIHRoaXMuaXNDYW5jZWwgPSB0cnVlDQogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9ICcnDQogICAgICB0aGlzLmVtaXRFdmVudCgpDQogICAgICB0aGlzLmlzRml4ZWQgPSBmYWxzZQ0KICAgICAgdGhpcy4kZW1pdCgnb24tY2FuY2VsJykNCiAgICB9LA0KICAgIGhhbmRsZVJlc3VsdENsaWNrIChpdGVtKSB7DQogICAgICB0aGlzLiRlbWl0KCdyZXN1bHQtY2xpY2snLCBpdGVtKSAvLyBqdXN0IGZvciBjb21wYXRpYmlsaXR5DQogICAgICB0aGlzLiRlbWl0KCdvbi1yZXN1bHQtY2xpY2snLCBpdGVtKQ0KICAgICAgdGhpcy5pc0NhbmNlbCA9IHRydWUNCiAgICAgIHRoaXMuaXNGaXhlZCA9IGZhbHNlDQogICAgfSwNCiAgICB0b3VjaCAoKSB7DQogICAgICB0aGlzLmlzQ2FuY2VsID0gZmFsc2UNCiAgICAgIGlmICh0aGlzLmF1dG9GaXhlZCkgew0KICAgICAgICB0aGlzLmlzRml4ZWQgPSB0cnVlDQogICAgICB9DQogICAgICB0aGlzLiRlbWl0KCdvbi10b3VjaCcpDQogICAgfSwNCiAgICBzZXRGb2N1cyAoKSB7DQogICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCkNCiAgICB9LA0KICAgIHNldEJsdXIgKCkgew0KICAgICAgdGhpcy4kcmVmcy5pbnB1dC5ibHVyKCkNCiAgICB9LA0KICAgIG9uRm9jdXMgKCkgew0KICAgICAgdGhpcy5pc0ZvY3VzID0gdHJ1ZQ0KICAgICAgdGhpcy4kZW1pdCgnb24tZm9jdXMnKQ0KICAgICAgdGhpcy50b3VjaCgpDQogICAgfSwNCiAgICBvbkJsdXIgKCkgew0KICAgICAgdGhpcy5pc0ZvY3VzID0gZmFsc2UNCiAgICAgIHRoaXMuJGVtaXQoJ29uLWJsdXInKQ0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG9uSW5wdXQ6IGZhbHNlLA0KICAgICAgY3VycmVudFZhbHVlOiAnJywNCiAgICAgIGlzQ2FuY2VsOiB0cnVlLA0KICAgICAgaXNGb2N1czogZmFsc2UsDQogICAgICBpc0ZpeGVkOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBpc0ZpeGVkICh2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5zZXRGb2N1cygpDQogICAgICAgIHRoaXMuaXNGb2N1cyA9IHRydWUNCg0KICAgICAgICBpZiAodGhpcy5hdXRvU2Nyb2xsVG9Ub3ApIHsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKQ0KICAgICAgICAgIH0sIDE1MCkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHt9DQogICAgfSwNCiAgICB2YWx1ZSAodmFsKSB7DQogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbA0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/search","sourcesContent":["<template>\r\n  <div\r\n    class=\"vux-search-box\"\r\n    :class=\"{ 'vux-search-fixed':isFixed }\"\r\n    :style=\"{ top: isFixed ? top : '', position: fixPosition }\">\r\n    <div\r\n      class=\"weui-search-bar\"\r\n      :class=\"{'weui-search-bar_focusing': !isCancel || currentValue}\">\r\n      <slot name=\"left\"></slot>\r\n      <form class=\"weui-search-bar__form\" @submit.prevent=\"$emit('on-submit', value)\" action=\".\">\r\n        <label\r\n          :for=\"`search_input_${uuid}`\"\r\n          class=\"vux-search-mask\"\r\n          @click=\"touch\"\r\n          v-show=\"!isFixed && autoFixed\"></label>\r\n        <div class=\"weui-search-bar__box\">\r\n          <i class=\"weui-icon-search\"></i>\r\n          <input\r\n            v-model=\"currentValue\"\r\n            ref=\"input\"\r\n            :type=\"type\"\r\n            autocomplete=\"off\"\r\n            class=\"weui-search-bar__input\"\r\n            :id=\"`search_input_${uuid}`\"\r\n            :placeholder=\"placeholder\"\r\n            :required=\"required\"\r\n            @focus=\"onFocus\"\r\n            @blur=\"onBlur\"\r\n            @compositionstart=\"onComposition($event, 'start')\"\r\n            @compositionend=\"onComposition($event, 'end')\"\r\n            @input=\"onComposition($event, 'input')\"/>\r\n          <a\r\n            href=\"javascript:\"\r\n            class=\"weui-icon-clear\"\r\n            @click=\"clear\"\r\n            v-show=\"currentValue\"></a>\r\n        </div>\r\n        <label\r\n          :for=\"`search_input_${uuid}`\"\r\n          class=\"weui-search-bar__label\"\r\n          v-show=\"!isFocus && !value\">\r\n          <i class=\"weui-icon-search\"></i>\r\n          <span>{{ placeholder || $t('placeholder') }}</span>\r\n        </label>\r\n      </form>\r\n      <a\r\n        href=\"javascript:\"\r\n        class=\"weui-search-bar__cancel-btn\"\r\n        @click=\"cancel\">{{ cancelText || $t('cancel_text') }}\r\n      </a>\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n    <div class=\"weui-cells vux-search_show\" v-show=\"isFixed\">\r\n      <slot></slot>\r\n      <div\r\n        class=\"weui-cell weui-cell_access\"\r\n        v-for=\"item in results\"\r\n        @click=\"handleResultClick(item)\">\r\n        <div class=\"weui-cell__bd weui-cell_primary\">\r\n          <p>{{item.title}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<i18n>\r\ncancel_text:\r\n  en: cancel\r\n  zh-CN: 取消\r\nplaceholder:\r\n  en: Search\r\n  zh-CN: 搜索\r\n</i18n>\r\n\r\n<script>\r\nimport uuidMixin from '../../mixins/uuid'\r\n\r\nexport default {\r\n  name: 'search',\r\n  mixins: [uuidMixin],\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: 'search'\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholder: String,\r\n    cancelText: String,\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    results: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    autoFixed: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    top: {\r\n      type: String,\r\n      default: '0px'\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: 'fixed'\r\n    },\r\n    autoScrollToTop: Boolean\r\n  },\r\n  created () {\r\n    if (this.value) {\r\n      this.currentValue = this.value\r\n    }\r\n  },\r\n  computed: {\r\n    fixPosition () {\r\n      if (this.isFixed) {\r\n        return this.position === 'absolute' ? 'absolute' : 'fixed'\r\n      }\r\n      return 'static'\r\n    }\r\n  },\r\n  methods: {\r\n    emitEvent () {\r\n      this.$nextTick(() => {\r\n        this.$emit('input', this.currentValue)\r\n        this.$emit('on-change', this.currentValue)\r\n      })\r\n    },\r\n    onComposition ($event, type) {\r\n      if (type === 'start') {\r\n        this.onInput = true\r\n      }\r\n      if (type === 'end') {\r\n        this.onInput = false\r\n        this.emitEvent()\r\n      }\r\n      if (type === 'input') {\r\n        if (!this.onInput) {\r\n          this.emitEvent()\r\n        }\r\n      }\r\n    },\r\n    clear () {\r\n      this.currentValue = ''\r\n      this.emitEvent()\r\n      this.isFocus = true\r\n      this.setFocus()\r\n      if (this.autoFixed && !this.isFixed) {\r\n        this.isFixed = true\r\n      }\r\n      this.$emit('on-clear')\r\n    },\r\n    cancel () {\r\n      this.isCancel = true\r\n      this.currentValue = ''\r\n      this.emitEvent()\r\n      this.isFixed = false\r\n      this.$emit('on-cancel')\r\n    },\r\n    handleResultClick (item) {\r\n      this.$emit('result-click', item) // just for compatibility\r\n      this.$emit('on-result-click', item)\r\n      this.isCancel = true\r\n      this.isFixed = false\r\n    },\r\n    touch () {\r\n      this.isCancel = false\r\n      if (this.autoFixed) {\r\n        this.isFixed = true\r\n      }\r\n      this.$emit('on-touch')\r\n    },\r\n    setFocus () {\r\n      this.$refs.input.focus()\r\n    },\r\n    setBlur () {\r\n      this.$refs.input.blur()\r\n    },\r\n    onFocus () {\r\n      this.isFocus = true\r\n      this.$emit('on-focus')\r\n      this.touch()\r\n    },\r\n    onBlur () {\r\n      this.isFocus = false\r\n      this.$emit('on-blur')\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      onInput: false,\r\n      currentValue: '',\r\n      isCancel: true,\r\n      isFocus: false,\r\n      isFixed: false\r\n    }\r\n  },\r\n  watch: {\r\n    isFixed (val) {\r\n      if (val === true) {\r\n        this.setFocus()\r\n        this.isFocus = true\r\n\r\n        if (this.autoScrollToTop) {\r\n          setTimeout(() => {\r\n            window.scrollTo(0, 0)\r\n          }, 150)\r\n        }\r\n      } else {}\r\n    },\r\n    value (val) {\r\n      this.currentValue = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/weui/icon/weui_icon_font';\r\n@import '../../styles/weui/widget/weui_searchbar/weui_searchbar';\r\n@import '../../styles/weui/widget/weui_cell/weui_cell_global';\r\n@import '../../styles/weui/widget/weui_cell/weui_access';\r\n\r\n.vux-search-fixed {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 5;\r\n  background: rgba(255, 255, 255, 1);\r\n  // backdrop-filter: blur(5px);\r\n}\r\n.vux-search-box {\r\n  width: 100%;\r\n}\r\n.weui-cells.vux-search_show {\r\n  margin-top: 0!important;\r\n  overflow-y: auto;\r\n  position: fixed;\r\n  width: 100%;\r\n  max-height: 100%;\r\n\r\n  .weui-cell:last-child {\r\n    margin-bottom: 150px;\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  &::after {\r\n    display: none;\r\n  }\r\n}\r\n.vux-search-mask {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 90%;\r\n  height: 100%;\r\n  z-index: 5;\r\n}\r\n</style>\r\n"]}]}