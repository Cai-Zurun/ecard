{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQmxhenkgZnJvbSAndnV4LWJsYXp5Jw0KaW1wb3J0IHsgaXNTdXBwb3J0ZWQsIGRldGVjdFdlYnAgfSBmcm9tICcuLi8uLi9saWJzL3dlYnAtc3VwcG9ydCcNCmltcG9ydCB1dWlkTWl4aW4gZnJvbSAnLi4vLi4vbGlicy9taXhpbl91dWlkJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd4LWltZycsDQogIG1peGluczogW3V1aWRNaXhpbl0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuJHZ1eCAmJiB0aGlzLiR2dXguYnVzICYmIHRoaXMuJHZ1eC5idXMuJG9uKCd2dXg6YWZ0ZXItdmlldy1lbnRlcicsIHRoaXMuaW5pdCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQgKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzDQoNCiAgICAgIHRoaXMuYmxhenkgJiYgdGhpcy5ibGF6eS5kZXN0cm95KCkNCiAgICAgIHRoaXMuJGVsLnNyYyA9IHRoaXMuZGVmYXVsdFNyYw0KICAgICAgdGhpcy4kZWwuY2xhc3NOYW1lID0gdGhpcy4kZWwuY2xhc3NOYW1lLnJlcGxhY2UoJ2ItbG9hZGVkJywgJycpDQoNCiAgICAgIHRoaXMuYmxhenkgPSBuZXcgQmxhenkoew0KICAgICAgICBzY3JvbGxlcjogdGhpcy5zY3JvbGxlciwNCiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lciwNCiAgICAgICAgc2VsZWN0b3I6IGAjdnV4LXhpbWctJHt0aGlzLnV1aWR9YCwNCiAgICAgICAgb2Zmc2V0OiBfdGhpcy5vZmZzZXQsDQogICAgICAgIGVycm9yQ2xhc3M6IF90aGlzLmVycm9yQ2xhc3MsDQogICAgICAgIHN1Y2Nlc3NDbGFzczogX3RoaXMuc3VjY2Vzc0NsYXNzLA0KICAgICAgICBzZXBhcmF0b3I6IF90aGlzLnNlcGFyYXRvciwNCiAgICAgICAgc3VjY2VzcyAoZWxlKSB7DQogICAgICAgICAgX3RoaXMuJGVtaXQoJ29uLXN1Y2Nlc3MnLCBfdGhpcy5zcmMsIGVsZSkNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3IgKGVsZSwgbXNnKSB7DQogICAgICAgICAgX3RoaXMuJGVtaXQoJ29uLWVycm9yJywgX3RoaXMuc3JjLCBlbGUsIG1zZykNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuJGVsLnNldEF0dHJpYnV0ZSgnaWQnLCBgdnV4LXhpbWctJHt0aGlzLnV1aWR9YCkNCiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5pbml0KCkNCiAgICAgIH0sIHRoaXMuZGVsYXkpDQogICAgfSkNCiAgICBkZXRlY3RXZWJwKCkNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjdXJyZW50U3JjICgpIHsNCiAgICAgIGlmIChpc1N1cHBvcnRlZCgpICYmIHRoaXMud2VicFNyYykgew0KICAgICAgICByZXR1cm4gdGhpcy53ZWJwU3JjDQogICAgICB9DQogICAgICByZXR1cm4gdGhpcy5zcmMNCiAgICB9DQogIH0sDQogIHByb3BzOiB7DQogICAgc3JjOiBTdHJpbmcsDQogICAgd2VicFNyYzogU3RyaW5nLA0KICAgIGRlZmF1bHRTcmM6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PScNCiAgICB9LA0KICAgIGVycm9yQ2xhc3M6IFN0cmluZywNCiAgICBzdWNjZXNzQ2xhc3M6IFN0cmluZywNCiAgICBvZmZzZXQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDEwMA0KICAgIH0sDQogICAgc2Nyb2xsZXI6IE9iamVjdCwNCiAgICBjb250YWluZXI6IFN0cmluZywNCiAgICBkZWxheTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMA0KICAgIH0sDQogICAgc2VwYXJhdG9yOiBTdHJpbmcNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBzcmMgKHZhbCkgew0KICAgICAgdGhpcy5pbml0KCkNCiAgICB9DQogIH0sDQogIGJlZm9yZURlc3Ryb3kgKCkgew0KICAgIHRoaXMuYmxhenkgJiYgdGhpcy5ibGF6eS5kZXN0cm95KCkNCiAgICB0aGlzLmJsYXp5ID0gbnVsbA0KICAgIHRoaXMuJHZ1eCAmJiB0aGlzLiR2dXguYnVzICYmIHRoaXMuJHZ1eC5idXMuJG9mZigndnV4OmFmdGVyLXZpZXctZW50ZXInLCB0aGlzLmluaXQpDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/x-img","sourcesContent":["<template>\r\n  <img :src=\"defaultSrc\" :data-src=\"currentSrc\" class=\"vux-x-img\"/>\r\n</template>\r\n\r\n<script>\r\nimport Blazy from 'vux-blazy'\r\nimport { isSupported, detectWebp } from '../../libs/webp-support'\r\nimport uuidMixin from '../../libs/mixin_uuid'\r\n\r\nexport default {\r\n  name: 'x-img',\r\n  mixins: [uuidMixin],\r\n  created () {\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$on('vux:after-view-enter', this.init)\r\n  },\r\n  methods: {\r\n    init () {\r\n      const _this = this\r\n\r\n      this.blazy && this.blazy.destroy()\r\n      this.$el.src = this.defaultSrc\r\n      this.$el.className = this.$el.className.replace('b-loaded', '')\r\n\r\n      this.blazy = new Blazy({\r\n        scroller: this.scroller,\r\n        container: this.container,\r\n        selector: `#vux-ximg-${this.uuid}`,\r\n        offset: _this.offset,\r\n        errorClass: _this.errorClass,\r\n        successClass: _this.successClass,\r\n        separator: _this.separator,\r\n        success (ele) {\r\n          _this.$emit('on-success', _this.src, ele)\r\n        },\r\n        error (ele, msg) {\r\n          _this.$emit('on-error', _this.src, ele, msg)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$el.setAttribute('id', `vux-ximg-${this.uuid}`)\r\n    this.$nextTick(() => {\r\n      setTimeout(() => {\r\n        this.init()\r\n      }, this.delay)\r\n    })\r\n    detectWebp()\r\n  },\r\n  computed: {\r\n    currentSrc () {\r\n      if (isSupported() && this.webpSrc) {\r\n        return this.webpSrc\r\n      }\r\n      return this.src\r\n    }\r\n  },\r\n  props: {\r\n    src: String,\r\n    webpSrc: String,\r\n    defaultSrc: {\r\n      type: String,\r\n      default: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\r\n    },\r\n    errorClass: String,\r\n    successClass: String,\r\n    offset: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    scroller: Object,\r\n    container: String,\r\n    delay: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    separator: String\r\n  },\r\n  watch: {\r\n    src (val) {\r\n      this.init()\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.blazy && this.blazy.destroy()\r\n    this.blazy = null\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$off('vux:after-view-enter', this.init)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.vux-x-img, .b-lazy {\r\n  transition: opacity 500ms ease-in-out;\r\n  max-width: 100%;\r\n}\r\n.b-lazy {\r\n  opacity: 0;\r\n}\r\n\r\n.b-lazy.b-loaded {\r\n  opacity: 1;\r\n}\r\n</style>\r\n"]}]}