{"remainingRequest":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/毕设/ecard_manager_frontend/src/components/common/Home.vue?vue&type=style&index=0&id=d1e941ee&scoped=true&lang=css&","dependencies":[{"path":"/Users/zrun/毕设/ecard_manager_frontend/src/components/common/Home.vue","mtime":1636962711956},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/css-loader/dist/cjs.js","mtime":1635231904892},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635231911752},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/postcss-loader/src/index.js","mtime":1635231910975},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGVudCB7CiAgICBvdmVyZmxvdy15OiBhdXRvOwp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <v-head></v-head>\n        <v-sidebar></v-sidebar>\n        <div class=\"content-box\"\n             :class=\"{'content-collapse':collapse}\">\n            <div class=\"content\"\n                 id=\"target\">\n                <transition name=\"move\"\n                            mode=\"out-in\">\n                    <router-view></router-view>\n                </transition>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import vHead from './Header.vue';\n    import vSidebar from './Sidebar.vue';\n    import bus from './bus';\n    export default {\n        data () {\n            return {\n                Request: this.$api.api.prototype /* 用于获取请求地址 */,\n                Common: this.$common.common.prototype /* 用于获取公共方法 */,\n\n                tagsList: [],\n                collapse: false,\n\n                alarmMsg: '',\n            }\n        },\n        components: {\n            vHead, vSidebar\n        },\n        created () {\n            bus.$on('collapse', msg => {\n                this.collapse = msg;\n            })\n        },\n\n        mounted() {\n            let token = \"token\";\n            let event = \"alarm\";\n            let ws = new WebSocket(this.Request.getWsAddr());\n\n            ws.onopen = function () {\n                ws.send(\"{\\\"token\\\": \\\"\" + token + \"\\\", \\\"event\\\": \\\"\" + event + \"\\\"}\")\n            };\n            ws.onmessage = (e) => {\n                this.$notify({\n                    title: '告警',\n                    message: e.data,\n                    type: 'warning'\n                });\n                // this.getAlarmsCountRequest();\n            };\n        },\n\n        methods: {\n        }\n    }\n</script>\n<style scoped>\n    .content {\n        overflow-y: auto;\n    }\n</style>"]}]}