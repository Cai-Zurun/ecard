{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/picker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/picker/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2Nyb2xsZXIgZnJvbSAnLi9zY3JvbGxlcicNCmltcG9ydCB7IEZsZXhib3gsIEZsZXhib3hJdGVtIH0gZnJvbSAnLi4vZmxleGJveCcNCmltcG9ydCBNYW5hZ2VyIGZyb20gJy4vY2hhaW4nDQppbXBvcnQgdmFsdWUybmFtZSBmcm9tICcuLi8uLi9maWx0ZXJzL3ZhbHVlMm5hbWUnDQppbXBvcnQgaXNBcnJheSBmcm9tICcuLi8uLi9saWJzL2lzLWFycmF5Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdwaWNrZXInLA0KICBjb21wb25lbnRzOiB7DQogICAgRmxleGJveCwNCiAgICBGbGV4Ym94SXRlbQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICBpZiAodGhpcy5jb2x1bW5zICE9PSAwKSB7DQogICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmNvbHVtbnMNCiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgTWFuYWdlcih0aGlzLmRhdGEsIGxlbmd0aCwgdGhpcy5maXhlZENvbHVtbnMgfHwgdGhpcy5jb2x1bW5zKQ0KICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IHRoaXMuc3RvcmUuZ2V0Q29sdW1ucyh0aGlzLnZhbHVlKQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy51dWlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDMsIDgpDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy5yZW5kZXIodGhpcy5jdXJyZW50RGF0YSwgdGhpcy5jdXJyZW50VmFsdWUpDQogICAgfSkNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBkYXRhOiBBcnJheSwNCiAgICBjb2x1bW5zOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwDQogICAgfSwNCiAgICBmaXhlZENvbHVtbnM6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDANCiAgICB9LA0KICAgIHZhbHVlOiBBcnJheSwNCiAgICBpdGVtQ2xhc3M6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdzY3JvbGxlci1pdGVtJw0KICAgIH0sDQogICAgY29sdW1uV2lkdGg6IEFycmF5DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXROYW1lVmFsdWVzICgpIHsNCiAgICAgIHJldHVybiB2YWx1ZTJuYW1lKHRoaXMuY3VycmVudFZhbHVlLCB0aGlzLmRhdGEpDQogICAgfSwNCiAgICBnZXRJZCAoaSkgew0KICAgICAgcmV0dXJuIGAjdnV4LXBpY2tlci0ke3RoaXMudXVpZH0tJHtpfWANCiAgICB9LA0KICAgIHJlbmRlciAoZGF0YSwgdmFsdWUpIHsNCiAgICAgIHRoaXMuY291bnQgPSB0aGlzLmN1cnJlbnREYXRhLmxlbmd0aA0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzDQogICAgICBpZiAoIWRhdGEgfHwgIWRhdGEubGVuZ3RoKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgbGV0IGNvdW50ID0gdGhpcy5jdXJyZW50RGF0YS5sZW5ndGgNCiAgICAgIC8vIHNldCBmaXJzdCBpdGVtIGFzIHZhbHVlDQogICAgICBpZiAodmFsdWUubGVuZ3RoIDwgY291bnQpIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7DQogICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmDQogICAgICAgICAgICB0eXBlb2YgZGF0YVtpXVswXSA9PT0gJ3VuZGVmaW5lZCcgJiYNCiAgICAgICAgICAgIGlzQXJyYXkodGhpcy5kYXRhKSAmJg0KICAgICAgICAgICAgdGhpcy5kYXRhWzBdICYmDQogICAgICAgICAgICB0eXBlb2YgdGhpcy5kYXRhWzBdLnZhbHVlICE9PSAndW5kZWZpbmVkJyAmJg0KICAgICAgICAgICAgIXRoaXMuY29sdW1ucykgew0KICAgICAgICAgICAgY29uc29sZS5lcnJvcignW1ZVWCBlcnJvcl0g5riy5p+T5Ye66ZSZ77yM5aaC5p6c5Li66IGU5Yqo5qih5byP77yM6ZyA6KaB5oyH5a6aIGNvbHVtbnMo5YiX5pWwKScpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuJHNldChfdGhpcy5jdXJyZW50VmFsdWUsIGksIGRhdGFbaV1bMF0udmFsdWUgfHwgZGF0YVtpXVswXSkNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgLyoqDQogICAgICAgICogU3RpbGwgZG9uJ3Qga25vdyB3aHkgdGhpcyBoYXBwZW5zDQogICAgICAgICovDQogICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfdGhpcy5nZXRJZChpKSkpIHsNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KDQogICAgICAgIF90aGlzLnNjcm9sbGVyW2ldICYmIF90aGlzLnNjcm9sbGVyW2ldLmRlc3Ryb3koKQ0KICAgICAgICBfdGhpcy5zY3JvbGxlcltpXSA9IG5ldyBTY3JvbGxlcihfdGhpcy5nZXRJZChpKSwgew0KICAgICAgICAgIGRhdGE6IGRhdGFbaV0sDQogICAgICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZVtpXSB8fCBkYXRhW2ldWzBdLnZhbHVlLA0KICAgICAgICAgIGl0ZW1DbGFzczogX3RoaXMuaXRlbUNsYXNzLA0KICAgICAgICAgIG9uU2VsZWN0ICh2YWx1ZSkgew0KICAgICAgICAgICAgX3RoaXMuJHNldChfdGhpcy5jdXJyZW50VmFsdWUsIGksIHZhbHVlKQ0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbHVtbnMgfHwgKHRoaXMuY29sdW1ucyAmJiBfdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gX3RoaXMuc3RvcmUuY291bnQpKSB7DQogICAgICAgICAgICAgIF90aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ29uLWNoYW5nZScsIF90aGlzLmdldFZhbHVlKCkpDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoX3RoaXMuY29sdW1ucyAhPT0gMCkgew0KICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJDaGFpbihpICsgMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIGlmIChfdGhpcy5jdXJyZW50VmFsdWUpIHsNCiAgICAgICAgICBfdGhpcy5zY3JvbGxlcltpXS5zZWxlY3QodmFsdWVbaV0pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHJlbmRlckNoYWluIChpKSB7DQogICAgICBpZiAoIXRoaXMuY29sdW1ucykgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgLy8gZG8gbm90IHJlbmRlciBmb3IgbGFzdCBzY3JvbGxlcg0KICAgICAgaWYgKGkgPiB0aGlzLmNvdW50IC0gMSkgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzDQogICAgICBsZXQgSUQgPSB0aGlzLmdldElkKGkpDQogICAgICAvLyBkZXN0cm95IG9sZCBvbmUNCiAgICAgIHRoaXMuc2Nyb2xsZXJbaV0uZGVzdHJveSgpDQogICAgICBsZXQgbGlzdCA9IHRoaXMuc3RvcmUuZ2V0Q2hpbGRyZW4oX3RoaXMuZ2V0VmFsdWUoKVtpIC0gMV0pDQogICAgICB0aGlzLnNjcm9sbGVyW2ldID0gbmV3IFNjcm9sbGVyKElELCB7DQogICAgICAgIGRhdGE6IGxpc3QsDQogICAgICAgIGl0ZW1DbGFzczogX3RoaXMuaXRlbV9jbGFzcywNCiAgICAgICAgb25TZWxlY3QgKHZhbHVlKSB7DQogICAgICAgICAgX3RoaXMuJHNldChfdGhpcy5jdXJyZW50VmFsdWUsIGksIHZhbHVlKQ0KICAgICAgICAgIF90aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICBfdGhpcy4kZW1pdCgnb24tY2hhbmdlJywgX3RoaXMuZ2V0VmFsdWUoKSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIF90aGlzLnJlbmRlckNoYWluKGkgKyAxKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgLy8gbGlzdCBpcyBBcnJheShlbXB0eSkgYXMgbWF5YmUNCiAgICAgIGlmIChsaXN0Lmxlbmd0aCkgew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5jdXJyZW50VmFsdWUsIGksIGxpc3RbMF0udmFsdWUpDQogICAgICAgIHRoaXMucmVuZGVyQ2hhaW4oaSArIDEpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5jdXJyZW50VmFsdWUsIGksIG51bGwpDQogICAgICB9DQogICAgfSwNCiAgICBnZXRWYWx1ZSAoKSB7DQogICAgICBsZXQgZGF0YSA9IFtdDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudERhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsZXJbaV0pIHsNCiAgICAgICAgICBkYXRhLnB1c2godGhpcy5zY3JvbGxlcltpXS52YWx1ZSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gW10NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGRhdGENCiAgICB9LA0KICAgIGVtaXRWYWx1ZUNoYW5nZSAodmFsKSB7DQogICAgICBpZiAoIXRoaXMuY29sdW1ucyB8fCAodGhpcy5jb2x1bW5zICYmIHZhbC5sZW5ndGggPT09IHRoaXMuc3RvcmUuY291bnQpKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ29uLWNoYW5nZScsIHZhbCkNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBzY3JvbGxlcjogW10sDQogICAgICBjb3VudDogMCwNCiAgICAgIHV1aWQ6ICcnLA0KICAgICAgY3VycmVudERhdGE6IHRoaXMuZGF0YSwNCiAgICAgIGN1cnJlbnRWYWx1ZTogdGhpcy52YWx1ZQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZSAodmFsKSB7DQogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50VmFsdWUpKSB7DQogICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsDQogICAgICB9DQogICAgfSwNCiAgICBjdXJyZW50VmFsdWUgKHZhbCwgb2xkVmFsKSB7DQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbCkNCiAgICAgIC8vIHJlbmRlciBhbGwgdGhlIHNjcm9sbGVyIGZvciBjaGFpbiBkYXRhcw0KICAgICAgaWYgKHRoaXMuY29sdW1ucyAhPT0gMCkgew0KICAgICAgICBpZiAodmFsLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKSAhPT0gSlNPTi5zdHJpbmdpZnkob2xkVmFsKSkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IHRoaXMuc3RvcmUuZ2V0Q29sdW1ucyh2YWwpDQogICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgIHRoaXMucmVuZGVyKHRoaXMuY3VycmVudERhdGEsIHZhbCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMucmVuZGVyKHRoaXMuY3VycmVudERhdGEsIFtdKQ0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAodmFsLmxlbmd0aCkgew0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxlcltpXSAmJiB0aGlzLnNjcm9sbGVyW2ldLnZhbHVlICE9PSB2YWxbaV0pIHsNCiAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlcltpXS5zZWxlY3QodmFsW2ldKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmN1cnJlbnREYXRhLCBbXSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZGF0YSAodmFsKSB7DQogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50RGF0YSkpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IHZhbA0KICAgICAgfQ0KICAgIH0sDQogICAgY3VycmVudERhdGEgKG5ld0RhdGEpIHsNCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3RGF0YVswXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgIHRoaXMucmVuZGVyKG5ld0RhdGEsIHRoaXMuY3VycmVudFZhbHVlKQ0KICAgICAgICAgIC8vIGVtaXQgb24tY2hhbmdlIGFmdGVyIHJlcmVuZGVyDQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5lbWl0VmFsdWVDaGFuZ2UodGhpcy5nZXRWYWx1ZSgpKQ0KDQogICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRWYWx1ZSgpKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50VmFsdWUpKSB7DQogICAgICAgICAgICAgIGlmICghdGhpcy5jb2x1bW5zIHx8ICh0aGlzLmNvbHVtbnMgJiYgdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gdGhpcy5zdG9yZS5jb3VudCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLmNvbHVtbnMgIT09IDApIHsNCiAgICAgICAgICBpZiAoIW5ld0RhdGEubGVuZ3RoKSB7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5jb2x1bW5zDQogICAgICAgICAgdGhpcy5zdG9yZSA9IG5ldyBNYW5hZ2VyKG5ld0RhdGEsIGxlbmd0aCwgdGhpcy5maXhlZENvbHVtbnMgfHwgdGhpcy5jb2x1bW5zKQ0KICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSB0aGlzLnN0b3JlLmdldENvbHVtbnModGhpcy5jdXJyZW50VmFsdWUpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGJlZm9yZURlc3Ryb3kgKCkgew0KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb3VudDsgaSsrKSB7DQogICAgICB0aGlzLnNjcm9sbGVyW2ldICYmIHRoaXMuc2Nyb2xsZXJbaV0uZGVzdHJveSgpDQogICAgICB0aGlzLnNjcm9sbGVyW2ldID0gbnVsbA0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/picker","sourcesContent":["<template>\r\n  <div class=\"vux-picker\">\r\n    <flexbox :gutter=\"0\">\r\n      <flexbox-item :span=\"columnWidth && columnWidth[index]\" v-for=\"(one, index) in currentData\" :key=\"index\" style=\"margin-left:0;\">\r\n        <div class=\"vux-picker-item\" :id=\"`vux-picker-${uuid}-${index}`\"></div>\r\n      </flexbox-item>\r\n    </flexbox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Scroller from './scroller'\r\nimport { Flexbox, FlexboxItem } from '../flexbox'\r\nimport Manager from './chain'\r\nimport value2name from '../../filters/value2name'\r\nimport isArray from '../../libs/is-array'\r\n\r\nexport default {\r\n  name: 'picker',\r\n  components: {\r\n    Flexbox,\r\n    FlexboxItem\r\n  },\r\n  created () {\r\n    if (this.columns !== 0) {\r\n      const length = this.columns\r\n      this.store = new Manager(this.data, length, this.fixedColumns || this.columns)\r\n      this.currentData = this.store.getColumns(this.value)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.uuid = Math.random().toString(36).substring(3, 8)\r\n    this.$nextTick(() => {\r\n      this.render(this.currentData, this.currentValue)\r\n    })\r\n  },\r\n  props: {\r\n    data: Array,\r\n    columns: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    fixedColumns: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    value: Array,\r\n    itemClass: {\r\n      type: String,\r\n      default: 'scroller-item'\r\n    },\r\n    columnWidth: Array\r\n  },\r\n  methods: {\r\n    getNameValues () {\r\n      return value2name(this.currentValue, this.data)\r\n    },\r\n    getId (i) {\r\n      return `#vux-picker-${this.uuid}-${i}`\r\n    },\r\n    render (data, value) {\r\n      this.count = this.currentData.length\r\n      const _this = this\r\n      if (!data || !data.length) {\r\n        return\r\n      }\r\n      let count = this.currentData.length\r\n      // set first item as value\r\n      if (value.length < count) {\r\n        for (let i = 0; i < count; i++) {\r\n          if (process.env.NODE_ENV === 'development' &&\r\n            typeof data[i][0] === 'undefined' &&\r\n            isArray(this.data) &&\r\n            this.data[0] &&\r\n            typeof this.data[0].value !== 'undefined' &&\r\n            !this.columns) {\r\n            console.error('[VUX error] 渲染出错，如果为联动模式，需要指定 columns(列数)')\r\n          }\r\n          this.$set(_this.currentValue, i, data[i][0].value || data[i][0])\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < data.length; i++) {\r\n        /**\r\n        * Still don't know why this happens\r\n        */\r\n        if (!document.querySelector(_this.getId(i))) {\r\n          return\r\n        }\r\n\r\n        _this.scroller[i] && _this.scroller[i].destroy()\r\n        _this.scroller[i] = new Scroller(_this.getId(i), {\r\n          data: data[i],\r\n          defaultValue: value[i] || data[i][0].value,\r\n          itemClass: _this.itemClass,\r\n          onSelect (value) {\r\n            _this.$set(_this.currentValue, i, value)\r\n            if (!this.columns || (this.columns && _this.getValue().length === _this.store.count)) {\r\n              _this.$nextTick(() => {\r\n                _this.$emit('on-change', _this.getValue())\r\n              })\r\n            }\r\n            if (_this.columns !== 0) {\r\n              _this.renderChain(i + 1)\r\n            }\r\n          }\r\n        })\r\n        if (_this.currentValue) {\r\n          _this.scroller[i].select(value[i])\r\n        }\r\n      }\r\n    },\r\n    renderChain (i) {\r\n      if (!this.columns) {\r\n        return\r\n      }\r\n\r\n      // do not render for last scroller\r\n      if (i > this.count - 1) {\r\n        return\r\n      }\r\n\r\n      const _this = this\r\n      let ID = this.getId(i)\r\n      // destroy old one\r\n      this.scroller[i].destroy()\r\n      let list = this.store.getChildren(_this.getValue()[i - 1])\r\n      this.scroller[i] = new Scroller(ID, {\r\n        data: list,\r\n        itemClass: _this.item_class,\r\n        onSelect (value) {\r\n          _this.$set(_this.currentValue, i, value)\r\n          _this.$nextTick(() => {\r\n            _this.$emit('on-change', _this.getValue())\r\n          })\r\n          _this.renderChain(i + 1)\r\n        }\r\n      })\r\n      // list is Array(empty) as maybe\r\n      if (list.length) {\r\n        this.$set(this.currentValue, i, list[0].value)\r\n        this.renderChain(i + 1)\r\n      } else {\r\n        this.$set(this.currentValue, i, null)\r\n      }\r\n    },\r\n    getValue () {\r\n      let data = []\r\n      for (let i = 0; i < this.currentData.length; i++) {\r\n        if (this.scroller[i]) {\r\n          data.push(this.scroller[i].value)\r\n        } else {\r\n          return []\r\n        }\r\n      }\r\n      return data\r\n    },\r\n    emitValueChange (val) {\r\n      if (!this.columns || (this.columns && val.length === this.store.count)) {\r\n        this.$emit('on-change', val)\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      scroller: [],\r\n      count: 0,\r\n      uuid: '',\r\n      currentData: this.data,\r\n      currentValue: this.value\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      if (JSON.stringify(val) !== JSON.stringify(this.currentValue)) {\r\n        this.currentValue = val\r\n      }\r\n    },\r\n    currentValue (val, oldVal) {\r\n      this.$emit('input', val)\r\n      // render all the scroller for chain datas\r\n      if (this.columns !== 0) {\r\n        if (val.length > 0) {\r\n          if (JSON.stringify(val) !== JSON.stringify(oldVal)) {\r\n            this.currentData = this.store.getColumns(val)\r\n            this.$nextTick(function () {\r\n              this.render(this.currentData, val)\r\n            })\r\n          }\r\n        } else {\r\n          this.render(this.currentData, [])\r\n        }\r\n      } else {\r\n        if (val.length) {\r\n          for (let i = 0; i < val.length; i++) {\r\n            if (this.scroller[i] && this.scroller[i].value !== val[i]) {\r\n              this.scroller[i].select(val[i])\r\n            }\r\n          }\r\n        } else {\r\n          this.render(this.currentData, [])\r\n        }\r\n      }\r\n    },\r\n    data (val) {\r\n      if (JSON.stringify(val) !== JSON.stringify(this.currentData)) {\r\n        this.currentData = val\r\n      }\r\n    },\r\n    currentData (newData) {\r\n      if (Object.prototype.toString.call(newData[0]) === '[object Array]') {\r\n        this.$nextTick(() => {\r\n          this.render(newData, this.currentValue)\r\n          // emit on-change after rerender\r\n          this.$nextTick(() => {\r\n            this.emitValueChange(this.getValue())\r\n\r\n            if (JSON.stringify(this.getValue()) !== JSON.stringify(this.currentValue)) {\r\n              if (!this.columns || (this.columns && this.getValue().length === this.store.count)) {\r\n                this.currentValue = this.getValue()\r\n              }\r\n            }\r\n          })\r\n        })\r\n      } else {\r\n        if (this.columns !== 0) {\r\n          if (!newData.length) {\r\n            return\r\n          }\r\n          const length = this.columns\r\n          this.store = new Manager(newData, length, this.fixedColumns || this.columns)\r\n          this.currentData = this.store.getColumns(this.currentValue)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    for (let i = 0; i < this.count; i++) {\r\n      this.scroller[i] && this.scroller[i].destroy()\r\n      this.scroller[i] = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import './scroller.css';\r\n</style>\r\n\r\n"]}]}