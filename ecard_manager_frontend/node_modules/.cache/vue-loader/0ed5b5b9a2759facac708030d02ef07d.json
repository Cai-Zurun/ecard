{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/search/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/search/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/css-loader/dist/cjs.js","mtime":1635231904892},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635231911752},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/postcss-loader/src/index.js","mtime":1635231910975},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/less-loader/dist/cjs.js","mtime":1635811351528},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICcuLi8uLi9zdHlsZXMvd2V1aS9pY29uL3dldWlfaWNvbl9mb250JzsNCkBpbXBvcnQgJy4uLy4uL3N0eWxlcy93ZXVpL3dpZGdldC93ZXVpX3NlYXJjaGJhci93ZXVpX3NlYXJjaGJhcic7DQpAaW1wb3J0ICcuLi8uLi9zdHlsZXMvd2V1aS93aWRnZXQvd2V1aV9jZWxsL3dldWlfY2VsbF9nbG9iYWwnOw0KQGltcG9ydCAnLi4vLi4vc3R5bGVzL3dldWkvd2lkZ2V0L3dldWlfY2VsbC93ZXVpX2FjY2Vzcyc7DQoNCi52dXgtc2VhcmNoLWZpeGVkIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICBsZWZ0OiAwOw0KICB0b3A6IDA7DQogIHotaW5kZXg6IDU7DQogIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSk7DQogIC8vIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOw0KfQ0KLnZ1eC1zZWFyY2gtYm94IHsNCiAgd2lkdGg6IDEwMCU7DQp9DQoud2V1aS1jZWxscy52dXgtc2VhcmNoX3Nob3cgew0KICBtYXJnaW4tdG9wOiAwIWltcG9ydGFudDsNCiAgb3ZlcmZsb3cteTogYXV0bzsNCiAgcG9zaXRpb246IGZpeGVkOw0KICB3aWR0aDogMTAwJTsNCiAgbWF4LWhlaWdodDogMTAwJTsNCg0KICAud2V1aS1jZWxsOmxhc3QtY2hpbGQgew0KICAgIG1hcmdpbi1ib3R0b206IDE1MHB4Ow0KICB9DQoNCiAgJjo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogIH0NCg0KICAmOjphZnRlciB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KfQ0KLnZ1eC1zZWFyY2gtbWFzayB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgbGVmdDogMDsNCiAgdG9wOiAwOw0KICB3aWR0aDogOTAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIHotaW5kZXg6IDU7DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/search","sourcesContent":["<template>\r\n  <div\r\n    class=\"vux-search-box\"\r\n    :class=\"{ 'vux-search-fixed':isFixed }\"\r\n    :style=\"{ top: isFixed ? top : '', position: fixPosition }\">\r\n    <div\r\n      class=\"weui-search-bar\"\r\n      :class=\"{'weui-search-bar_focusing': !isCancel || currentValue}\">\r\n      <slot name=\"left\"></slot>\r\n      <form class=\"weui-search-bar__form\" @submit.prevent=\"$emit('on-submit', value)\" action=\".\">\r\n        <label\r\n          :for=\"`search_input_${uuid}`\"\r\n          class=\"vux-search-mask\"\r\n          @click=\"touch\"\r\n          v-show=\"!isFixed && autoFixed\"></label>\r\n        <div class=\"weui-search-bar__box\">\r\n          <i class=\"weui-icon-search\"></i>\r\n          <input\r\n            v-model=\"currentValue\"\r\n            ref=\"input\"\r\n            :type=\"type\"\r\n            autocomplete=\"off\"\r\n            class=\"weui-search-bar__input\"\r\n            :id=\"`search_input_${uuid}`\"\r\n            :placeholder=\"placeholder\"\r\n            :required=\"required\"\r\n            @focus=\"onFocus\"\r\n            @blur=\"onBlur\"\r\n            @compositionstart=\"onComposition($event, 'start')\"\r\n            @compositionend=\"onComposition($event, 'end')\"\r\n            @input=\"onComposition($event, 'input')\"/>\r\n          <a\r\n            href=\"javascript:\"\r\n            class=\"weui-icon-clear\"\r\n            @click=\"clear\"\r\n            v-show=\"currentValue\"></a>\r\n        </div>\r\n        <label\r\n          :for=\"`search_input_${uuid}`\"\r\n          class=\"weui-search-bar__label\"\r\n          v-show=\"!isFocus && !value\">\r\n          <i class=\"weui-icon-search\"></i>\r\n          <span>{{ placeholder || $t('placeholder') }}</span>\r\n        </label>\r\n      </form>\r\n      <a\r\n        href=\"javascript:\"\r\n        class=\"weui-search-bar__cancel-btn\"\r\n        @click=\"cancel\">{{ cancelText || $t('cancel_text') }}\r\n      </a>\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n    <div class=\"weui-cells vux-search_show\" v-show=\"isFixed\">\r\n      <slot></slot>\r\n      <div\r\n        class=\"weui-cell weui-cell_access\"\r\n        v-for=\"item in results\"\r\n        @click=\"handleResultClick(item)\">\r\n        <div class=\"weui-cell__bd weui-cell_primary\">\r\n          <p>{{item.title}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<i18n>\r\ncancel_text:\r\n  en: cancel\r\n  zh-CN: 取消\r\nplaceholder:\r\n  en: Search\r\n  zh-CN: 搜索\r\n</i18n>\r\n\r\n<script>\r\nimport uuidMixin from '../../mixins/uuid'\r\n\r\nexport default {\r\n  name: 'search',\r\n  mixins: [uuidMixin],\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: 'search'\r\n    },\r\n    required: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placeholder: String,\r\n    cancelText: String,\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    results: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    autoFixed: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    top: {\r\n      type: String,\r\n      default: '0px'\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: 'fixed'\r\n    },\r\n    autoScrollToTop: Boolean\r\n  },\r\n  created () {\r\n    if (this.value) {\r\n      this.currentValue = this.value\r\n    }\r\n  },\r\n  computed: {\r\n    fixPosition () {\r\n      if (this.isFixed) {\r\n        return this.position === 'absolute' ? 'absolute' : 'fixed'\r\n      }\r\n      return 'static'\r\n    }\r\n  },\r\n  methods: {\r\n    emitEvent () {\r\n      this.$nextTick(() => {\r\n        this.$emit('input', this.currentValue)\r\n        this.$emit('on-change', this.currentValue)\r\n      })\r\n    },\r\n    onComposition ($event, type) {\r\n      if (type === 'start') {\r\n        this.onInput = true\r\n      }\r\n      if (type === 'end') {\r\n        this.onInput = false\r\n        this.emitEvent()\r\n      }\r\n      if (type === 'input') {\r\n        if (!this.onInput) {\r\n          this.emitEvent()\r\n        }\r\n      }\r\n    },\r\n    clear () {\r\n      this.currentValue = ''\r\n      this.emitEvent()\r\n      this.isFocus = true\r\n      this.setFocus()\r\n      if (this.autoFixed && !this.isFixed) {\r\n        this.isFixed = true\r\n      }\r\n      this.$emit('on-clear')\r\n    },\r\n    cancel () {\r\n      this.isCancel = true\r\n      this.currentValue = ''\r\n      this.emitEvent()\r\n      this.isFixed = false\r\n      this.$emit('on-cancel')\r\n    },\r\n    handleResultClick (item) {\r\n      this.$emit('result-click', item) // just for compatibility\r\n      this.$emit('on-result-click', item)\r\n      this.isCancel = true\r\n      this.isFixed = false\r\n    },\r\n    touch () {\r\n      this.isCancel = false\r\n      if (this.autoFixed) {\r\n        this.isFixed = true\r\n      }\r\n      this.$emit('on-touch')\r\n    },\r\n    setFocus () {\r\n      this.$refs.input.focus()\r\n    },\r\n    setBlur () {\r\n      this.$refs.input.blur()\r\n    },\r\n    onFocus () {\r\n      this.isFocus = true\r\n      this.$emit('on-focus')\r\n      this.touch()\r\n    },\r\n    onBlur () {\r\n      this.isFocus = false\r\n      this.$emit('on-blur')\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      onInput: false,\r\n      currentValue: '',\r\n      isCancel: true,\r\n      isFocus: false,\r\n      isFixed: false\r\n    }\r\n  },\r\n  watch: {\r\n    isFixed (val) {\r\n      if (val === true) {\r\n        this.setFocus()\r\n        this.isFocus = true\r\n\r\n        if (this.autoScrollToTop) {\r\n          setTimeout(() => {\r\n            window.scrollTo(0, 0)\r\n          }, 150)\r\n        }\r\n      } else {}\r\n    },\r\n    value (val) {\r\n      this.currentValue = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/weui/icon/weui_icon_font';\r\n@import '../../styles/weui/widget/weui_searchbar/weui_searchbar';\r\n@import '../../styles/weui/widget/weui_cell/weui_cell_global';\r\n@import '../../styles/weui/widget/weui_cell/weui_access';\r\n\r\n.vux-search-fixed {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 5;\r\n  background: rgba(255, 255, 255, 1);\r\n  // backdrop-filter: blur(5px);\r\n}\r\n.vux-search-box {\r\n  width: 100%;\r\n}\r\n.weui-cells.vux-search_show {\r\n  margin-top: 0!important;\r\n  overflow-y: auto;\r\n  position: fixed;\r\n  width: 100%;\r\n  max-height: 100%;\r\n\r\n  .weui-cell:last-child {\r\n    margin-bottom: 150px;\r\n  }\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  &::after {\r\n    display: none;\r\n  }\r\n}\r\n.vux-search-mask {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 90%;\r\n  height: 100%;\r\n  z-index: 5;\r\n}\r\n</style>\r\n"]}]}