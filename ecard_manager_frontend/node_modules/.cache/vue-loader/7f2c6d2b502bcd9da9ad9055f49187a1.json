{"remainingRequest":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/毕设/ecard_manager_frontend/src/components/common/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/毕设/ecard_manager_frontend/src/components/common/Home.vue","mtime":1636962711956},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/毕设/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2SGVhZCBmcm9tICcuL0hlYWRlci52dWUnOwppbXBvcnQgdlNpZGViYXIgZnJvbSAnLi9TaWRlYmFyLnZ1ZSc7CmltcG9ydCBidXMgZnJvbSAnLi9idXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBSZXF1ZXN0OiB0aGlzLiRhcGkuYXBpLnByb3RvdHlwZSAvKiDnlKjkuo7ojrflj5bor7fmsYLlnLDlnYAgKi8sCiAgICAgICAgICAgIENvbW1vbjogdGhpcy4kY29tbW9uLmNvbW1vbi5wcm90b3R5cGUgLyog55So5LqO6I635Y+W5YWs5YWx5pa55rOVICovLAoKICAgICAgICAgICAgdGFnc0xpc3Q6IFtdLAogICAgICAgICAgICBjb2xsYXBzZTogZmFsc2UsCgogICAgICAgICAgICBhbGFybU1zZzogJycsCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICB2SGVhZCwgdlNpZGViYXIKICAgIH0sCiAgICBjcmVhdGVkICgpIHsKICAgICAgICBidXMuJG9uKCdjb2xsYXBzZScsIG1zZyA9PiB7CiAgICAgICAgICAgIHRoaXMuY29sbGFwc2UgPSBtc2c7CiAgICAgICAgfSkKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICBsZXQgdG9rZW4gPSAidG9rZW4iOwogICAgICAgIGxldCBldmVudCA9ICJhbGFybSI7CiAgICAgICAgbGV0IHdzID0gbmV3IFdlYlNvY2tldCh0aGlzLlJlcXVlc3QuZ2V0V3NBZGRyKCkpOwoKICAgICAgICB3cy5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdzLnNlbmQoIntcInRva2VuXCI6IFwiIiArIHRva2VuICsgIlwiLCBcImV2ZW50XCI6IFwiIiArIGV2ZW50ICsgIlwifSIpCiAgICAgICAgfTsKICAgICAgICB3cy5vbm1lc3NhZ2UgPSAoZSkgPT4gewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgdGl0bGU6ICflkYroraYnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogZS5kYXRhLAogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyB0aGlzLmdldEFsYXJtc0NvdW50UmVxdWVzdCgpOwogICAgICAgIH07CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <v-head></v-head>\n        <v-sidebar></v-sidebar>\n        <div class=\"content-box\"\n             :class=\"{'content-collapse':collapse}\">\n            <div class=\"content\"\n                 id=\"target\">\n                <transition name=\"move\"\n                            mode=\"out-in\">\n                    <router-view></router-view>\n                </transition>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import vHead from './Header.vue';\n    import vSidebar from './Sidebar.vue';\n    import bus from './bus';\n    export default {\n        data () {\n            return {\n                Request: this.$api.api.prototype /* 用于获取请求地址 */,\n                Common: this.$common.common.prototype /* 用于获取公共方法 */,\n\n                tagsList: [],\n                collapse: false,\n\n                alarmMsg: '',\n            }\n        },\n        components: {\n            vHead, vSidebar\n        },\n        created () {\n            bus.$on('collapse', msg => {\n                this.collapse = msg;\n            })\n        },\n\n        mounted() {\n            let token = \"token\";\n            let event = \"alarm\";\n            let ws = new WebSocket(this.Request.getWsAddr());\n\n            ws.onopen = function () {\n                ws.send(\"{\\\"token\\\": \\\"\" + token + \"\\\", \\\"event\\\": \\\"\" + event + \"\\\"}\")\n            };\n            ws.onmessage = (e) => {\n                this.$notify({\n                    title: '告警',\n                    message: e.data,\n                    type: 'warning'\n                });\n                // this.getAlarmsCountRequest();\n            };\n        },\n\n        methods: {\n        }\n    }\n</script>\n<style scoped>\n    .content {\n        overflow-y: auto;\n    }\n</style>"]}]}