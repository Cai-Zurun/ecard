{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/actionsheet/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/actionsheet/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdhY3Rpb25zaGVldCcsDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuaGFzSGVhZGVyU2xvdCA9ICEhdGhpcy4kc2xvdHMuaGVhZGVyDQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgdGhpcy4kdGFiYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndldWktdGFiYmFyJykNCiAgICAgIHRoaXMuJHJlZnMuaU9TTWVudSAmJiB0aGlzLiRyZWZzLmlPU01lbnUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kKQ0KICAgIH0pDQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWU6IEJvb2xlYW4sDQogICAgc2hvd0NhbmNlbDogQm9vbGVhbiwNCiAgICBjYW5jZWxUZXh0OiBTdHJpbmcsDQogICAgdGhlbWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdpb3MnDQogICAgfSwNCiAgICBtZW51czogew0KICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldLA0KICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQ0KICAgIH0sDQogICAgY2xvc2VPbkNsaWNraW5nTWFzazogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGNsb3NlT25DbGlja2luZ01lbnU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfQ0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaGFzSGVhZGVyU2xvdDogZmFsc2UsDQogICAgICBzaG93OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uVHJhbnNpdGlvbkVuZCAoKSB7DQogICAgICB0aGlzLiRlbWl0KHRoaXMuc2hvdyA/ICdvbi1hZnRlci1zaG93JyA6ICdvbi1hZnRlci1oaWRlJykNCiAgICB9LA0KICAgIG9uTWVudUNsaWNrICh0ZXh0LCBrZXkpIHsNCiAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHsNCiAgICAgICAgdGhpcy5lbWl0RXZlbnQoJ29uLWNsaWNrLW1lbnUnLCBrZXksIHRleHQpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBpZiAodGV4dC50eXBlICE9PSAnZGlzYWJsZWQnICYmIHRleHQudHlwZSAhPT0gJ2luZm8nKSB7DQogICAgICAgICAgaWYgKHRleHQudmFsdWUgfHwgdGV4dC52YWx1ZSA9PT0gMCkgew0KICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoJ29uLWNsaWNrLW1lbnUnLCB0ZXh0LnZhbHVlLCB0ZXh0KQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmVtaXRFdmVudCgnb24tY2xpY2stbWVudScsICcnLCB0ZXh0KQ0KICAgICAgICAgICAgdGhpcy5zaG93ID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIG9uQ2xpY2tpbmdNYXNrICgpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ29uLWNsaWNrLW1hc2snKQ0KICAgICAgdGhpcy5jbG9zZU9uQ2xpY2tpbmdNYXNrICYmICh0aGlzLnNob3cgPSBmYWxzZSkNCiAgICB9LA0KICAgIGVtaXRFdmVudCAoZXZlbnQsIG1lbnUsIGl0ZW0pIHsNCiAgICAgIGlmIChldmVudCA9PT0gJ29uLWNsaWNrLW1lbnUnICYmICEvLm5vb3AvLnRlc3QobWVudSkpIHsNCiAgICAgICAgbGV0IF9pdGVtID0gaXRlbQ0KICAgICAgICBpZiAodHlwZW9mIF9pdGVtID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgIF9pdGVtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfaXRlbSkpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdChldmVudCwgbWVudSwgX2l0ZW0pDQogICAgICAgIHRoaXMuJGVtaXQoYCR7ZXZlbnR9LSR7bWVudX1gKQ0KICAgICAgICB0aGlzLmNsb3NlT25DbGlja2luZ01lbnUgJiYgKHRoaXMuc2hvdyA9IGZhbHNlKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZml4SW9zICh6SW5kZXgpIHsNCiAgICAgIGlmICh0aGlzLiRlbC5wYXJlbnROb2RlICYmIHRoaXMuJGVsLnBhcmVudE5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJ3YtdHJhbnNmZXItZG9tJykgIT09IC0xKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuJHRhYmJhciAmJiAvaXBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgew0KICAgICAgICB0aGlzLiR0YWJiYXIuc3R5bGUuekluZGV4ID0gekluZGV4DQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHNob3cgKHZhbCkgew0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpDQogICAgICBpZiAodmFsKSB7DQogICAgICAgIHRoaXMuZml4SW9zKC0xKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgdGhpcy5maXhJb3MoMTAwKQ0KICAgICAgICB9LCAyMDApDQogICAgICB9DQogICAgfSwNCiAgICB2YWx1ZTogew0KICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICB0aGlzLnNob3cgPSB2YWwNCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0sDQogIGJlZm9yZURlc3Ryb3kgKCkgew0KICAgIHRoaXMuZml4SW9zKDEwMCkNCiAgICB0aGlzLiRyZWZzLmlPU01lbnUgJiYgdGhpcy4kcmVmcy5pT1NNZW51LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"node_modules/vux/src/components/actionsheet","sourcesContent":["<template>\r\n  <div class=\"vux-actionsheet\">\r\n\r\n    <transition name=\"vux-actionsheet-mask\">\r\n      <div\r\n        class=\"weui-mask weui-mask_transparent\"\r\n        @click=\"onClickingMask\"\r\n        v-show=\"show\"></div>\r\n    </transition>\r\n\r\n    <div\r\n      class=\"weui-skin_android\"\r\n      v-if=\"theme === 'android'\">\r\n      <transition\r\n        name=\"vux-android-actionsheet\"\r\n        @after-enter=\"$emit('on-after-show')\"\r\n        @after-leave=\"$emit('on-after-hide')\">\r\n        <div\r\n          class=\"weui-actionsheet\"\r\n          v-show=\"show\">\r\n          <div class=\"weui-actionsheet__menu\">\r\n            <div\r\n              class=\"weui-actionsheet__cell\"\r\n              v-for=\"(text, key) in menus\"\r\n              @click=\"onMenuClick(text, key)\"\r\n              v-html=\"$t(text.label || text)\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n\r\n    <div\r\n      class=\"weui-actionsheet\"\r\n      :class=\"{'weui-actionsheet_toggle': show}\"\r\n      v-else\r\n      ref=\"iOSMenu\">\r\n      <div class=\"weui-actionsheet__menu\">\r\n        <div class=\"weui-actionsheet__cell\" v-if=\"hasHeaderSlot\">\r\n          <slot name=\"header\"></slot>\r\n        </div>\r\n        <div\r\n          class=\"weui-actionsheet__cell\"\r\n          v-for=\"(text, key) in menus\"\r\n          @click=\"onMenuClick(text, key)\"\r\n          v-html=\"$t(text.label || text)\"\r\n          :class=\"`vux-actionsheet-menu-${text.type || 'default'}`\">\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"weui-actionsheet__action\"\r\n        @click=\"emitEvent('on-click-menu', 'cancel')\"\r\n        v-if=\"showCancel\">\r\n        <div class=\"weui-actionsheet__cell\">{{cancelText || $t('cancel')}}</div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<i18n>\r\ncancel:\r\n  en: cancel\r\n  zh-CN: 取消\r\n</i18n>\r\n\r\n<script>\r\nexport default {\r\n  name: 'actionsheet',\r\n  mounted () {\r\n    this.hasHeaderSlot = !!this.$slots.header\r\n    this.$nextTick(() => {\r\n      this.$tabbar = document.querySelector('.weui-tabbar')\r\n      this.$refs.iOSMenu && this.$refs.iOSMenu.addEventListener('transitionend', this.onTransitionEnd)\r\n    })\r\n  },\r\n  props: {\r\n    value: Boolean,\r\n    showCancel: Boolean,\r\n    cancelText: String,\r\n    theme: {\r\n      type: String,\r\n      default: 'ios'\r\n    },\r\n    menus: {\r\n      type: [Object, Array],\r\n      default: () => ({})\r\n    },\r\n    closeOnClickingMask: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    closeOnClickingMenu: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      hasHeaderSlot: false,\r\n      show: false\r\n    }\r\n  },\r\n  methods: {\r\n    onTransitionEnd () {\r\n      this.$emit(this.show ? 'on-after-show' : 'on-after-hide')\r\n    },\r\n    onMenuClick (text, key) {\r\n      if (typeof text === 'string') {\r\n        this.emitEvent('on-click-menu', key, text)\r\n      } else {\r\n        if (text.type !== 'disabled' && text.type !== 'info') {\r\n          if (text.value || text.value === 0) {\r\n            this.emitEvent('on-click-menu', text.value, text)\r\n          } else {\r\n            this.emitEvent('on-click-menu', '', text)\r\n            this.show = false\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onClickingMask () {\r\n      this.$emit('on-click-mask')\r\n      this.closeOnClickingMask && (this.show = false)\r\n    },\r\n    emitEvent (event, menu, item) {\r\n      if (event === 'on-click-menu' && !/.noop/.test(menu)) {\r\n        let _item = item\r\n        if (typeof _item === 'object') {\r\n          _item = JSON.parse(JSON.stringify(_item))\r\n        }\r\n        this.$emit(event, menu, _item)\r\n        this.$emit(`${event}-${menu}`)\r\n        this.closeOnClickingMenu && (this.show = false)\r\n      }\r\n    },\r\n    fixIos (zIndex) {\r\n      if (this.$el.parentNode && this.$el.parentNode.className.indexOf('v-transfer-dom') !== -1) {\r\n        return\r\n      }\r\n      if (this.$tabbar && /iphone/i.test(navigator.userAgent)) {\r\n        this.$tabbar.style.zIndex = zIndex\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    show (val) {\r\n      this.$emit('input', val)\r\n      if (val) {\r\n        this.fixIos(-1)\r\n      } else {\r\n        setTimeout(() => {\r\n          this.fixIos(100)\r\n        }, 200)\r\n      }\r\n    },\r\n    value: {\r\n      handler: function (val) {\r\n        this.show = val\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.fixIos(100)\r\n    this.$refs.iOSMenu && this.$refs.iOSMenu.removeEventListener('transitionend', this.onTransitionEnd)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/weui/widget/weui_tips/weui_mask';\r\n@import '../../styles/weui/widget/weui_tips/weui_actionsheet';\r\n\r\n.vux-actionsheet-menu-primary {\r\n  color: @actionsheet-label-primary-color;\r\n}\r\n.vux-actionsheet-menu-warn {\r\n  color: @actionsheet-label-warn-color;\r\n}\r\n.vux-actionsheet-menu-default {\r\n  color: @actionsheet-label-default-color;\r\n}\r\n.vux-actionsheet-menu-disabled {\r\n  color: @actionsheet-label-disabled-color;\r\n}\r\n.vux-actionsheet-mask-enter,\r\n.vux-actionsheet-mask-leave-active,\r\n.vux-android-actionsheet-enter,\r\n.vux-android-actionsheet-leave-active {\r\n  opacity: 0;\r\n}\r\n.vux-actionsheet-mask-leave-active,\r\n.vux-actionsheet-mask-enter-active,\r\n.vux-android-actionsheet-leave-active,\r\n.vux-android-actionsheet-enter-active {\r\n  transition: opacity 300ms!important;\r\n}\r\n</style>\r\n"]}]}