{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/src/components/page/Location.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/src/components/page/Location.vue","mtime":1636290100947},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96cnVuL3Z1ZVNwYWNlL2VjYXJkX21hbmFnZXJfZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGxvYWRBbWFwLCBsb2FkUGx1Z2lucyB9IGZyb20gJ0BhbWFwL2FtYXAtdnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2NhdGlvbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGU6ICdzZWFyY2gnLAogICAgICBjZW50ZXI6IG51bGwsCiAgICAgIHpvb206IDEwLAogICAgICBxdWVyeTogJycsCiAgICAgIHNlYXJjaGluZzogZmFsc2UsCiAgICAgIHRpcHM6IFtdLAogICAgICByZXN1bHRzOiBbXSwKICAgICAgcG9zaXRpb246IG51bGwsCiAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgc2F0ZWxsaXRlOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB3cmFwcGVyOiBmdW5jdGlvbiB3cmFwcGVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy53cmFwcGVyOwogICAgfSwKICAgIHBvc2l0aW9uVGV4dDogZnVuY3Rpb24gcG9zaXRpb25UZXh0KCkgewogICAgICBpZiAoIXRoaXMucG9zaXRpb24pIHJldHVybiAnJzsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLnBvc2l0aW9uWzBdLCAiLCAiKS5jb25jYXQodGhpcy5wb3NpdGlvblsxXSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRyZWFkeSA9IG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlKSB7CiAgICAgICAgdmFyIEFNYXA7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZEFtYXAoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgQU1hcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBsb2FkUGx1Z2lucyhbJ0FNYXAuUGxhY2VTZWFyY2gnLCAnQU1hcC5BdXRvQ29tcGxldGUnXSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzLnBzID0gbmV3IEFNYXAuUGxhY2VTZWFyY2goewogICAgICAgICAgICAgICAgICBwYWdlU2l6ZTogX3RoaXMucGFnZVNpemUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMuYWMgPSBuZXcgQU1hcC5BdXRvQ29tcGxldGUoKTsKICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uTWFwQ2xpY2s6IGZ1bmN0aW9uIG9uTWFwQ2xpY2soZSkgewogICAgICBpZiAoZS5sbmdsYXQpIHsKICAgICAgICB0aGlzLnBvc2l0aW9uID0gW2UubG5nbGF0LmxuZywgZS5sbmdsYXQubGF0XTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBvc2l0aW9uID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY2xlYXIsIHF1ZXJ5OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjbGVhciA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczIubW9kZSA9ICdyZXN1bHQnOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5fcmVhZHk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmIChjbGVhcikgewogICAgICAgICAgICAgICAgICBfdGhpczIucmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSAwOwogICAgICAgICAgICAgICAgICBfdGhpczIucGFnZUluZGV4ID0gMTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5wcy5zZXRQYWdlSW5kZXgoMSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBxdWVyeSA9IF90aGlzMi5xdWVyeTsKCiAgICAgICAgICAgICAgICBfdGhpczIucHMuc2VhcmNoKHF1ZXJ5LCBmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlYXJjaGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBpZiAocXVlcnkgIT09IF90aGlzMi5xdWVyeSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlJyAmJiByZXN1bHQucG9pTGlzdCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZXN1bHRzID0gcmVzdWx0LnBvaUxpc3QucG9pczsKICAgICAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXN1bHQucG9pTGlzdC5jb3VudDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVzdWx0cyA9IFtdOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi50b3RhbCA9IDA7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhdXRvQ29tcGxldGU6IGZ1bmN0aW9uIGF1dG9Db21wbGV0ZShrdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWt3KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50aXBzID0gW107CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuYWMuc2VhcmNoKGt3LCBmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoa3cgIT09IF90aGlzMy5xdWVyeSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGUnICYmIHJlc3VsdC50aXBzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMudGlwcyA9IEFycmF5LmZyb20obmV3IFNldChyZXN1bHQudGlwcy5tYXAoZnVuY3Rpb24gKHRpcCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGlwLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczMudGlwcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cyhwb2kpIHsKICAgICAgdmFyIHBvcyA9IFtwb2kubG9jYXRpb24ubG5nLCBwb2kubG9jYXRpb24ubGF0XTsKICAgICAgdGhpcy5wb3NpdGlvbiA9IFtdLmNvbmNhdChwb3MpOwogICAgICB0aGlzLmNlbnRlciA9IFtdLmNvbmNhdChwb3MpOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5wcy5zZXRQYWdlSW5kZXgoMSk7CiAgICAgIHRoaXMucmVzdWx0cyA9IFtdOwogICAgICB0aGlzLnRpcHMgPSBbXTsKICAgICAgdGhpcy50b3RhbCA9IDA7CiAgICAgIHRoaXMubW9kZSA9ICdzZWFyY2gnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHBhZ2VJbmRleDogZnVuY3Rpb24gcGFnZUluZGV4KHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVhZHkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnBzLnNldFBhZ2VJbmRleCh2YWx1ZSk7CgogICAgICAgIF90aGlzNC5zZWFyY2goZmFsc2UpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Location.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"coord-picker\">\n        <div class=\"map-container\">\n            <amap\n                    cache-key=\"coord-picker-map\"\n                    mmap-style=\"amap://styles/whitesmoke\"\n                    async\n                    :center.sync=\"center\"\n                    :zoom.sync=\"zoom\"\n                    is-hotspot\n                    @click=\"onMapClick\"\n            >\n                <amap-satellite-layer :visible=\"satellite\" />\n\n                <amap-marker v-if=\"position\" :position.sync=\"position\" draggable />\n\n                <a-card\n                        :body-style=\"{\n            'max-height': '450px',\n            'overflow-y': 'scroll',\n            'padding-top': 0,\n          }\"\n                        class=\"result-panel\"\n                >\n                    <template slot=\"title\">\n                        <template v-if=\"mode === 'search'\">\n                            <a-input-group compact style=\"display: flex\">\n                                <a-auto-complete\n                                        v-model=\"query\"\n                                        :data-source=\"tips\"\n                                        placeholder=\"输入关键词\"\n                                        style=\"flex: 1\"\n                                        @search=\"autoComplete\"\n                                />\n                                <a-button\n                                        @click=\"search(true)\"\n                                        :disabled=\"!query\"\n                                        type=\"primary\"\n                                >\n                                    搜索\n                                </a-button>\n                            </a-input-group>\n                        </template>\n                        <template v-if=\"mode === 'result'\">\n                            <div class=\"search-bar\">\n                                <a-button\n                                        icon=\"left\"\n                                        @click=\"reset\"\n                                        style=\"margin-right: 6px;\"\n                                />\n                                <span class=\"text\"\n                                >搜索 {{ query }} 共\n                  {{ searching ? '...' : total }} 条结果</span\n                                >\n                            </div>\n                        </template>\n                    </template>\n\n                    <a-list\n                            v-if=\"mode === 'result'\"\n                            :data-source=\"results\"\n                            :loading=\"searching\"\n                            item-layout=\"vertical\"\n                            size=\"small\"\n                            class=\"result-list\"\n                    >\n                        <a-pagination\n                                slot=\"header\"\n                                v-if=\"total > 0\"\n                                v-model=\"pageIndex\"\n                                :page-size=\"pageSize\"\n                                :total=\"total\"\n                                size=\"small\"\n                        />\n                        <a-list-item slot=\"renderItem\" slot-scope=\"item\" :key=\"item.id\">\n                            <a-list-item-meta :description=\"item.address\">\n                <span\n                        slot=\"title\"\n                        style=\"cursor: pointer;\"\n                        @click=\"focus(item)\"\n                >{{ item.name }}</span\n                >\n                            </a-list-item-meta>\n                        </a-list-item>\n                        <a-pagination\n                                slot=\"footer\"\n                                v-if=\"total > 0\"\n                                v-model=\"pageIndex\"\n                                :page-size=\"pageSize\"\n                                :total=\"total\"\n                                size=\"small\"\n                        />\n                    </a-list>\n                </a-card>\n\n                <a-form class=\"info ant-card ant-card-bordered\" layout=\"inline\">\n                    <a-form-item label=\"坐标\" v-if=\"position\">\n                        <a-input read-only :value=\"positionText\" style=\"width: 200px;\" />\n                    </a-form-item>\n                    <a-form-item label=\"卫星图\">\n                        <a-switch v-model=\"satellite\" />\n                    </a-form-item>\n                </a-form>\n            </amap>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { loadAmap, loadPlugins } from '@amap/amap-vue';\n\n    export default {\n        name: 'Location',\n        data() {\n            return {\n                mode: 'search',\n                center: null,\n                zoom: 10,\n                query: '',\n                searching: false,\n                tips: [],\n                results: [],\n                position: null,\n                pageIndex: 1,\n                pageSize: 10,\n                total: 0,\n                satellite: false,\n            };\n        },\n        computed: {\n            wrapper() {\n                return this.$refs.wrapper;\n            },\n            positionText() {\n                if (!this.position) return '';\n                return `${this.position[0]}, ${this.position[1]}`;\n            },\n        },\n        created() {\n            this.$ready = new Promise(async resolve => {\n                const AMap = await loadAmap();\n                await loadPlugins(['AMap.PlaceSearch', 'AMap.AutoComplete']);\n\n                this.ps = new AMap.PlaceSearch({\n                    pageSize: this.pageSize,\n                });\n                this.ac = new AMap.AutoComplete();\n\n                resolve();\n            });\n        },\n        methods: {\n            onMapClick(e) {\n                if (e.lnglat) {\n                    this.position = [e.lnglat.lng, e.lnglat.lat];\n                } else {\n                    this.position = null;\n                }\n            },\n            async search(clear = false) {\n                this.mode = 'result';\n                await this._ready;\n\n                if (clear) {\n                    this.results = [];\n                    this.total = 0;\n                    this.pageIndex = 1;\n                    this.ps.setPageIndex(1);\n                }\n\n                this.searching = true;\n                const { query } = this;\n                this.ps.search(query, (status, result) => {\n                    this.searching = false;\n                    if (query !== this.query) return;\n\n                    if (status === 'complete' && result.poiList) {\n                        this.results = result.poiList.pois;\n                        this.total = result.poiList.count;\n                    } else {\n                        this.results = [];\n                        this.total = 0;\n                    }\n                });\n            },\n            async autoComplete(kw) {\n                if (!kw) {\n                    this.tips = [];\n                } else {\n                    this.ac.search(kw, (status, result) => {\n                        if (kw !== this.query) return;\n                        if (status === 'complete' && result.tips) {\n                            this.tips = Array.from(new Set(result.tips.map(tip => tip.name)));\n                        } else {\n                            this.tips = [];\n                        }\n                    });\n                }\n            },\n            focus(poi) {\n                const pos = [poi.location.lng, poi.location.lat];\n                this.position = [...pos];\n                this.center = [...pos];\n            },\n            reset() {\n                this.ps.setPageIndex(1);\n                this.results = [];\n                this.tips = [];\n                this.total = 0;\n                this.mode = 'search';\n            },\n        },\n        watch: {\n            pageIndex(value) {\n                this.$ready.then(() => {\n                    this.ps.setPageIndex(value);\n                    this.search(false);\n                });\n            },\n        },\n    };\n</script>\n\n<style lang=\"less\" scoped>\n    .map-container {\n        width: 100%;\n        height: 600px;\n    }\n\n    .result-panel {\n        position: absolute;\n        left: 10px;\n        top: 10px;\n        width: 320px;\n        display: flex;\n        flex-direction: column;\n\n        .search-bar {\n            display: flex;\n            align-items: center;\n            .text {\n                text-overflow: ellipsis;\n                flex: 1;\n                overflow: hidden;\n                white-space: nowrap;\n            }\n        }\n\n        .result-list.ant-list-loading {\n            min-height: 100px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    }\n    .info {\n        position: absolute;\n        right: 10px;\n        top: 10px;\n        padding-left: 24px;\n    }\n</style>"],"sourceRoot":"src/components/page"}]}