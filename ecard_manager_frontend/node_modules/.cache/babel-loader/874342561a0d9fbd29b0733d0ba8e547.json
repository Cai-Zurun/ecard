{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/qrcode/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/qrcode/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBRUkNvZGVJbXBsIGZyb20gJ3FyLmpzL2xpYi9RUkNvZGUnOwppbXBvcnQgRXJyb3JDb3JyZWN0TGV2ZWwgZnJvbSAncXIuanMvbGliL0Vycm9yQ29ycmVjdExldmVsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdxcmNvZGUnLAogIHByb3BzOiB7CiAgICB2YWx1ZTogU3RyaW5nLAogICAgc2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDE2MAogICAgfSwKICAgIGxldmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ0wnCiAgICB9LAogICAgYmdDb2xvcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcjRkZGRkZGJwogICAgfSwKICAgIGZnQ29sb3I6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnIzAwMDAwMCcKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ltZycKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucmVuZGVyKCk7CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbWdEYXRhOiAnJwogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgIHRoaXMucmVuZGVyKCk7CiAgICB9LAogICAgc2l6ZTogZnVuY3Rpb24gc2l6ZSgpIHsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0sCiAgICBsZXZlbDogZnVuY3Rpb24gbGV2ZWwoKSB7CiAgICAgIHRoaXMucmVuZGVyKCk7CiAgICB9LAogICAgYmdDb2xvcjogZnVuY3Rpb24gYmdDb2xvcigpIHsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0sCiAgICBmZ0NvbG9yOiBmdW5jdGlvbiBmZ0NvbG9yKCkgewogICAgICB0aGlzLnJlbmRlcigpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGVJbXBsKC0xLCBFcnJvckNvcnJlY3RMZXZlbFt0aGlzLmxldmVsXSk7CiAgICAgIHFyY29kZS5hZGREYXRhKHV0ZjE2dG84KHRoaXMudmFsdWUpKTsKICAgICAgcXJjb2RlLm1ha2UoKTsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBjZWxscyA9IHFyY29kZS5tb2R1bGVzOwogICAgICB2YXIgdGlsZVcgPSB0aGlzLnNpemUgLyBjZWxscy5sZW5ndGg7CiAgICAgIHZhciB0aWxlSCA9IHRoaXMuc2l6ZSAvIGNlbGxzLmxlbmd0aDsKICAgICAgdmFyIHNjYWxlID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpIC8gZ2V0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyhjdHgpOwogICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLndpZHRoID0gdGhpcy5zaXplICogc2NhbGU7CiAgICAgIGN0eC5zY2FsZShzY2FsZSwgc2NhbGUpOwogICAgICBjZWxscy5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIHJkeCkgewogICAgICAgIHJvdy5mb3JFYWNoKGZ1bmN0aW9uIChjZWxsLCBjZHgpIHsKICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjZWxsID8gX3RoaXMyLmZnQ29sb3IgOiBfdGhpczIuYmdDb2xvcjsKICAgICAgICAgIHZhciB3ID0gTWF0aC5jZWlsKChjZHggKyAxKSAqIHRpbGVXKSAtIE1hdGguZmxvb3IoY2R4ICogdGlsZVcpOwogICAgICAgICAgdmFyIGggPSBNYXRoLmNlaWwoKHJkeCArIDEpICogdGlsZUgpIC0gTWF0aC5mbG9vcihyZHggKiB0aWxlSCk7CiAgICAgICAgICBjdHguZmlsbFJlY3QoTWF0aC5yb3VuZChjZHggKiB0aWxlVyksIE1hdGgucm91bmQocmR4ICogdGlsZUgpLCB3LCBoKTsKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy50eXBlID09PSAnaW1nJykgewogICAgICAgIHRoaXMuaW1nRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpOwogICAgICB9CiAgICB9CiAgfQp9OwoKZnVuY3Rpb24gZ2V0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyhjdHgpIHsKICByZXR1cm4gY3R4LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4Lm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCBjdHgub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTsKfQoKZnVuY3Rpb24gdXRmMTZ0bzgoc3RyKSB7CiAgdmFyIG91dCwgaSwgbGVuLCBjOwogIG91dCA9ICcnOwogIGxlbiA9IHN0ci5sZW5ndGg7CgogIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpOwoKICAgIGlmIChjID49IDB4MDAwMSAmJiBjIDw9IDB4MDA3RikgewogICAgICBvdXQgKz0gc3RyLmNoYXJBdChpKTsKICAgIH0gZWxzZSBpZiAoYyA+IDB4MDdGRikgewogICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEUwIHwgYyA+PiAxMiAmIDB4MEYpOwogICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDgwIHwgYyA+PiA2ICYgMHgzRik7CiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ODAgfCBjID4+IDAgJiAweDNGKTsKICAgIH0gZWxzZSB7CiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4QzAgfCBjID4+IDYgJiAweDFGKTsKICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHg4MCB8IGMgPj4gMCAmIDB4M0YpOwogICAgfQogIH0KCiAgcmV0dXJuIG91dDsKfQ=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <canvas\r\n    :style=\"{\r\n      height: `${size}px`,\r\n      width: `${size}px`\r\n    }\"\r\n    :height=\"size\"\r\n    :width=\"size\"\r\n    v-show=\"type === 'canvas'\"\r\n    ref=\"canvas\"></canvas>\r\n    <img\r\n    :src=\"imgData\"\r\n    v-if=\"type === 'img'\"\r\n    :style=\"{\r\n      height: `${size}px`,\r\n      width: `${size}px`\r\n    }\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QRCodeImpl from 'qr.js/lib/QRCode'\r\nimport ErrorCorrectLevel from 'qr.js/lib/ErrorCorrectLevel'\r\n\r\nexport default {\r\n  name: 'qrcode',\r\n  props: {\r\n    value: String,\r\n    size: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    level: {\r\n      type: String,\r\n      default: 'L'\r\n    },\r\n    bgColor: {\r\n      type: String,\r\n      default: '#FFFFFF'\r\n    },\r\n    fgColor: {\r\n      type: String,\r\n      default: '#000000'\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'img'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.render()\r\n    })\r\n  },\r\n  data () {\r\n    return {\r\n      imgData: ''\r\n    }\r\n  },\r\n  watch: {\r\n    value () {\r\n      this.render()\r\n    },\r\n    size () {\r\n      this.render()\r\n    },\r\n    level () {\r\n      this.render()\r\n    },\r\n    bgColor () {\r\n      this.render()\r\n    },\r\n    fgColor () {\r\n      this.render()\r\n    }\r\n  },\r\n  methods: {\r\n    render () {\r\n      if (typeof this.value === 'undefined') {\r\n        return\r\n      }\r\n\r\n      const qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[this.level])\r\n      qrcode.addData(utf16to8(this.value))\r\n      qrcode.make()\r\n\r\n      const canvas = this.$refs.canvas\r\n\r\n      const ctx = canvas.getContext('2d')\r\n      const cells = qrcode.modules\r\n      const tileW = this.size / cells.length\r\n      const tileH = this.size / cells.length\r\n      const scale = (window.devicePixelRatio || 1) / getBackingStorePixelRatio(ctx)\r\n      canvas.height = canvas.width = this.size * scale\r\n      ctx.scale(scale, scale)\r\n\r\n      cells.forEach((row, rdx) => {\r\n        row.forEach((cell, cdx) => {\r\n          ctx.fillStyle = cell ? this.fgColor : this.bgColor\r\n          const w = (Math.ceil((cdx + 1) * tileW) - Math.floor(cdx * tileW))\r\n          const h = (Math.ceil((rdx + 1) * tileH) - Math.floor(rdx * tileH))\r\n          ctx.fillRect(Math.round(cdx * tileW), Math.round(rdx * tileH), w, h)\r\n        })\r\n      })\r\n      if (this.type === 'img') {\r\n        this.imgData = canvas.toDataURL('image/png')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getBackingStorePixelRatio (ctx) {\r\n  return (\r\n    ctx.webkitBackingStorePixelRatio ||\r\n    ctx.mozBackingStorePixelRatio ||\r\n    ctx.msBackingStorePixelRatio ||\r\n    ctx.oBackingStorePixelRatio ||\r\n    ctx.backingStorePixelRatio ||\r\n    1\r\n  )\r\n}\r\n\r\nfunction utf16to8 (str) {\r\n  var out, i, len, c\r\n  out = ''\r\n  len = str.length\r\n  for (i = 0; i < len; i++) {\r\n    c = str.charCodeAt(i)\r\n    if ((c >= 0x0001) && (c <= 0x007F)) {\r\n      out += str.charAt(i)\r\n    } else if (c > 0x07FF) {\r\n      out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F))\r\n      out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F))\r\n      out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F))\r\n    } else {\r\n      out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F))\r\n      out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F))\r\n    }\r\n  }\r\n  return out\r\n}\r\n</script>\r\n"],"sourceRoot":"node_modules/vux/src/components/qrcode"}]}