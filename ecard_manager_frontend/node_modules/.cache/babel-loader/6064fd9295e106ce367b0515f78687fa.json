{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/marquee/marquee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/marquee/marquee.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtYXJxdWVlJywKICBwcm9wczogewogICAgaW50ZXJ2YWw6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMDAwCiAgICB9LAogICAgZHVyYXRpb246IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzMDAKICAgIH0sCiAgICBkaXJlY3Rpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAndXAnCiAgICB9LAogICAgaXRlbUhlaWdodDogTnVtYmVyCiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5kZXN0cm95KCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVuVHJhbnNsYXRlWTogMCwKICAgICAgaGVpZ2h0OiAnJywKICAgICAgbGVuZ3RoOiAwLAogICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgIG5vQW5pbWF0ZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5kZXN0cm95KCk7CgogICAgICBpZiAodGhpcy5jbG9uZU5vZGUpIHsKICAgICAgICB0aGlzLiRyZWZzLmJveC5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTm9kZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvbmVOb2RlID0gbnVsbDsKICAgICAgdmFyIGZpcnN0SXRlbSA9IHRoaXMuJHJlZnMuYm94LmZpcnN0RWxlbWVudENoaWxkOwoKICAgICAgaWYgKCFmaXJzdEl0ZW0pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy4kcmVmcy5ib3guY2hpbGRyZW4ubGVuZ3RoOwogICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaXRlbUhlaWdodCB8fCBmaXJzdEl0ZW0ub2Zmc2V0SGVpZ2h0OwoKICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndXAnKSB7CiAgICAgICAgdGhpcy5jbG9uZU5vZGUgPSBmaXJzdEl0ZW0uY2xvbmVOb2RlKHRydWUpOwogICAgICAgIHRoaXMuJHJlZnMuYm94LmFwcGVuZENoaWxkKHRoaXMuY2xvbmVOb2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsb25lTm9kZSA9IHRoaXMuJHJlZnMuYm94Lmxhc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpOwogICAgICAgIHRoaXMuJHJlZnMuYm94Lmluc2VydEJlZm9yZSh0aGlzLmNsb25lTm9kZSwgZmlyc3RJdGVtKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpIHRoaXMuZ28oZmFsc2UpOwogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpcy5kaXJlY3Rpb24gPT09ICd1cCcpIHsKICAgICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCArPSAxOwogICAgICAgICAgX3RoaXMuY3VycmVuVHJhbnNsYXRlWSA9IC1fdGhpcy5jdXJyZW50SW5kZXggKiBfdGhpcy5oZWlnaHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmN1cnJlbnRJbmRleCAtPSAxOwogICAgICAgICAgX3RoaXMuY3VycmVuVHJhbnNsYXRlWSA9IC0oX3RoaXMuY3VycmVudEluZGV4ICsgMSkgKiBfdGhpcy5oZWlnaHQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMuY3VycmVudEluZGV4ID09PSBfdGhpcy5sZW5ndGgpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5nbyh0cnVlKTsKICAgICAgICAgIH0sIF90aGlzLmR1cmF0aW9uKTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmN1cnJlbnRJbmRleCA9PT0gLTEpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5nbyhmYWxzZSk7CiAgICAgICAgICB9LCBfdGhpcy5kdXJhdGlvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLm5vQW5pbWF0ZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSwgdGhpcy5pbnRlcnZhbCArIHRoaXMuZHVyYXRpb24pOwogICAgfSwKICAgIGdvOiBmdW5jdGlvbiBnbyh0b0ZpcnN0KSB7CiAgICAgIHRoaXMubm9BbmltYXRlID0gdHJ1ZTsKCiAgICAgIGlmICh0b0ZpcnN0KSB7CiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwOwogICAgICAgIHRoaXMuY3VycmVuVHJhbnNsYXRlWSA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLmxlbmd0aCAtIDE7CiAgICAgICAgdGhpcy5jdXJyZW5UcmFuc2xhdGVZID0gLSh0aGlzLmN1cnJlbnRJbmRleCArIDEpICogdGhpcy5oZWlnaHQ7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["marquee.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"vux-marquee\" :style=\"{height: height + 'px'}\">\r\n    <ul class=\"vux-marquee-box\" ref=\"box\" :style=\"{transform: `translate3d(0,${currenTranslateY}px,0)`, transition: `transform ${noAnimate ? 0 : duration}ms`}\">\r\n      <slot></slot>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'marquee',\r\n  props: {\r\n    interval: {\r\n      type: Number,\r\n      default: 2000\r\n    },\r\n    duration: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    direction: {\r\n      type: String,\r\n      default: 'up'\r\n    },\r\n    itemHeight: Number\r\n  },\r\n  beforeDestroy () {\r\n    this.destroy()\r\n  },\r\n  data () {\r\n    return {\r\n      currenTranslateY: 0,\r\n      height: '',\r\n      length: 0,\r\n      currentIndex: 0,\r\n      noAnimate: false\r\n    }\r\n  },\r\n  methods: {\r\n    destroy () {\r\n      this.timer && clearInterval(this.timer)\r\n    },\r\n    init () {\r\n      this.destroy()\r\n\r\n      if (this.cloneNode) {\r\n        this.$refs.box.removeChild(this.cloneNode)\r\n      }\r\n\r\n      this.cloneNode = null\r\n      let firstItem = this.$refs.box.firstElementChild\r\n      if (!firstItem) {\r\n        return false\r\n      }\r\n      this.length = this.$refs.box.children.length\r\n      this.height = this.itemHeight || firstItem.offsetHeight\r\n\r\n      if (this.direction === 'up') {\r\n        this.cloneNode = firstItem.cloneNode(true)\r\n        this.$refs.box.appendChild(this.cloneNode)\r\n      } else {\r\n        this.cloneNode = this.$refs.box.lastElementChild.cloneNode(true)\r\n        this.$refs.box.insertBefore(this.cloneNode, firstItem)\r\n      }\r\n      return true\r\n    },\r\n    start () {\r\n      if (this.direction === 'down') this.go(false)\r\n      this.timer = setInterval(() => {\r\n        if (this.direction === 'up') {\r\n          this.currentIndex += 1\r\n          this.currenTranslateY = -this.currentIndex * this.height\r\n        } else {\r\n          this.currentIndex -= 1\r\n          this.currenTranslateY = -(this.currentIndex + 1) * this.height\r\n        }\r\n        if (this.currentIndex === this.length) {\r\n          setTimeout(() => {\r\n            this.go(true)\r\n          }, this.duration)\r\n        } else if (this.currentIndex === -1) {\r\n          setTimeout(() => {\r\n            this.go(false)\r\n          }, this.duration)\r\n        } else {\r\n          this.noAnimate = false\r\n        }\r\n      }, this.interval + this.duration)\r\n    },\r\n    go (toFirst) {\r\n      this.noAnimate = true\r\n      if (toFirst) {\r\n        this.currentIndex = 0\r\n        this.currenTranslateY = 0\r\n      } else {\r\n        this.currentIndex = this.length - 1\r\n        this.currenTranslateY = -(this.currentIndex + 1) * this.height\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.vux-marquee {\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n.vux-marquee-box {\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  height: auto;\r\n  \r\n  li {\r\n    margin: 0;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"node_modules/vux/src/components/marquee"}]}