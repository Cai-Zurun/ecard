{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/popup/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUG9wdXAgZnJvbSAnLi9wb3B1cCc7CmltcG9ydCBkb20gZnJvbSAnLi4vLi4vbGlicy9kb20nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3BvcHVwJywKICBwcm9wczogewogICAgdmFsdWU6IEJvb2xlYW4sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYXV0bycKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdhdXRvJwogICAgfSwKICAgIHNob3dNYXNrOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBpc1RyYW5zcGFyZW50OiBCb29sZWFuLAogICAgaGlkZU9uQmx1cjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcG9zaXRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYm90dG9tJwogICAgfSwKICAgIG1heEhlaWdodDogU3RyaW5nLAogICAgcG9wdXBTdHlsZTogT2JqZWN0LAogICAgaGlkZU9uRGVhY3RpdmF0ZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHNob3VsZFJlcmVuZGVyT25TaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2hvdWxkU2Nyb2xsVG9wT25TaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gZ2V0IGdsb2JhbCBsYXlvdXQgY29uZmlnCiAgICBpZiAodGhpcy4kdnV4ICYmIHRoaXMuJHZ1eC5jb25maWcgJiYgdGhpcy4kdnV4LmNvbmZpZy4kbGF5b3V0ID09PSAnVklFV19CT1gnKSB7CiAgICAgIHRoaXMubGF5b3V0ID0gJ1ZJRVdfQk9YJzsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLiRvdmVyZmxvd1Njcm9sbGluZ0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnV4LWZpeC1zYWZhcmktb3ZlcmZsb3ctc2Nyb2xsaW5nJyk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyA9IF90aGlzMjsKICAgICAgX3RoaXMyLnBvcHVwID0gbmV3IFBvcHVwKHsKICAgICAgICBzaG93TWFzazogX3RoaXMuc2hvd01hc2ssCiAgICAgICAgY29udGFpbmVyOiBfdGhpcy4kZWwsCiAgICAgICAgaGlkZU9uQmx1cjogX3RoaXMuaGlkZU9uQmx1ciwKICAgICAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHsKICAgICAgICAgIF90aGlzLmZpeFNhZmFyaU92ZXJmbG93U2Nyb2xsaW5nKCdhdXRvJyk7CgogICAgICAgICAgX3RoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICAgICAgX3RoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgICAgaWYgKHdpbmRvdy5fXyR2dXhQb3B1cHMgJiYgT2JqZWN0LmtleXMod2luZG93Ll9fJHZ1eFBvcHVwcykubGVuZ3RoID4gMSkgcmV0dXJuOwogICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52dXgtcG9wdXAtZGlhbG9nLnZ1eC1wb3B1cC1tYXNrLWRpc2FibGVkJykpIHJldHVybjsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy5maXhTYWZhcmlPdmVyZmxvd1Njcm9sbGluZygndG91Y2gnKTsKICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChfdGhpczIudmFsdWUpIHsKICAgICAgICBfdGhpczIucG9wdXAuc2hvdygpOwogICAgICB9CgogICAgICBfdGhpczIuaW5pdGlhbFNob3cgPSBmYWxzZTsKICAgIH0pOwogIH0sCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgaWYgKHRoaXMuaGlkZU9uRGVhY3RpdmF0ZWQpIHsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICB9CgogICAgdGhpcy5yZW1vdmVNb2RhbENsYXNzTmFtZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqDQogICAgKiBodHRwczovL2dpdGh1Yi5jb20vYWlyeWxhbmQvdnV4L2lzc3Vlcy8zMTENCiAgICAqIGh0dHBzOi8vYmVuZnJhaW4uY29tL3otaW5kZXgtc3RhY2tpbmctY29udGV4dHMtZXhwZXJpbWVudGFsLWNzcy1hbmQtaW9zLXNhZmFyaS8NCiAgICAqLwogICAgZml4U2FmYXJpT3ZlcmZsb3dTY3JvbGxpbmc6IGZ1bmN0aW9uIGZpeFNhZmFyaU92ZXJmbG93U2Nyb2xsaW5nKHR5cGUpIHsKICAgICAgaWYgKCF0aGlzLiRvdmVyZmxvd1Njcm9sbGluZ0xpc3QubGVuZ3RoKSByZXR1cm47IC8vIGlmICghL2lwaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHJldHVybgoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRvdmVyZmxvd1Njcm9sbGluZ0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLiRvdmVyZmxvd1Njcm9sbGluZ0xpc3RbaV0uc3R5bGUud2Via2l0T3ZlcmZsb3dTY3JvbGxpbmcgPSB0eXBlOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlTW9kYWxDbGFzc05hbWU6IGZ1bmN0aW9uIHJlbW92ZU1vZGFsQ2xhc3NOYW1lKCkgewogICAgICB0aGlzLmxheW91dCA9PT0gJ1ZJRVdfQk9YJyAmJiBkb20ucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3Z1eC1tb2RhbC1vcGVuJyk7CiAgICB9LAogICAgZG9TaG93OiBmdW5jdGlvbiBkb1Nob3coKSB7CiAgICAgIHRoaXMucG9wdXAgJiYgdGhpcy5wb3B1cC5zaG93KCk7CiAgICAgIHRoaXMuJGVtaXQoJ29uLXNob3cnKTsKICAgICAgdGhpcy5maXhTYWZhcmlPdmVyZmxvd1Njcm9sbGluZygnYXV0bycpOwogICAgICB0aGlzLmxheW91dCA9PT0gJ1ZJRVdfQk9YJyAmJiBkb20uYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3Z1eC1tb2RhbC1vcGVuJyk7CgogICAgICBpZiAoIXRoaXMuaGFzRmlyc3RTaG93KSB7CiAgICAgICAgdGhpcy4kZW1pdCgnb24tZmlyc3Qtc2hvdycpOwogICAgICAgIHRoaXMuaGFzRmlyc3RTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHNjcm9sbFRvcDogZnVuY3Rpb24gc2Nyb2xsVG9wKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGVsLnNjcm9sbFRvcCA9IDA7CgogICAgICAgIHZhciBib3ggPSBfdGhpczMuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52dXgtc2Nyb2xsYWJsZScpOwoKICAgICAgICBpZiAoYm94Lmxlbmd0aCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3gubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYm94W2ldLnNjcm9sbFRvcCA9IDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYXlvdXQ6ICcnLAogICAgICBpbml0aWFsU2hvdzogdHJ1ZSwKICAgICAgaGFzRmlyc3RTaG93OiBmYWxzZSwKICAgICAgc2hvdWxkUmVuZGVyQm9keTogdHJ1ZSwKICAgICAgc2hvdzogdGhpcy52YWx1ZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdHlsZXM6IGZ1bmN0aW9uIHN0eWxlcygpIHsKICAgICAgdmFyIHN0eWxlcyA9IHt9OwoKICAgICAgaWYgKCF0aGlzLnBvc2l0aW9uIHx8IHRoaXMucG9zaXRpb24gPT09ICdib3R0b20nIHx8IHRoaXMucG9zaXRpb24gPT09ICd0b3AnKSB7CiAgICAgICAgc3R5bGVzLmhlaWdodCA9IHRoaXMuaGVpZ2h0OwogICAgICB9IGVsc2UgewogICAgICAgIHN0eWxlcy53aWR0aCA9IHRoaXMud2lkdGg7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm1heEhlaWdodCkgewogICAgICAgIHN0eWxlc1snbWF4LWhlaWdodCddID0gdGhpcy5tYXhIZWlnaHQ7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNUcmFuc3BhcmVudCAmJiAoc3R5bGVzWydiYWNrZ3JvdW5kJ10gPSAndHJhbnNwYXJlbnQnKTsKCiAgICAgIGlmICh0aGlzLnBvcHVwU3R5bGUpIHsKICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMucG9wdXBTdHlsZSkgewogICAgICAgICAgc3R5bGVzW2ldID0gdGhpcy5wb3B1cFN0eWxlW2ldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHN0eWxlczsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHRoaXMuc2hvdyA9IHZhbDsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KHZhbCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsKCiAgICAgIGlmICh2YWwpIHsKICAgICAgICAvLyByZXJlbmRlciBib2R5CiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVyZW5kZXJPblNob3cpIHsKICAgICAgICAgIHRoaXMuc2hvdWxkUmVuZGVyQm9keSA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczQuc2Nyb2xsVG9wKCk7CgogICAgICAgICAgICBfdGhpczQuc2hvdWxkUmVuZGVyQm9keSA9IHRydWU7CgogICAgICAgICAgICBfdGhpczQuZG9TaG93KCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMuc2hvdWxkU2Nyb2xsVG9wT25TaG93KSB7CiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wKCk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5kb1Nob3coKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnb24taGlkZScpOwogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgIHRoaXMucG9wdXAuaGlkZShmYWxzZSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52dXgtcG9wdXAtZGlhbG9nLnZ1eC1wb3B1cC1zaG93JykpIHsKICAgICAgICAgICAgX3RoaXM0LmZpeFNhZmFyaU92ZXJmbG93U2Nyb2xsaW5nKCd0b3VjaCcpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNC5yZW1vdmVNb2RhbENsYXNzTmFtZSgpOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnBvcHVwICYmIHRoaXMucG9wdXAuZGVzdHJveSgpOwogICAgdGhpcy5maXhTYWZhcmlPdmVyZmxvd1Njcm9sbGluZygndG91Y2gnKTsKICAgIHRoaXMucmVtb3ZlTW9kYWxDbGFzc05hbWUoKTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <transition\r\n    :name=\"`vux-popup-animate-${position}`\">\r\n    <div\r\n      v-show=\"show && !initialShow\"\r\n      :style=\"styles\"\r\n      class=\"vux-popup-dialog\"\r\n      :class=\"[`vux-popup-${position}`, show ? 'vux-popup-show' : '']\">\r\n        <slot v-if=\"shouldRenderBody\"></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport Popup from './popup'\r\nimport dom from '../../libs/dom'\r\n\r\nexport default {\r\n  name: 'popup',\r\n  props: {\r\n    value: Boolean,\r\n    height: {\r\n      type: String,\r\n      default: 'auto'\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: 'auto'\r\n    },\r\n    showMask: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isTransparent: Boolean,\r\n    hideOnBlur: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: 'bottom'\r\n    },\r\n    maxHeight: String,\r\n    popupStyle: Object,\r\n    hideOnDeactivated: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    shouldRerenderOnShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    shouldScrollTopOnShow: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  created () {\r\n    // get global layout config\r\n    if (this.$vux && this.$vux.config && this.$vux.config.$layout === 'VIEW_BOX') {\r\n      this.layout = 'VIEW_BOX'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$overflowScrollingList = document.querySelectorAll('.vux-fix-safari-overflow-scrolling')\r\n    this.$nextTick(() => {\r\n      const _this = this\r\n      this.popup = new Popup({\r\n        showMask: _this.showMask,\r\n        container: _this.$el,\r\n        hideOnBlur: _this.hideOnBlur,\r\n        onOpen () {\r\n          _this.fixSafariOverflowScrolling('auto')\r\n          _this.show = true\r\n        },\r\n        onClose () {\r\n          _this.show = false\r\n          if (window.__$vuxPopups && Object.keys(window.__$vuxPopups).length > 1) return\r\n          if (document.querySelector('.vux-popup-dialog.vux-popup-mask-disabled')) return\r\n          setTimeout(() => {\r\n            _this.fixSafariOverflowScrolling('touch')\r\n          }, 300)\r\n        }\r\n      })\r\n      if (this.value) {\r\n        this.popup.show()\r\n      }\r\n      this.initialShow = false\r\n    })\r\n  },\r\n  deactivated () {\r\n    if (this.hideOnDeactivated) {\r\n      this.show = false\r\n    }\r\n    this.removeModalClassName()\r\n  },\r\n  methods: {\r\n    /**\r\n    * https://github.com/airyland/vux/issues/311\r\n    * https://benfrain.com/z-index-stacking-contexts-experimental-css-and-ios-safari/\r\n    */\r\n    fixSafariOverflowScrolling (type) {\r\n      if (!this.$overflowScrollingList.length) return\r\n      // if (!/iphone/i.test(navigator.userAgent)) return\r\n      for (let i = 0; i < this.$overflowScrollingList.length; i++) {\r\n        this.$overflowScrollingList[i].style.webkitOverflowScrolling = type\r\n      }\r\n    },\r\n    removeModalClassName () {\r\n      this.layout === 'VIEW_BOX' && dom.removeClass(document.body, 'vux-modal-open')\r\n    },\r\n    doShow () {\r\n      this.popup && this.popup.show()\r\n      this.$emit('on-show')\r\n      this.fixSafariOverflowScrolling('auto')\r\n      this.layout === 'VIEW_BOX' && dom.addClass(document.body, 'vux-modal-open')\r\n      if (!this.hasFirstShow) {\r\n        this.$emit('on-first-show')\r\n        this.hasFirstShow = true\r\n      }\r\n    },\r\n    scrollTop () {\r\n      this.$nextTick(() => {\r\n        this.$el.scrollTop = 0\r\n        const box = this.$el.querySelectorAll('.vux-scrollable')\r\n        if (box.length) {\r\n          for (let i = 0; i < box.length; i++) {\r\n            box[i].scrollTop = 0\r\n          }\r\n        }\r\n      })\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      layout: '',\r\n      initialShow: true,\r\n      hasFirstShow: false,\r\n      shouldRenderBody: true,\r\n      show: this.value\r\n    }\r\n  },\r\n  computed: {\r\n    styles () {\r\n      const styles = {}\r\n      if (!this.position || this.position === 'bottom' || this.position === 'top') {\r\n        styles.height = this.height\r\n      } else {\r\n        styles.width = this.width\r\n      }\r\n\r\n      if (this.maxHeight) {\r\n        styles['max-height'] = this.maxHeight\r\n      }\r\n\r\n      this.isTransparent && (styles['background'] = 'transparent')\r\n      if (this.popupStyle) {\r\n        for (let i in this.popupStyle) {\r\n          styles[i] = this.popupStyle[i]\r\n        }\r\n      }\r\n      return styles\r\n    }\r\n  },\r\n  watch: {\r\n    value (val) {\r\n      this.show = val\r\n    },\r\n    show (val) {\r\n      this.$emit('input', val)\r\n      if (val) {\r\n        // rerender body\r\n        if (this.shouldRerenderOnShow) {\r\n          this.shouldRenderBody = false\r\n          this.$nextTick(() => {\r\n            this.scrollTop()\r\n            this.shouldRenderBody = true\r\n            this.doShow()\r\n          })\r\n        } else {\r\n          if (this.shouldScrollTopOnShow) {\r\n            this.scrollTop()\r\n          }\r\n          this.doShow()\r\n        }\r\n      } else {\r\n        this.$emit('on-hide')\r\n        this.show = false\r\n        this.popup.hide(false)\r\n        setTimeout(() => {\r\n          if (!document.querySelector('.vux-popup-dialog.vux-popup-show')) {\r\n            this.fixSafariOverflowScrolling('touch')\r\n          }\r\n          this.removeModalClassName()\r\n        }, 200)\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.popup && this.popup.destroy()\r\n    this.fixSafariOverflowScrolling('touch')\r\n    this.removeModalClassName()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../../styles/variable.less';\r\n@import '../../styles/vux-modal.css';\r\n\r\n.vux-popup-dialog {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: @popup-background-color;\r\n  z-index: 501;\r\n  transition-property: transform;\r\n  transition-duration: 300ms;\r\n  max-height: 100%;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n.vux-popup-dialog.vux-popup-left {\r\n  width: auto;\r\n  height: 100%;\r\n  top: 0;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 0;\r\n}\r\n.vux-popup-dialog.vux-popup-right {\r\n  width: auto;\r\n  height: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: auto;\r\n  left: auto;\r\n}\r\n.vux-popup-dialog.vux-popup-top {\r\n  width: 100%;\r\n  top: 0;\r\n  right: auto;\r\n  bottom: auto;\r\n  left: 0;\r\n}\r\n.vux-popup-mask {\r\n  display: block;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  tap-highlight-color: rgba(0,0,0,0);\r\n  z-index: -1;\r\n  transition: opacity 400ms;\r\n}\r\n.vux-popup-mask.vux-popup-show {\r\n  opacity: 1;\r\n}\r\n\r\n.vux-popup-animate-bottom-enter, .vux-popup-animate-bottom-leave-active {\r\n  transform: translate3d(0, 100%, 0);\r\n}\r\n\r\n.vux-popup-animate-left-enter, .vux-popup-animate-left-leave-active {\r\n  transform: translate3d(-100%, 0, 0);\r\n}\r\n\r\n.vux-popup-animate-right-enter, .vux-popup-animate-right-leave-active {\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n\r\n.vux-popup-animate-top-enter, .vux-popup-animate-top-leave-active {\r\n  transform: translate3d(0, -100%, 0);\r\n}\r\n</style>\r\n"],"sourceRoot":"node_modules/vux/src/components/popup"}]}