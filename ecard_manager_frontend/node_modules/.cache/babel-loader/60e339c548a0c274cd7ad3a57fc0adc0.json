{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/clocker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/clocker/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENsb2NrZXIgZnJvbSAnLi9jbG9ja2VyJzsKdmFyIGZvcm1hdCA9ICclRCDlpKkgJUgg5bCP5pe2ICVNIOWIhiAlUyDnp5InOwoKaWYgKHR5cGVvZiBWX0xPQ0FMRSA9PT0gJ3VuZGVmaW5lZCcpIHsKICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHsKICAgIGNvbnNvbGUud2FybignW1ZVWCB3YXJuXSDmirHmrYnvvIxjbG9ja2VyIOe7hOS7tumcgOimgeWNh+e6pyB2dXgtbG9hZGVyIOWIsOacgOaWsOeJiOacrOaJjeiDveato+W4uOS9v+eUqCcpOwogIH0KfSBlbHNlIHsKICBpZiAoVl9MT0NBTEUgPT09ICdlbicpIHsKICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUKICAgIGZvcm1hdCA9ICclRCBkICVIIGggJU0gbSAlUyBzJzsKICB9IGVsc2UgaWYgKFZfTE9DQUxFID09PSAnemgtQ04nKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICBmb3JtYXQgPSAnJUQg5aSpICVIIOWwj+aXtiAlTSDliIYgJVMg56eSJzsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2xvY2tlcicsCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zbG90ID0gX3RoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy52dXgtY2xvY2tlci10cGwnKTsKICAgICAgX3RoaXMuc2xvdFN0cmluZyA9IF90aGlzLnNsb3QuaW5uZXJIVE1MOwoKICAgICAgaWYgKF90aGlzLnNsb3RTdHJpbmcgIT09ICcnKSB7CiAgICAgICAgX3RoaXMuc2hvd1RpbWVTdHJpbmcgPSBmYWxzZTsKICAgICAgfQoKICAgICAgX3RoaXMucmVuZGVyKCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy50aW1lKSByZXR1cm47CiAgICAgIHRoaXMuY2xvY2tlciA9IG5ldyBDbG9ja2VyKHRoaXMudGltZSkub24oJ3RpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBfdGhpczIudXBkYXRlKGV2ZW50KTsKCiAgICAgICAgX3RoaXMyLiRlbWl0KCdvbi10aWNrJywgZXZlbnQpOwogICAgICB9KS5vbignZmluaXNoJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi50aW1lU3RyaW5nID0gJzAwOjAwOjAwJzsKCiAgICAgICAgX3RoaXMyLiRlbWl0KCdvbi1maW5pc2gnKTsKICAgICAgfSkuc3RhcnQoKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShldmVudCkgewogICAgICBpZiAodGhpcy5zaG93VGltZVN0cmluZykgewogICAgICAgIHRoaXMudGltZVN0cmluZyA9IGV2ZW50LnN0cmZ0aW1lKHRoaXMuZm9ybWF0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgc3RyaW5nID0gZXZlbnQuc3RyZnRpbWUodGhpcy5zbG90U3RyaW5nKTsKCiAgICAgICAgaWYgKHN0cmluZyAhPT0gdGhpcy5jYWNoZVNsb3RTdHJpbmcpIHsKICAgICAgICAgIHRoaXMuc2xvdC5pbm5lckhUTUwgPSB0aGlzLmNhY2hlU2xvdFN0cmluZyA9IHN0cmluZzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIHByb3BzOiB7CiAgICB0aW1lOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgZm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogZm9ybWF0CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdGltZTogZnVuY3Rpb24gdGltZSgpIHsKICAgICAgdGhpcy5jbG9ja2VyICYmIHRoaXMuY2xvY2tlci5yZW1vdmUoKTsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93VGltZVN0cmluZzogdHJ1ZSwKICAgICAgdGltZVN0cmluZzogJycsCiAgICAgIHNsb3RTdHJpbmc6ICcnLAogICAgICBjYWNoZVNsb3RTdHJpbmc6ICcnCiAgICB9OwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLmNsb2NrZXIpIHsKICAgICAgdGhpcy5jbG9ja2VyLnJlbW92ZSgpOwogICAgICB0aGlzLmNsb2NrZXIgPSBudWxsOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;AAQA,OAAA,OAAA,MAAA,WAAA;AAEA,IAAA,MAAA,GAAA,sBAAA;;AAEA,IAAA,OAAA,QAAA,KAAA,WAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,KAAA,aAAA,EAAA;AACA,IAAA,OAAA,CAAA,IAAA,CAAA,qDAAA;AACA;AACA,CAJA,MAIA;AACA,MAAA,QAAA,KAAA,IAAA,EAAA;AAAA;AACA,IAAA,MAAA,GAAA,qBAAA;AACA,GAFA,MAEA,IAAA,QAAA,KAAA,OAAA,EAAA;AAAA;AACA,IAAA,MAAA,GAAA,sBAAA;AACA;AACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,OAFA,qBAEA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,aAAA,CAAA,kBAAA,CAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,IAAA,CAAA,SAAA;;AACA,UAAA,KAAA,CAAA,UAAA,KAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,KAAA;AACA;;AACA,MAAA,KAAA,CAAA,MAAA;AACA,KAPA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,CAAA,KAAA,IAAA,EAAA;AACA,WAAA,OAAA,GAAA,IAAA,OAAA,CAAA,KAAA,IAAA,EACA,EADA,CACA,MADA,EACA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA;AACA,OAJA,EAKA,EALA,CAKA,QALA,EAKA,YAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,UAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,WAAA;AACA,OARA,EASA,KATA,EAAA;AAUA,KAbA;AAcA,IAAA,MAdA,kBAcA,KAdA,EAcA;AACA,UAAA,KAAA,cAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA,CAAA,QAAA,CAAA,KAAA,MAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,KAAA,UAAA,CAAA;;AACA,YAAA,MAAA,KAAA,KAAA,eAAA,EAAA;AACA,eAAA,IAAA,CAAA,SAAA,GAAA,KAAA,eAAA,GAAA,MAAA;AACA;AACA;AACA;AAvBA,GAZA;AAqCA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AAFA,GArCA;AA4CA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,WAAA,OAAA,IAAA,KAAA,OAAA,CAAA,MAAA,EAAA;AACA,WAAA,MAAA;AACA;AAJA,GA5CA;AAkDA,EAAA,IAlDA,kBAkDA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,eAAA,EAAA;AAJA,KAAA;AAMA,GAzDA;AA0DA,EAAA,aA1DA,2BA0DA;AACA,QAAA,KAAA,OAAA,EAAA;AACA,WAAA,OAAA,CAAA,MAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA;AACA;AA/DA,CAAA","sourcesContent":["<template>\r\n  <div style=\"display:inline-block;\">\r\n    <span v-if=\"showTimeString\">{{timeString}}</span>\r\n    <div class=\"vux-clocker-tpl\"><slot></slot></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Clocker from './clocker'\r\n\r\nlet format = '%D 天 %H 小时 %M 分 %S 秒'\r\n\r\nif (typeof V_LOCALE === 'undefined') {\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.warn('[VUX warn] 抱歉，clocker 组件需要升级 vux-loader 到最新版本才能正常使用')\r\n  }\r\n} else {\r\n  if (V_LOCALE === 'en') { // eslint-disable-line\r\n    format = '%D d %H h %M m %S s'\r\n  } else if (V_LOCALE === 'zh-CN') { // eslint-disable-line\r\n    format = '%D 天 %H 小时 %M 分 %S 秒'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'clocker',\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.slot = this.$el.querySelector('.vux-clocker-tpl')\r\n      this.slotString = this.slot.innerHTML\r\n      if (this.slotString !== '') {\r\n        this.showTimeString = false\r\n      }\r\n      this.render()\r\n    })\r\n  },\r\n  methods: {\r\n    render () {\r\n      if (!this.time) return\r\n      this.clocker = new Clocker(this.time)\r\n      .on('tick', event => {\r\n        this.update(event)\r\n        this.$emit('on-tick', event)\r\n      })\r\n      .on('finish', () => {\r\n        this.timeString = '00:00:00'\r\n        this.$emit('on-finish')\r\n      })\r\n      .start()\r\n    },\r\n    update (event) {\r\n      if (this.showTimeString) {\r\n        this.timeString = event.strftime(this.format)\r\n      } else {\r\n        let string = event.strftime(this.slotString)\r\n        if (string !== this.cacheSlotString) {\r\n          this.slot.innerHTML = this.cacheSlotString = string\r\n        }\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    time: [String, Number],\r\n    format: {\r\n      type: String,\r\n      default: format\r\n    }\r\n  },\r\n  watch: {\r\n    time () {\r\n      this.clocker && this.clocker.remove()\r\n      this.render()\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showTimeString: true,\r\n      timeString: '',\r\n      slotString: '',\r\n      cacheSlotString: ''\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    if (this.clocker) {\r\n      this.clocker.remove()\r\n      this.clocker = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"node_modules/vux/src/components/clocker"}]}