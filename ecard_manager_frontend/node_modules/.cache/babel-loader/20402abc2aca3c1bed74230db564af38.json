{"remainingRequest":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vux/src/components/x-img/index.vue","mtime":1635777723566},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/babel.config.js","mtime":1635402255166},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/babel-loader/lib/index.js","mtime":1635231739480},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1635231739476},{"path":"/Users/zrun/vueSpace/ecard_manager_frontend/node_modules/vue-loader/lib/index.js","mtime":1635231911752}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCmltcG9ydCBCbGF6eSBmcm9tICd2dXgtYmxhenknOwppbXBvcnQgeyBpc1N1cHBvcnRlZCwgZGV0ZWN0V2VicCB9IGZyb20gJy4uLy4uL2xpYnMvd2VicC1zdXBwb3J0JzsKaW1wb3J0IHV1aWRNaXhpbiBmcm9tICcuLi8uLi9saWJzL21peGluX3V1aWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3gtaW1nJywKICBtaXhpbnM6IFt1dWlkTWl4aW5dLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiR2dXggJiYgdGhpcy4kdnV4LmJ1cyAmJiB0aGlzLiR2dXguYnVzLiRvbigndnV4OmFmdGVyLXZpZXctZW50ZXInLCB0aGlzLmluaXQpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYmxhenkgJiYgdGhpcy5ibGF6eS5kZXN0cm95KCk7CiAgICAgIHRoaXMuJGVsLnNyYyA9IHRoaXMuZGVmYXVsdFNyYzsKICAgICAgdGhpcy4kZWwuY2xhc3NOYW1lID0gdGhpcy4kZWwuY2xhc3NOYW1lLnJlcGxhY2UoJ2ItbG9hZGVkJywgJycpOwogICAgICB0aGlzLmJsYXp5ID0gbmV3IEJsYXp5KHsKICAgICAgICBzY3JvbGxlcjogdGhpcy5zY3JvbGxlciwKICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLAogICAgICAgIHNlbGVjdG9yOiAiI3Z1eC14aW1nLSIuY29uY2F0KHRoaXMudXVpZCksCiAgICAgICAgb2Zmc2V0OiBfdGhpcy5vZmZzZXQsCiAgICAgICAgZXJyb3JDbGFzczogX3RoaXMuZXJyb3JDbGFzcywKICAgICAgICBzdWNjZXNzQ2xhc3M6IF90aGlzLnN1Y2Nlc3NDbGFzcywKICAgICAgICBzZXBhcmF0b3I6IF90aGlzLnNlcGFyYXRvciwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGVsZSkgewogICAgICAgICAgX3RoaXMuJGVtaXQoJ29uLXN1Y2Nlc3MnLCBfdGhpcy5zcmMsIGVsZSk7CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoZWxlLCBtc2cpIHsKICAgICAgICAgIF90aGlzLiRlbWl0KCdvbi1lcnJvcicsIF90aGlzLnNyYywgZWxlLCBtc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy4kZWwuc2V0QXR0cmlidXRlKCdpZCcsICJ2dXgteGltZy0iLmNvbmNhdCh0aGlzLnV1aWQpKTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmluaXQoKTsKICAgICAgfSwgX3RoaXMyLmRlbGF5KTsKICAgIH0pOwogICAgZGV0ZWN0V2VicCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRTcmM6IGZ1bmN0aW9uIGN1cnJlbnRTcmMoKSB7CiAgICAgIGlmIChpc1N1cHBvcnRlZCgpICYmIHRoaXMud2VicFNyYykgewogICAgICAgIHJldHVybiB0aGlzLndlYnBTcmM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNyYzsKICAgIH0KICB9LAogIHByb3BzOiB7CiAgICBzcmM6IFN0cmluZywKICAgIHdlYnBTcmM6IFN0cmluZywKICAgIGRlZmF1bHRTcmM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nCiAgICB9LAogICAgZXJyb3JDbGFzczogU3RyaW5nLAogICAgc3VjY2Vzc0NsYXNzOiBTdHJpbmcsCiAgICBvZmZzZXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICBzY3JvbGxlcjogT2JqZWN0LAogICAgY29udGFpbmVyOiBTdHJpbmcsCiAgICBkZWxheTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBzZXBhcmF0b3I6IFN0cmluZwogIH0sCiAgd2F0Y2g6IHsKICAgIHNyYzogZnVuY3Rpb24gc3JjKHZhbCkgewogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmJsYXp5ICYmIHRoaXMuYmxhenkuZGVzdHJveSgpOwogICAgdGhpcy5ibGF6eSA9IG51bGw7CiAgICB0aGlzLiR2dXggJiYgdGhpcy4kdnV4LmJ1cyAmJiB0aGlzLiR2dXguYnVzLiRvZmYoJ3Z1eDphZnRlci12aWV3LWVudGVyJywgdGhpcy5pbml0KTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <img :src=\"defaultSrc\" :data-src=\"currentSrc\" class=\"vux-x-img\"/>\r\n</template>\r\n\r\n<script>\r\nimport Blazy from 'vux-blazy'\r\nimport { isSupported, detectWebp } from '../../libs/webp-support'\r\nimport uuidMixin from '../../libs/mixin_uuid'\r\n\r\nexport default {\r\n  name: 'x-img',\r\n  mixins: [uuidMixin],\r\n  created () {\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$on('vux:after-view-enter', this.init)\r\n  },\r\n  methods: {\r\n    init () {\r\n      const _this = this\r\n\r\n      this.blazy && this.blazy.destroy()\r\n      this.$el.src = this.defaultSrc\r\n      this.$el.className = this.$el.className.replace('b-loaded', '')\r\n\r\n      this.blazy = new Blazy({\r\n        scroller: this.scroller,\r\n        container: this.container,\r\n        selector: `#vux-ximg-${this.uuid}`,\r\n        offset: _this.offset,\r\n        errorClass: _this.errorClass,\r\n        successClass: _this.successClass,\r\n        separator: _this.separator,\r\n        success (ele) {\r\n          _this.$emit('on-success', _this.src, ele)\r\n        },\r\n        error (ele, msg) {\r\n          _this.$emit('on-error', _this.src, ele, msg)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$el.setAttribute('id', `vux-ximg-${this.uuid}`)\r\n    this.$nextTick(() => {\r\n      setTimeout(() => {\r\n        this.init()\r\n      }, this.delay)\r\n    })\r\n    detectWebp()\r\n  },\r\n  computed: {\r\n    currentSrc () {\r\n      if (isSupported() && this.webpSrc) {\r\n        return this.webpSrc\r\n      }\r\n      return this.src\r\n    }\r\n  },\r\n  props: {\r\n    src: String,\r\n    webpSrc: String,\r\n    defaultSrc: {\r\n      type: String,\r\n      default: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\r\n    },\r\n    errorClass: String,\r\n    successClass: String,\r\n    offset: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    scroller: Object,\r\n    container: String,\r\n    delay: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    separator: String\r\n  },\r\n  watch: {\r\n    src (val) {\r\n      this.init()\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.blazy && this.blazy.destroy()\r\n    this.blazy = null\r\n    this.$vux && this.$vux.bus && this.$vux.bus.$off('vux:after-view-enter', this.init)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.vux-x-img, .b-lazy {\r\n  transition: opacity 500ms ease-in-out;\r\n  max-width: 100%;\r\n}\r\n.b-lazy {\r\n  opacity: 0;\r\n}\r\n\r\n.b-lazy.b-loaded {\r\n  opacity: 1;\r\n}\r\n</style>\r\n"],"sourceRoot":"node_modules/vux/src/components/x-img"}]}