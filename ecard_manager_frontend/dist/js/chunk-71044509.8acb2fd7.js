(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71044509"],{"0290":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-wrap"},[s("div",{staticClass:"title"},[e._v("电子学生证后台管理系统")]),s("div",{staticClass:"title title-english"},[e._v("SCHOOL BACKGROUND MANAGEMENT SYSTEM")]),s("div",{staticClass:"bg"},[s("div",{staticClass:"ms-login"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm ms-content",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"70px"},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-form-item",{attrs:{label:"账号：",prop:"username"}},[s("el-input",{attrs:{autocomplete:"on"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{type:"password",autocomplete:"on"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),s("div",{staticClass:"login-btn"},[s("el-button",{attrs:{type:"primary","native-type":"submit",disabled:e.disabledbtn},on:{click:function(t){return e.submitForm("ruleForm",e.loginUrl,e.ruleForm)}}},[e._v("登录")])],1)],1)],1)]),s("div",{staticClass:"wzg-foot"})])},o=[],a={name:"login",data:function(){return{Request:this.$api.api.prototype,Common:this.$common.common.prototype,propListUrl:"",loginUrl:"",disabledbtn:!1,ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){this.loginUrl=this.Request.getLoginUrl(),this.initData()},methods:{initData:function(){this.ruleForm.username=localStorage.getItem("username")},submitForm:function(e,t,s){var r=this;this.disabledbtn=!0,this.$refs[e].validate((function(e){if(!e)return r.disabledbtn=!1,!1;r.Common.commonAxios(t,"post",s,r.loginInfo)}))},loginInfo:function(e){if(this.disabledbtn=!1,200===e.status){var t=e.data;200===t.code?(this.$message.success("登录成功"),localStorage.setItem("username",this.ruleForm.username),localStorage.setItem("token",t.data.token),this.$router.push("/dashboard")):this.$message.error(t.message+"，请检查类型，账号，密码是否一致")}else this.$message.error("服务器繁忙，请稍后再试")}}},i=a,n=(s("f37b"),s("2877")),l=Object(n["a"])(i,r,o,!1,null,"a71d383e",null);t["default"]=l.exports},"42b5":function(e,t,s){},f37b:function(e,t,s){"use strict";s("42b5")}}]);
//# sourceMappingURL=chunk-71044509.8acb2fd7.js.map